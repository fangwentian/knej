I$(8,function(s,n,e,t){var i=Function.prototype;i._$aop=function(i,n){var n=n||e,i=i||e,s=this;return function(){var e={args:t.slice.call(arguments,0)};i(e);if(!e.stopped){e.value=s.apply(this,e.args);n(e)}return e.value}};i._$bind=function(){var e=arguments,i=arguments[0],n=this;return function(){var s=t.slice.call(e,1);t.push.apply(s,arguments);return n.apply(i||null,s)}};i._$bind2=function(){var e=arguments,i=t.shift.call(e),n=this;return function(){t.push.apply(arguments,e);return n.apply(i||null,arguments)}};var i=String.prototype;if(!i.trim)i.trim=function(){var t=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(t,"")}}();if(!this.console)this.console={log:e,error:e};if(!0){NEJ=this.NEJ||{};NEJ.copy=function(e,t){e=e||{};t=t||n;for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i];return e};NEJ=NEJ.copy(NEJ,{O:n,R:t,F:e,P:function(n){if(!n||!n.length)return null;for(var t=window,e=n.split("."),s=e.length,i="window"==e[0]?1:0;s>i;t=t[e[i]]=t[e[i]]||{},i++);return t}});return NEJ}return s});I$(10,function(t,i,n,e){t.__forIn=function(t,n,a){if(!t||!n)return null;for(var e,s,o=Object.keys(t),i=0,r=o.length;r>i;i++){e=o[i];s=n.call(a||null,t[e],e,t);if(s)return e}return null};t.__forEach=function(t,e,i){t.forEach(e,i)};t.__col2array=function(t){return e.slice.call(t,0)};t.__str2time=function(t){return Date.parse(t)};return t});I$(11,function(l,n,p,u,d){var a=this.navigator.platform,i=this.navigator.userAgent,e={mac:a,win:a,linux:a,ipad:i,ipod:i,iphone:a,android:i};n._$IS=e;for(var r in e)e[r]=new RegExp(r,"i").test(e[r]);e.ios=e.ipad||e.iphone||e.ipod;e.tablet=e.ipad;e.desktop=e.mac||e.win||e.linux&&!e.android;n._$is=function(t){return!!e[t]};var t={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};n._$KERNEL=t;if(/msie\s+(.*?);/i.test(i)||/trident\/.+rv:([\d\.]+)/i.test(i)){t.engine="trident";t.browser="ie";t.version=RegExp.$1;t.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var s={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};t.release=s[document.documentMode]||s[parseInt(t.version)]}else if(/webkit\/?([\d.]+?)(?=\s|$)/i.test(i)){t.engine="webkit";t.release=RegExp.$1||"";t.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}}else if(/rv\:(.*?)\)\s+gecko\//i.test(i)){t.engine="gecko";t.release=RegExp.$1||"";t.browser="firefox";t.prefix={css:"Moz",pro:"moz",clz:"Moz"};if(/firefox\/(.*?)(?=\s|$)/i.test(i))t.version=RegExp.$1||""}else if(/presto\/(.*?)\s/i.test(i)){t.engine="presto";t.release=RegExp.$1||"";t.browser="opera";t.prefix={css:"O",pro:"o",clz:"O"};if(/version\/(.*?)(?=\s|$)/i.test(i))t.version=RegExp.$1||""}if("unknow"==t.browser)for(var h,s=["chrome","maxthon","safari"],o=0,c=s.length;c>o;o++){h="safari"==s[o]?"version":s[o];if(new RegExp(h+"/(.*?)(?=\\s|$)","i").test(i)){t.browser=s[o];t.version=RegExp.$1.trim();break}}n._$SUPPORT={};n._$support=function(t){return!!n._$SUPPORT[t]};if(!0)l.copy(l.P("nej.p"),n);return n},8);I$(9,function(t,i,n,s,o,a){var e=(!0?NEJ.P("nej.p"):arguments[1])._$KERNEL;if("trident"==e.engine&&e.release<="4.0")!function(){t.__forIn=function(t,i,s){if(t&&i){var n;for(var e in t)if(t.hasOwnProperty(e)){n=i.call(s,t[e],e,t);if(n)return e}else;}};t.__forEach=function(e,i,n){for(var t=0,s=e.length;s>t;t++)i.call(n,e[t],t,e)};t.__col2array=function(t){var i=[];if(t&&t.length)for(var e=0,n=t.length;n>e;e++)i.push(t[e]);return i};t.__str2time=function(){var t=/-/g;return function(e){return Date.parse(e.replace(t,"/").split(".")[0])}}()}();return t},10,11);I$(1,function(t,i,e,n,s,o){e._$klass=function(){var t=function(){return"[object Function]"!==n.toString.call(arguments[0])},e=function(n,t){for(;t;){var s=t.prototype,e=i.__forIn(s,function(t){return n===t});if(null!=e)return{name:e,klass:t};t=t._$super}};return function(){var n=function(){return this.__init.apply(this,arguments)};n.prototype.__init=s;n._$extend=function(a,h){if(!t(a)){var c=this;if(h!==!1)i.__forIn(a,function(e,i){if(!t(e))c[i]=e});this._$super=a;var r=function(){};r.prototype=a.prototype;this.prototype=new r;this.prototype.constructor=this;var s=[],o={},l=function(i,n){var t=e(i,n);if(t){if(s[s.length-1]!=t.name)s.push(t.name);o[t.name]=t.klass._$super;return t.name}};this.prototype.__super=function(){var t=s[s.length-1],e=arguments.callee.caller;if(!t)t=l(e,this.constructor);else{var i=o[t].prototype;if(!i.hasOwnProperty(e)||e!=i[t])t=l(e,this.constructor);else o[t]=o[t]._$super}var n=o[t].prototype[t].apply(this,arguments);if(t==s[s.length-1]){s.pop();delete o[t]}return n};if(!0){var n=this.prototype;n.__supInit=n.__super;n.__supReset=n.__super;n.__supDestroy=n.__super;n.__supInitNode=n.__super;n.__supDoBuild=n.__super;n.__supOnShow=n.__super;n.__supOnHide=n.__super;n.__supOnRefresh=n.__super;this._$supro=a.prototype}return this.prototype}};return n}}();if(!0){t.C=e._$klass;t.copy(this.NEJ,t)}return e},8,9);I$(2,function(e,n,t,s,o,a){var i=function(e,t){try{t=t.toLowerCase();if(null===e)return"null"==t;if(void 0===e)return"undefined"==t;else return s.toString.call(e).toLowerCase()=="[object "+t+"]"}catch(i){return!1}};t._$isFunction=function(t){return i(t,"function")};t._$isString=function(t){return i(t,"string")};t._$isNumber=function(t){return i(t,"number")};t._$isBoolean=function(t){return i(t,"boolean")};t._$isDate=function(t){return i(t,"date")};t._$isArray=function(t){return i(t,"array")};t._$isObject=function(t){return i(t,"object")};t._$length=function(){var t=/[^\x00-\xff]/g;return function(e){return(""+(e||"")).replace(t,"**").length}}();t._$loop=function(e,i,s){if(t._$isObject(e)&&t._$isFunction(i))return n.__forIn.apply(n,arguments);else return null};t._$indexOf=function(n,e){var s=t._$isFunction(e)?e:function(t){return t===e},i=t._$forIn(n,s);return null!=i?i:-1};t._$binSearch=function(){var e,t=function(n,s,o){if(s>o)return-1;var i=Math.ceil((s+o)/2),a=e(n[i],i,n);if(0==a)return i;if(0>a)return t(n,s,i-1);else return t(n,i+1,o)};return function(i,n){e=n||o;return t(i,0,i.length-1)}}();t._$reverseEach=function(e,n,s){if(e&&e.length&&t._$isFunction(n))for(var i=e.length-1;i>=0;i--)if(n.call(s,e[i],i,e))return i;return null};t._$forEach=function(e,i,s){if(e&&e.length&&t._$isFunction(i))if(!e.forEach)t._$forIn.apply(t,arguments);else n.__forEach(e,i,s)};t._$forIn=function(e,n,s){if(!e||!t._$isFunction(n))return null;if(t._$isNumber(e.length)){for(var i=0,o=e.length;o>i;i++)if(n.call(s,e[i],i,e))return i}else if(t._$isObject(e))return t._$loop(e,n,s);return null};t._$encode=function(e,t){t=""+t;if(!e||!t)return t||"";else return t.replace(e.r,function(t){var i=e[!e.i?t.toLowerCase():t];return null!=i?i:t})};t._$escape=function(){var e=/<br\/?>$/,i={r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""};return function(n){n=t._$encode(i,n);return n.replace(e,"<br/><br/>")}}();t._$unescape=function(){var e={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(i){return t._$encode(e,i)}}();t._$format=function(){var e={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},n=["上午","下午"],s=["A.M.","P.M."],o=["日","一","二","三","四","五","六"],a=["一","二","三","四","五","六","七","八","九","十","十一","十二"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],i=function(t){t=parseInt(t)||0;return(10>t?"0":"")+t},l=function(t){return 12>t?0:1};return function(h,c,u){if(!h||!c)return"";h=t._$var2date(h);e.yyyy=h.getFullYear();e.yy=(""+e.yyyy).substr(2);e.M=h.getMonth()+1;e.MM=i(e.M);e.eM=r[e.M-1];e.cM=a[e.M-1];e.d=h.getDate();e.dd=i(e.d);e.H=h.getHours();e.HH=i(e.H);e.m=h.getMinutes();e.mm=i(e.m);e.s=h.getSeconds();e.ss=i(e.s);e.ms=h.getMilliseconds();e.w=o[h.getDay()];var d=l(e.H);e.ct=n[d];e.et=s[d];if(u)e.H=e.H%12;return t._$encode(e,c)}}();t._$var2date=function(e){var i=e;if(t._$isString(e))i=new Date(n.__str2time(e));if(!t._$isDate(i))i=new Date(e);return i};t._$fixed=function(t,e){return parseFloat(new Number(t).toFixed(e))};t._$absolute=function(){var s=/([^\/:])\/.*$/,o=/\/[^\/]+$/,a=/[#\?]/,t=location.href.split(/[?#]/)[0],e=document.createElement("a"),i=function(t){return(t||"").indexOf("://")>0},n=function(t){return(t||"").split(a)[0].replace(o,"/")},r=function(t,e){if(0==t.indexOf("/"))return e.replace(s,"$1")+t;else return n(e)+t};t=n(t);return function(n,s){n=(n||"").trim();if(!i(s))s=t;if(!n)return s;if(i(n))return n;n=r(n,s);e.href=n;n=e.href;return i(n)?n:e.getAttribute("href",4)}}();t._$url2origin=function(){var t=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(e){if(t.test(e||""))return RegExp.$1.toLowerCase();else return""}}();t._$string2object=function(i,n){var e={};t._$forEach((i||"").split(n),function(n){var t=n.split("=");if(t&&t.length){var i=t.shift();if(i)e[decodeURIComponent(i)]=decodeURIComponent(t.join("="))}});return e};t._$object2string=function(e,n,s){if(!e)return"";var i=[];t._$loop(e,function(e,n){if(!t._$isFunction(e)){if(t._$isDate(e))e=e.getTime();else if(t._$isArray(e))e=e.join(",");else if(t._$isObject(e))e=JSON.stringify(e);if(s)e=encodeURIComponent(e);i.push(encodeURIComponent(n)+"="+e)}});return i.join(n||",")};t._$query2object=function(e){return t._$string2object(e,"&")};t._$object2query=function(e){return t._$object2string(e,"&",!0)};t._$object2array=function(t){return n.__col2array(t)};t._$array2object=function(n,e){var i={};t._$forEach(n,function(t){var n=t;if(e)n=e(t);if(null!=n)i[n]=t});return i};t._$number2string=function(t,i){var n=(""+t).length,s=Math.max(1,parseInt(i)||0),e=s-n;if(e>0)t=new Array(e+1).join("0")+t;return""+t};t._$safeDelete=function(i,e){if(!t._$isArray(e))try{delete i[e]}catch(n){i[e]=void 0}else t._$forEach(e,function(e){t._$safeDelete(i,e)})};t._$randString=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(e){e=e||10;for(var i,n=[],s=0;e>s;++s){i=Math.floor(Math.random()*t.length);n.push(t.charAt(i))}return n.join("")}}();t._$randNumber=function(t,e){return Math.floor(Math.random()*(e-t)+t);

};t._$randNumberString=function(e){e=Math.max(0,Math.min(e||8,30));var i=Math.pow(10,e-1),n=10*i;return t._$randNumber(i,n).toString()};t._$uniqueID=function(){var t=+new Date;return function(){return""+t++}}();t._$query=function(t,n){t=t||s;for(var i=(n||"").split("."),e=0,o=i.length;o>e;e++){t=t[i[e]];if(!t)break}return t};t._$merge=function(){var e=arguments.length-1,i=arguments[e];if(t._$isFunction(i))e-=1;else i=o;for(var s=arguments[0]||{},n=1;e>=n;n++)t._$loop(arguments[n],function(t,e){if(!i(t,e))s[e]=t});return s};t._$fetch=function(e,i){if(i)t._$loop(e,function(s,t,n){var e=i[t];if(null!=e)n[t]=e});return e};t._$hasProperty=function(e){if(!e)return!1;if(null!=e.length)return e.length>0;var i=0;t._$loop(e,function(){i++;return i>0});return i>0};if(!0){e.Q=t._$query;e.X=t._$merge;e.EX=t._$fetch;e.copy(this.NEJ,e);e.copy(e.P("nej.u"),t)}return t},8,9);I$(18,function(o,n,t,e,a,r){var i={};t.__url2host=function(){var t=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(e){e=e||"";if(t.test(e))return RegExp.$1;else return location.protocol+"//"+location.host}}();t.__set=function(t,e){i[t]=e};t.__get=function(t){return i[t]};var s=function(){var s={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"},"upload.image.swf":{name:"uploadimage",dft:"nej_upload_image.swf"}},i=function(e){var n={};if(!e||!e.length)return n;for(var i,s=0,o=e.length;o>s;s++){i=e[s];if(i.indexOf("://")>0)n[t.__url2host(i)]=i}return n};return function(a){t.__set("root",a.root||"/res/");var r=t.__get("root");n._$loop(s,function(e,i,n){t.__set(i,a[e.name]||r+e.dft)});var o=a.p_csrf;if(o===!0)o={cookie:"AntiCSRF",param:"AntiCSRF"};o=o||e;t.__set("csrf",{param:o.param||"",cookie:o.cookie||""});t.__set("frames",i(a.p_frame));t.__set("flashs",i(a.p_flash))}}();s(this.NEJ_CONF||e);return t},8,2);I$(17,function(t,n,s,i,o,a){var e=(!0?NEJ.P("nej.p"):arguments[1])._$KERNEL;if("trident"==e.engine)!function(){t.__set("storage.swf",(this.NEJ_CONF||i).storage||t.__get("root")+"nej_storage.swf")}();if("trident"==e.engine&&e.release<="3.0")!function(){t.__set("blank.png",(this.NEJ_CONF||i).blank||t.__get("root")+"nej_blank.gif")}();return t},18,11);I$(16,function(i,e,t,n,s,o){t._$getFrameProxy=function(n){var i=e.__url2host(n);return t._$get("frames")[i]||i+"/res/nej_proxy_frame.html"};t._$getFlashProxy=function(i){return t._$get("flashs")[e.__url2host(i)]};t._$get=function(t){return e.__get(t)};if(!0)i.copy(i.P("nej.c"),t);return t},8,17);I$(14,function(i,n,t,s,o,a){var e=+new Date;t._$CODE_NOTFUND=1e4-e;t._$CODE_NOTASGN=10001-e;t._$CODE_NOTSPOT=10002-e;t._$CODE_TIMEOUT=10003-e;t._$CODE_ERREVAL=10004-e;t._$CODE_ERRCABK=10005-e;t._$CODE_ERRSERV=10006-e;t._$CODE_ERRABRT=10007-e;t._$HEAD_CT="Content-Type";t._$HEAD_CT_PLAN="text/plain";t._$HEAD_CT_FILE="multipart/form-data";t._$HEAD_CT_FORM="application/x-www-form-urlencoded";t._$BLANK_IMAGE=n._$get("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";if(!0)i.copy(i.P("nej.g"),t);return t},8,16);I$(12,function(i,t){var e={};t._$merge=function(t){i._$merge(e,t)};t._$dump=function(){return e};t._$clear=function(){e={}};return t},2);I$(19,function(e,s,t,o,a,r){t.__getElementById=function(t,e){if(t.getElementById)return t.getElementById(""+e);try{return t.querySelector("#"+e)}catch(i){return null}};t.__getChildren=function(t){return e._$object2array(t.children)};t.__getElementsByClassName=function(t,i){return e._$object2array(t.getElementsByClassName(i))};t.__nextSibling=function(t){return t.nextElementSibling};t.__previousSibling=function(t){return t.previousElementSibling};t.__dataset=function(t,e,i){t.dataset=t.dataset||{};if(void 0!==i)t.dataset[e]=i;return t.dataset[e]};t.__getAttribute=function(t,e){return t.getAttribute(e)};t.__serializeDOM2XML=function(t){return(new XMLSerializer).serializeToString(t)||""};t.__parseDOMFromXML=function(e){var t=(new DOMParser).parseFromString(e,"text/xml").documentElement;return"parsererror"==t.nodeName?null:t};t.__fullScreen=function(){};t.__mask=function(){};t.__unmask=function(){};var i=s._$SUPPORT,n=s._$KERNEL.prefix;t.__isMatchedName=function(){var t=/^([a-z]+?)[A-Z]/;return function(e,i){return!!(i[e]||t.test(e)&&i[RegExp.$1])}}();t.__isNeedPrefixed=function(){var i=e._$array2object(["animation","transform","transition","appearance","userSelect","box","flex","column"]);return function(e){return t.__isMatchedName(e,i)}}();t.__fmtStyleName=function(){var t=/-([a-z])/g;return function(e){e=e||"";return e.replace(t,function(e,t){return t.toUpperCase()})}}();t.__getStyleName=function(){var e=/^[a-z]/,i=n.css||"";return function(n){n=t.__fmtStyleName(n);if(!t.__isNeedPrefixed(n))return n;else return i+n.replace(e,function(t){return t.toUpperCase()})}}();t.__getStyleValue=function(e,i){var n=window.getComputedStyle(e,null);return n[t.__getStyleName(i)]||""};t.__setStyleValue=function(e,i,n){e.style[t.__getStyleName(i)]=n};t.__getCSSMatrix=function(){var t=/\((.*?)\)/,i=/\s*,\s*/,s=["CSSMatrix",n.clz+"CSSMatrix"],o=["m11","m12","m21","m22","m41","m42"],a=function(s){var n={};if(t.test(s||""))e._$forEach(RegExp.$1.split(i),function(t,e){n[o[e]]=t});return n};return function(i){var t;e._$forIn(s,function(e){if(this[e]){t=new this[e](i||"");return!0}});return!t?a(i):t}}();t.__injectCSSText=function(t,e){t.textContent=e};t.__processCSSText=function(){var s=/\$<(.*?)>/gi,a=/\{(.*?)\}/g,r="-"+n.css.toLowerCase()+"-",l={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})",matrix:"matrix({m11},{m12},{m21},{m22},{m41},{m42})"},h={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})",matrix:"matrix3d({m11},{m12},{m13},{m14},{m21},{m22},{m23},{m24},{m31},{m32},{m33|1},{m34},{m41},{m42},{m43},{m44|1})"},c=function(e,t){t=t||o;return e.replace(a,function(n,i){var e=i.split("|");return t[e[0]]||e[1]||"0"})};t.__processTransformValue=function(e,n){var t=(!i.css3d?l:h)[e.trim()];if(t)return c(t,n);else return""};return function(i){if(!i.replace)return i;else return i.replace(s,function(s,i){if("vendor"===i)return r;var n=(i||"").split("|");return t.__processTransformValue(n[0],e._$query2object(n[1]))||s})}}();t.__appendCSSText=function(i,n){var t=i.sheet,e=t.cssRules.length;t.insertRule(n,e);return t.cssRules[e]};t.__getClassList=function(){var t=/\s+/;return function(e){e=(e||"").trim();return e?e.split(t):null}}();t.__processClassName=function(i,n,s){if("replace"!=n)e._$forEach(t.__getClassList(s),function(t){i.classList[n](t)});else{t.__processClassName(i,"remove",s);t.__processClassName(i,"add",arguments[3])}};t.__hasClassName=function(n,s){var i=n.classList;if(!i||!i.length)return!1;else return e._$indexOf(t.__getClassList(s),function(t){return i.contains(t)})>=0};!function(){if(!i.css3d){var e=t.__getCSSMatrix();i.css3d=!!e&&null!=e.m41}}();return t},2,11);I$(15,function(t,n,i,s,o,a,r){var e=(!0?NEJ.P("nej.p"):arguments[1])._$KERNEL;if("trident"==e.engine)!function(){t.__getChildren=t.__getChildren._$aop(function(t){var e=t.args[0];if(!e.children){t.stopped=!0;var n=[];i._$forEach(e.childNodes,function(t){if(1==t.nodeType)n.push(t)});t.value=n}})}();if("trident"==e.engine&&e.release<="6.0")!function(){t.__dataset=function(){var t={},e="data-",n=/\-(.{1})/gi,s=function(s){var o=s.id;if(!t[o]){var a={};i._$forEach(s.attributes,function(i){var t=i.nodeName;if(0==t.indexOf(e)){t=t.replace(e,"").replace(n,function(e,t){return t.toUpperCase()});a[t]=i.nodeValue||""}});t[o]=a}};return function(e,i,n){s(e);var o=t[e.id];if(void 0!==n)o[i]=n;return o[i]}}()}();if("trident"==e.engine&&e.release<="5.0")!function(){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}t.__injectCSSText=function(){var e=30;return t.__injectCSSText._$aop(function(i){var t=i.args[0];if(t.styleSheet){i.stopped=!0;var n=i.args[1],s=document.styleSheets;if(s.length>e){t=s[e];n=t.cssText+n}else t=t.styleSheet;t.cssText=n}})}();t.__getClassRegExp=function(){var t=/\s+/g;return function(e){e=(e||"").trim().replace(t,"|");return!e?null:new RegExp("(\\s|^)(?:"+e+")(?=\\s|$)","g")}}();t.__processClassName=function(n,a,e){e=e||"";var s=n.className||"",o=t.__getClassRegExp(e+" "+(arguments[3]||"")),i=s;if(o)i=i.replace(o,"");switch(a){case"remove":e="";break;case"replace":e=arguments[3]||""}i=(i+" "+e).trim();if(s!=i)n.className=i};t.__hasClassName=function(i,n){var e=t.__getClassRegExp(n);if(e)return e.test(i.className||"");else return!1}}();if("trident"==e.engine&&e.release<="4.0")!function(){t.__getElementsByClassName=function(e,n){var t=[],s=new RegExp("(\\s|^)(?:"+n.replace(/\s+/g,"|")+")(?=\\s|$)");i._$forEach(e.getElementsByTagName("*"),function(e){if(s.test(e.className))t.push(e)});return t};t.__nextSibling=function(t){for(;t=t.nextSibling;)if(1==t.nodeType)return t};t.__previousSibling=function(t){for(;t=t.previousSibling;)if(1==t.nodeType)return t};t.__serializeDOM2XML=function(t){return"xml"in t?t.xml:t.outerHTML};t.__parseDOMFromXML=function(){var t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"],e=function(){try{for(var e=0,i=t.length;i>e;e++)return new ActiveXObject(t[e])}catch(n){return null}};return function(i){var t=e();if(t&&t.loadXML(i)&&!t.parseError.errorCode)return t.documentElement;else return null}}();t.__getStyleValue=function(){var e=/opacity\s*=\s*([\d]+)/i,i={opacity:function(i){var t=0;if(e.test(i.filter||""))t=parseFloat(RegExp.$1)/100;return t}};return function(o,e){var n=o.currentStyle,s=i[e];if(s)return s(n);else return n[t.__getStyleName(e)]||""}}();t.__setStyleValue=function(){var e={opacity:function(t,e){t.style.filter="alpha(opacity="+100*e+")"}};return function(i,n,s){var o=e[n];if(o)o(i,s);else i.style[t.__getStyleName(n)]=s}}();t.__appendCSSText=function(n,s){var t=n.styleSheet,e=t.rules.length,i=s.split(/[\{\}]/);

t.addRule(i[0],i[1],e);return t.rules[e]}}();if("trident"==e.engine&&e.release<="3.0")!function(){t.__getAttribute=t.__getAttribute._$aop(null,function(t){var e=t.args;if("maxlength"==e[1]&&2147483647==t.value)t.value=null})}();if("trident"==e.engine&&e.release<="2.0")!function(){t.__fullScreen=function(i,t){var e=i.style;e.width=t.scrollWidth+"px";e.height=t.scrollHeight+"px"};t.__mask=function(){var e={};t.__unmask=function(n){var i=n.id,t=e[i];if(t){delete e[i];t.parentNode.removeChild(t)}};return function(i){var s=i.id,t=e[s];if(!t){t=document.createElement("iframe");t.style.position="absolute";e[s]=t}var n=t.style,o=i.style;n.top=(parseInt(o.top)||0)+"px";n.left=(parseInt(o.left)||0)+"px";n.width=i.offsetWidth+"px";n.height=i.offsetHeight+"px";i.insertAdjacentElement("beforeBegin",t);return t}}()}();if("gecko"==e.engine)!function(){if(!n._$SUPPORT.css3d)n._$SUPPORT.css3d="MozPerspective"in document.body.style;if(!("insertAdjacentElement"in document.body))HTMLElement.prototype.insertAdjacentElement=function(e,t){if(e&&t)switch(e){case"beforeEnd":this.appendChild(t);return;case"beforeBegin":this.parentNode.insertBefore(t,this);return;case"afterBegin":!this.firstChild?this.appendChild(t):this.insertBefore(t,this.firstChild);return;case"afterEnd":!this.nextSibling?this.parentNode.appendChild(t):this.parentNode.insertBefore(t,this.nextSibling);return}};if(!("innerText"in document.body)){HTMLElement.prototype["__defineGetter__"]("innerText",function(){return this.textContent});HTMLElement.prototype["__defineSetter__"]("innerText",function(t){this.textContent=t})}}();return t},19,11,2);I$(4,function(l,d,n,a,u,i,t,c,_,p){var s,e={},h={},r={},o=document.createDocumentFragment();if(!document.head)document.head=document.getElementsByTagName("head")[0]||document.body;t._$id=e._$id=function(e){e=t._$get(e);if(e){var i=e.id?e.id:"auto-id-"+n._$uniqueID();if(!("id"in e))h[i]=e;e.id=i;if(!t._$get(i))r[i]=e;return i}};t._$get=function(t){var e=h[""+t];if(e)return e;if(!n._$isString(t)&&!n._$isNumber(t))return t;var e=document.getElementById(t);if(!e)e=i.__getElementById(o,t);if(e)delete r[t];return e||r[t]};t._$getChildren=e._$getChildren=function(e,s){e=t._$get(e);if(!e)return null;var o=i.__getChildren(e);if(s)n._$reverseEach(o,function(e,i,n){if(!t._$hasClassName(e,s))n.splice(i,1)});return o};t._$getByClassName=e._$getByClassName=function(e,n){e=t._$get(e);return!e?null:i.__getElementsByClassName(e,n.trim())};t._$getSibling=e._$getSibling=function(){var e=function(){return!0};return function(s,a){s=t._$get(s);if(!s)return null;var o={backward:!1,filter:e};if(n._$isFunction(a))o.filter=a;else o=n._$fetch(o,a);for(var r=o.backward?i.__previousSibling:i.__nextSibling;(s=r(s))&&!o.filter(s););return s}}();t._$getScrollViewPort=function(e){e=t._$get(e);if(e){e=e.parentNode;for(;e&&!(e.scrollHeight>e.clientHeight);)e=e.parentNode;if(e)return e}var i=document.body.scrollHeight,n=document.documentElement.scrollHeight;return n>=i?document.documentElement:document.body};t._$getPageBox=function(){var t=function(e){var t=0;n._$forEach(e,function(e){if(e)if(!t)t=e;else t=Math.min(t,e)});return t},e=[{main:"scroll",sub:["Top","Left"],func:function(t,e,i){return Math.max(e["scroll"+t],i["scroll"+t])}},{main:"client",sub:["Width","Height"],func:function(e,i,n){return t([i["client"+e],i["offset"+e],n["client"+e],n["offset"+e]])}},{main:"scroll",sub:["Width","Height"],func:function(t,e,i,n){return Math.max(n["client"+t],e["scroll"+t],i["scroll"+t])}}];return function(s){var t={},i=s||document,o=i.body,a=i.documentElement;n._$forEach(e,function(e){var i=e.main;n._$forEach(e.sub,function(n){t[i+n]=e.func(n,o,a,t)})});return t}}();t._$getMaxBox=function(i,e){var t=n._$merge({},i),o=e.width/e.height,s=i.width/i.height;if(o>s&&i.height>e.height){t.height=e.height;t.width=t.height*s}if(s>o&&i.width>e.width){t.width=e.width;t.height=t.width/s}return t};t._$scrollTo=e._$scrollTo=function(i){var e=t._$offset(i);window.scrollTo(e.x,e.y)};t._$align=function(){var e=/\s+/,t={left:function(){return 0},center:function(t,e){return(t.width-e.width)/2},right:function(t,e){return t.width-e.width},top:function(){return 0},middle:function(t,e){return(t.height-e.height)/2},bottom:function(t,e){return t.height-e.height}};return function(n,s,a){var i={},o=(a||"").split(e),r=t[o[1]]||t.middle,l=t[o[0]]||t.center;i.top=r(n,s);i.left=l(n,s);return i}}();t._$offset=e._$offset=function(){var e=function(t){return t==document.body||t==document.documentElement};return function(n,a){n=t._$get(n);if(!n)return null;a=t._$get(a)||null;for(var r,s,o,i=n,l={x:0,y:0};i&&i!=a;){r=e(i)||i==n;s=r?0:i.scrollLeft;o=parseInt(t._$getStyle(i,"borderLeftWidth"))||0;l.x+=i.offsetLeft+o-s;s=r?0:i.scrollTop;o=parseInt(t._$getStyle(i,"borderTopWidth"))||0;l.y+=i.offsetTop+o-s;i=i.offsetParent}return l}}();t._$fullScreen=e._$fullScreen=function(e){e=t._$get(e);if(e)i.__fullScreen(e,t._$getPageBox())};t._$mask=e._$mask=function(e){e=t._$get(e);if(e){t._$id(e);return i.__mask(e)}return null};t._$unmask=e._$unmask=function(e){e=t._$get(e);if(e){t._$id(e);return i.__unmask(e)}return null};t._$create=function(){var e={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(a,r,s){var i=document.createElement(a),l=e[a.toLowerCase()];n._$merge(i,l);if(r)i.className=r;s=t._$get(s);if(s)s.appendChild(i);else if(!l)o.appendChild(i);return i}}();t._$createXFrame=function(){var e=function(){if(location.hostname==document.domain)return"about:blank";else return'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();'},i=function(e){e=e.trim();if(!e)return t._$create("iframe");var i;try{i=document.createElement('<iframe name="'+e+'"></iframe>');i.frameBorder=0}catch(n){i=t._$create("iframe");i.name=e}return i};return function(s){s=s||c;var o=i(s.name||"");if(!s.visible)o.style.display="none";if(n._$isFunction(s.onload))a._$addEvent(o,"load",function(t){if(o.src){a._$clearEvent(o,"load");s.onload(t)}});var r=s.parent;if(n._$isFunction(r))try{r(o)}catch(h){}else(t._$get(r)||document.body).appendChild(o);var l=s.src||e();window.setTimeout(function(){o.src=l},0);return o}}();t._$remove=e._$remove=function(){var i={img:function(t){t.src=d._$BLANK_IMAGE},iframe:function(t){t.src="about:blank"}},e=function(t,s){if(s){if(t.getElementsByTagName)n._$forEach(t.getElementsByTagName(s),e)}else{var a=(t.tagName||"").toLowerCase(),o=i[a];if(o)o(t)}};return function(i){i=t._$get(i);if(i){if(!arguments[1])a._$clearEvent(i);e(i);e(i,"img");e(i,"iframe");if(i.parentNode)i.parentNode.removeChild(i)}}}();t._$removeByEC=e._$removeByEC=function(e){e=t._$get(e);if(e)try{o.appendChild(e)}catch(i){console.error(i)}};t._$clearChildren=e._$clearChildren=function(e){e=t._$get(e);if(e)n._$reverseEach(e.childNodes,function(e){t._$remove(e)})};t._$wrapInline=e._$wrapInline=function(){var e,i=/\s+/,n=function(){if(!e){e=t._$pushCSSText(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}");t._$dumpCSSText()}};return function(a,r){a=t._$get(a);if(!a)return null;n();r=r||c;var o=a.parentNode;if(!t._$hasClassName(o,e)){o=t._$create("span",e);a.insertAdjacentElement("beforeBegin",o);o.appendChild(a)}var h=r.nid||"",l=t._$getByClassName(o,h||e+"-show")[0];if(!l){var s=((r.clazz||"")+" "+h).trim();s=e+"-show"+(!s?"":" ")+s;l=t._$create(r.tag||"span",s);o.appendChild(l)}var s=r.clazz;if(s){s=(s||"").trim().split(i)[0]+"-parent";t._$addClassName(o,s)}return l}}();t._$dataset=e._$dataset=function(a,e,r){var o=t._$id(a);if(!o)return null;if(n._$isString(e))return i.__dataset(t._$get(a),e,r);if(n._$isObject(e)){var s={};n._$forIn(e,function(i,e){s[e]=t._$dataset(o,e,i)});return s}if(n._$isArray(e)){var s={};n._$forEach(e,function(e){s[e]=t._$dataset(o,e)});return s}return null};t._$attr=e._$attr=function(e,n,s){e=t._$get(e);if(!e)return"";if(void 0!==s&&e.setAttribute)e.setAttribute(n,s);return i.__getAttribute(e,n)};t._$html2node=function(){var e=/<(.*?)(?=\s|>)/i,i={li:"ul",tr:"tbody",td:"tr",th:"tr",option:"select"};return function(s){var o;if(e.test(s))o=i[(RegExp.$1||"").toLowerCase()]||"";var n=t._$create(o||"div");n.innerHTML=s;var a=t._$getChildren(n);return a.length>1?n:a[0]}}();t._$dom2xml=e._$dom2xml=function(e){e=t._$get(e);return!e?"":i.__serializeDOM2XML(e)};t._$xml2dom=function(t){t=(t||"").trim();return!t?null:i.__parseDOMFromXML(t)};t._$dom2object=e._$dom2object=function(e,i){i=i||{};e=t._$get(e);if(!e)return i;var o=e.tagName.toLowerCase(),s=t._$getChildren(e);if(!s||!s.length){i[o]=e.textContent||e.text||"";return i}var a={};i[o]=a;n._$forEach(s,function(e){t._$dom2object(e,a)});return i};t._$xml2object=function(e){try{return t._$dom2object(t._$xml2dom(e))}catch(i){return null}};t._$text2type=function(){var e={xml:function(e){return t._$xml2dom(e)},json:function(t){try{return JSON.parse(t)}catch(e){return null}},dft:function(t){return t}};return function(i,t){t=(t||"").toLowerCase();return(e[t]||e.dft)(i||"")}}();t._$style=e._$style=function(e,i){e=t._$get(e);if(e)n._$loop(i,function(i,n){t._$setStyle(e,n,i)})};t._$setStyle=e._$setStyle=function(e,n,s){e=t._$get(e);if(e)i.__setStyleValue(e,n,i.__processCSSText(s))};t._$getStyle=e._$getStyle=function(e,n){e=t._$get(e);return!e?"":i.__getStyleValue(e,n)};t._$addScript=function(t){try{t=t.trim();if(t)return new Function(t)()}catch(e){console.error(e.message);console.error(e.stack)}};t._$addStyle=function(){var e=/[\s\r\n]+/gi;return function(n){n=(n||"").replace(e," ").trim();var s=null;if(n){s=t._$create("style");document.head.appendChild(s);i.__injectCSSText(s,i.__processCSSText(n))}return s}}();t._$pushCSSText=function(){{var t=/#<(.*?)>/g;+new Date}return function(i,o){if(!s)s=[];var e="auto-"+n._$uniqueID(),a=n._$merge({uispace:e},o);s.push(i.replace(t,function(t,e){return a[e]||t}));return e}}();t._$dumpCSSText=function(){if(s){t._$addStyle(s.join(" "));

s=null}};t._$appendCSSText=e._$appendCSSText=function(e,n){e=t._$get(e);return!e?null:i.__appendCSSText(e,i.__processCSSText(n))};t._$addClassName=e._$addClassName=function(e,n){e=t._$get(e);if(e)i.__processClassName(e,"add",n)};t._$delClassName=e._$delClassName=function(e,n){e=t._$get(e);if(e)i.__processClassName(e,"remove",n)};t._$replaceClassName=e._$replaceClassName=function(e,n,s){e=t._$get(e);if(e)i.__processClassName(e,"replace",n,s)};t._$hasClassName=e._$hasClassName=function(e,n){e=t._$get(e);if(e)return i.__hasClassName(e,n);else return!1};t._$matrix=function(t){t=(t||"").trim();return i.__getCSSMatrix(t)};t._$css3d=e._$css3d=function(e,s,o){e=t._$get(e);if(e){var n=i.__processTransformValue(s,o);if(n)t._$setStyle(e,"transform",n)}};u._$merge(e);if(!0)l.copy(l.P("nej.e"),t);return t},8,14,2,3,12,15);I$(20,function(e,i,t,n,s,o){t.__checkEvent=function(){var e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},t=i._$KERNEL.prefix,n={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration",visibilitychange:"visibilitychange"},s={enter:function(i,n,t){var e={type:"keypress"};if(t)e.handler=function(e){if(13===e.keyCode)t.call(i,e)};return e}},o=function(e){return(t.evt||t.pro)+e};return function(l,t,h){var i={type:t,handler:h};if(!("on"+t in l)){var a=e[t];if(a){i.type=a;return i}var a=n[t];if(a){i.type=o(a);return i}var r=s[t];if(r)return r.apply(null,arguments)}return i}}();t.__addEvent=function(){var t=arguments;if(!1)if(!("on"+t[1]in t[0]))console.log("not support event["+t[1]+"] for "+t[0]);t[0].addEventListener(t[1],t[2],t[3])};t.__delEvent=function(){var t=arguments;t[0].removeEventListener(t[1],t[2],t[3])};t.__dispatchEvent=function(i,n,s){var t=document.createEvent("Event");t.initEvent(n,!0,!0);e._$merge(t,s);i.dispatchEvent(t)};return t},2,11);I$(13,function(t,i,n,s,o,a,r){var e=(!0?NEJ.P("nej.p"):arguments[2])._$KERNEL;if("trident"==e.engine&&e.release>="6.0")!function(){t.__checkEvent=function(){var e={touchcancel:"MSPointerCancel",touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp"};return t.__checkEvent._$aop(function(t){var i=t.args,n=e[i[1]];if(n){t.stopped=!0;t.value={type:n,handler:i[2]}}})}()}();if("trident"==e.engine&&"5.0"==e.release)!function(){t.__checkEvent=function(){var e={},i={input:function(t,n,i){if(!i)return{type:n};else return{type:n,handler:function(n){var s=t.id;e[s]=t.value;i.call(t,n)},link:[[document,"selectionchange",function(s){var n=t.id;if(t==document.activeElement){if(e[n]!==t.value){e[n]=t.value;i.call(t,s)}}else delete e[n]}]]}}};return t.__checkEvent._$aop(function(t){var e=t.args,n=i[e[1]];if(n){t.stopped=!0;t.value=n.apply(null,e)}})}()}();if("trident"==e.engine&&e.release>="5.0")!function(){var e={propertychange:1};t.__addEvent=t.__addEvent._$aop(function(i){var t=i.args;if(null!=e[t[1]]&&t[0].attachEvent){i.stopped=!0;t[0].attachEvent("on"+t[1],t[2])}});t.__delEvent=t.__delEvent._$aop(function(i){{var t=i.args;e[t[1]]}if(null!=e[t[1]]&&t[0].detachEvent){i.stopped=!0;t[0].detachEvent("on"+t[1],t[2])}})}();if("trident"==e.engine&&e.release<="4.0")!function(){t.__checkEvent=function(){var e={},i={input:function(t,s,i){var n={type:"propertychange"};if(i)n.handler=function(s){if("value"in t&&"value"==s.propertyName){var n=t.id;if(e[n])return;e[n]=!0;i.call(t,s);delete e[n]}};return n},load:function(t,n,e){var i={type:"readystatechange"};if(e)i.handler=function(i){if("loaded"==t.readyState||"complete"==t.readyState)e.call(t,i)};return i}};return t.__checkEvent._$aop(function(e){var t=e.args,n=i[t[1]];if(n){e.stopped=!0;e.value=n.apply(null,t)}if(t[2])t[2]=t[2]._$bind(t[0])})}();t.__addEvent=function(){var t=arguments;if(!1)if(!("on"+t[1]in t[0]))console.log("not support event["+t[1]+"] for "+t[0]);t[0].attachEvent("on"+t[1],t[2])};t.__delEvent=function(){var t=arguments;t[0].detachEvent("on"+t[1],t[2])};t.__dispatchEvent=function(){var t={propertychange:{propertyName:"value"}};return function(o,e,a){var n=document.createEventObject();try{i._$merge(n,t[e],a);o.fireEvent("on"+e,n)}catch(s){console.error(s.message);console.error(s.stack)}}}()}();if("gecko"==e.engine)!function(){t.__checkEvent=function(){var e=/^(?:transitionend|animationend|animationstart|animationiteration)$/i,i={mousewheel:function(i,n,t){var e={type:"MozMousePixelScroll"};if(t)e.handler=function(e){var n=e.detail;e.wheelDelta=-n;e.wheelDeltaY=-n;e.wheelDeltaX=0;t.call(i,e)};return e}};return t.__checkEvent._$aop(function(t){var n=t.args;if(e.test(n[1])){t.stopped=!0;t.value={type:n[1],handler:n[2]}}var s=i[n[1]];if(s){t.stopped=!0;t.value=s.apply(null,n)}})}()}();return t},20,2,11);I$(3,function(l,e,i,u,n,t,d,_,p){var s={},o={},r=function(){var t=/[\s,;]+/;return function(e){var e=(e||"").trim().toLowerCase();return!e?null:e.split(t)}}(),a=function(t,i,s){var n="page"+i;return null!=t[n]?t[n]:t["client"+i]+e._$getPageBox()["scroll"+s]},h=function(e,n,i){var s="scroll"+i;_node=t._$getElement(e),_xret=a(e,n,i);for(;_node&&_node!=document.body&&_node!=document.documentElement;){_xret+=_node[s]||0;_node=_node.parentNode}return _xret},c=function(t,s,o,a){var n={};t=e._$get(t);if(!t)return null;e._$id(t);n.element=t;if(!i._$isFunction(o))return null;n.handler=o;var s=r(s);if(!s)return null;n.type=s;n.capture=!!a;return n};t._$addEvent=o._$addEvent=function(){var t=function(i,t,n){var a=e._$id(t.element),o=s[a]||{},r=o[i]||[];r.push({type:n.type||i,func:n.handler||t.handler,sfun:t.handler,capt:t.capture,link:n.link});o[i]=r;s[a]=o};return function(){var s=c.apply(null,arguments);if(s)i._$forEach(s.type,function(a){var o=n.__checkEvent(s.element,a,s.handler);n.__addEvent(s.element,o.type,o.handler,s.capture);i._$forIn(o.link,function(t){t[3]=!!t[3];n.__addEvent.apply(n,t);t[0]=e._$id(t[0])});t(a,s,o)})}}();t._$delEvent=o._$delEvent=function(){var t=function(l,t){var h=e._$id(t.element),a=s[h]||d,r=a[l],c=i._$indexOf(r,function(e){return e.sfun===t.handler&&e.capt===t.capture}),n=null;if(c>=0){var o=r.splice(c,1)[0];n=[[t.element,o.type,o.func,t.capture]];if(o.link)n.push.apply(n,o.link);if(!r.length)delete a[l];if(!i._$hasProperty(a))delete s[h]}return n};return function(){var e=c.apply(null,arguments);if(e)i._$forEach(e.type,function(s){i._$forEach(t(s,e),function(t){n.__delEvent.apply(n,t)})})}}();t._$clearEvent=o._$clearEvent=function(){var n=function(e,n,s){i._$reverseEach(s,function(i){t._$delEvent(e,n,i.sfun,i.capt)})};return function(h,o){var a=e._$id(h);if(a){var l=s[a];if(l){o=r(o);if(o)i._$forEach(o,function(t){n(a,t,l[t])});else i._$loop(l,function(i,e){t._$clearEvent(h,e)})}}}}();t._$dispatchEvent=o._$dispatchEvent=function(t,s,o){var t=e._$get(t);if(t)i._$forEach(r(s),function(e){var i=n.__checkEvent(t,e);n.__dispatchEvent(t,i.type,o)})};t._$getElement=function(){var t,n=function(i,n){var s=i.split(":");if(s.length>1){if(!t)t={a:e._$attr,d:e._$dataset,c:e._$hasClassName,t:function(t,e){return(t.tagName||"").toLowerCase()===e}};var o=t[s[0]];if(o)return!!o(n,s[1]);i=s[1]}return!!e._$attr(n,i)||!!e._$dataset(n,i)||e._$hasClassName(n,i)};return function(s){if(!s)return null;var t=s.target||s.srcElement,e=arguments[1];if(!e)return t;if(i._$isString(e))e=n._$bind(null,e);if(i._$isFunction(e)){for(;t;){if(e(t))return t;t=t.parentNode}return null}return t}}();t._$stop=function(e){t._$stopBubble(e);t._$stopDefault(e)};t._$stopBubble=function(t){if(t)t.stopPropagation?t.stopPropagation():t.cancelBubble=!0};t._$stopDefault=function(t){if(t)t.preventDefault?t.preventDefault():t.returnValue=!1};t._$page=function(e){return{x:t._$pageX(e),y:t._$pageY(e)}};t._$pageX=function(t){return h(t,"X","Left")};t._$pageY=function(t){return h(t,"Y","Top")};t._$clientX=function(t){return a(t,"X","Left")};t._$clientY=function(t){return a(t,"Y","Top")};u._$merge(o);if(!0)l.copy(l.P("nej.v"),t);return t},8,4,2,12,13);I$(44,function(e,i,t,n,s,o){t._$cookie=function(){var t=new Date,e=+t,s=864e5,o=function(s){var t=document.cookie,n="\\b"+s+"=",e=t.search(n);if(0>e)return"";e+=n.length-2;var i=t.indexOf(";",e);if(0>i)i=t.length;return t.substring(e,i)||""};return function(r,a){if(void 0===a)return o(r);if(i._$isString(a)){if(a){document.cookie=r+"="+a+";";return a}a={expires:-100}}a=a||n;var l=r+"="+(a.value||"")+";";delete a.value;if(void 0!==a.expires){t.setTime(e+a.expires*s);a.expires=t.toGMTString()}l+=i._$object2string(a,";");document.cookie=l}}();if(!0)e.copy(e.P("nej.j"),t);return t},8,2);I$(76,function(i,n){var e,t={};t._$initDeviceInfo=function(){e=i._$query2object(document.URL.split("?")[1]||"");this.isApp=this.__isApp();this.network=this.__getNetwork();this.platform=this.__getPlatform();this.deviceUdID=this.__getDeviceUdID()};t._$isAppVerEqOver=function(t){var e=this.__compareVersion(this._$getAppVersion(),t);return e>=0};t.__compareVersion=function(o,a){for(var e,i,n=(o||"").split("."),s=(a||"").split("."),r=Math.max(n.length,s.length),t=0;r>t;t++){e=parseInt(n[t]||"",10)||0;i=parseInt(s[t]||"",10)||0;if(e!=i)return e-i>0?1:-1}return 0};t._$getAppVersion=function(){var e=/(kaolaApp\/|kaolaAppSpring\/)[\d\.]+/,i=window.navigator.userAgent;if(!this.__isApp())return"";var t=e.exec(i);if(!t||!t.length)return"";else return t[0].split("/")[1]||""};t.__isApp=function(){var t=window.navigator.userAgent,e=/kaolaApp/,i=/kaolaAppSpring/;return!!window.__isKaolaApp||e.test(t)||i.test(t)};t.__getNetwork=function(){if(this.__isApp&&e.network)return e.network;var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t)return t.type;else return"cellular"};t.__getPlatform=function(){if(this.__isApp&&e.platform)return+e.platform;var t=navigator.userAgent,i=!!t.match(/(iPhone|iPod|iPad)/i),n=!!t.match(/Android/i);if(i)return 2;if(n)return 1;else return 0};t.__getDeviceUdID=function(){if(this.__isApp&&e.deviceUdID)return e.deviceUdID;var t=n._$cookie("JSESSIONID-WKL-8IO");return t||""};t._$initDeviceInfo();return t},2,44);I$(75,function(o,n){var t={},i=navigator.userAgent,a=!!i.match(/(iPhone|iPod|iPad)/i),s=!!i.match(/Android/i),r=location.search.replace("?",""),e=o._$query2object(r);

t.typeOf=function(t){return null==t?String(t):{}.toString.call(t).slice(8,-1).toLowerCase()};t.findInList=function(n,i,t){t=t||"id";for(var e=i.length;e--;)if(i[e][t]==n)return e;return-1};t.download=function(){var e="",i="",t="";if(window.sessionStorage.getItem("appChannel"))e=window.sessionStorage.getItem("appChannel");if(window.sessionStorage.getItem("camName"))i=window.sessionStorage.getItem("camName");if(window.sessionStorage.getItem("sid"))t=window.sessionStorage.getItem("sid");if(t)window.location.href="http://pr.da.netease.com/receiver/?action=ad&camName="+i+"&target=http%3A%2F%2Fwww.kaola.com%2Fmobile%2Fdownload.html%3FappChannel%3D"+e+"&sid="+t;else if(this.isInWeixinApp())window.location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.kaola";else window.location.href="http://www.kaola.com/mobile/download.html"};t.merge=function(n,e){var o,a=t.typeOf(n),s=t.typeOf(e);if(a!==s)return e;switch(s){case"object":for(var i in e)if(e.hasOwnProperty(i))n[i]=t.merge(n[i],e[i]);break;case"array":for(var i=0,o=e.length;o>i;i++)n[i]=t.merge(n[i],e[i]);n.length=e.length;break;default:return e}return n};t.mergeList=function(n,s,e){e=e||"id";for(var o=n.length;o--;)for(var i=0,a=s.length;a>i;i++)if(null!=s[i][e]&&s[i][e]===n[o][e]){n.splice(o,1,t.merge(s[i],n[o]));break}};t.clone=function(e){var s=t.typeOf(e);switch(s){case"object":var i={};for(var n in e)i[n]=t.clone(e[n]);return i;case"array":return e.map(t.clone);default:return e}return e};t.extend=function(t,i,n){for(var e in i)if(void 0==t[e]||n)t[e]=i[e];return t};t.initSelect=function(s,e,i,n){s.options.length=0;i=i||"value";n=n||"text";for(var t=0,o=e.length;o>t;t++){if("string"==typeof e[t])var a=new Option(e[t],e[t]);else var a=new Option(e[t][n],e[t][i]);s.options.add(a)}};t._$supportWebp=function(){var t=!1;!function(){var e=new Image;e.onload=e.onerror=function(){t=2===e.height;e.onload=e.onerror=null;e=null};e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();return function(){return t}}();t.imgThumbnailUrl=function(t,_,d,r,f){try{var s="imageView",i=_||0,a=d||0,e=r||85,c=f||!1;if(!t)return t;if(-1!==t.indexOf(s)&&-1!==t.indexOf("thumbnail"))return t;if(-1!==t.indexOf(".png"))return t;var l=n.network||"4g";if(!r)if(-1!==["2g","3g"].indexOf(l))e=60;if("2g"==l)i=Math.ceil(.75*i);var u=this._$supportWebp()&&t.indexOf("type=webp")<0,p=n.platform||0,o="";if(1===p||u){o="&type=webp";if(e>70)e-=10}if(c)var h=s+"&thumbnail="+i+"y"+a+"&quality="+e+o;else var h=s+"&thumbnail="+i+"x"+a+"&quality="+e+o;if(-1!==t.indexOf("?"))return t+"&"+h;else return t+"?"+h}catch(m){return t}};t.throttle=function(a,r,e){var i,n,o,t=null,s=0;if(!e)e={};var l=function(){s=e.leading===!1?0:+new Date;t=null;o=a.apply(i,n);if(!t)i=n=null};return function(){var h=+new Date;if(!s&&e.leading===!1)s=h;var c=r-(h-s);i=this;n=arguments;if(0>=c||c>r){clearTimeout(t);t=null;s=h;o=a.apply(i,n);if(!t)i=n=null}else if(!t&&e.trailing!==!1)t=setTimeout(l,c);return o}};t.debounce=function(o,n,a){var t,e,i,r,s,l=function(){var h=+new Date-r;if(n>h&&h>0)t=setTimeout(l,n-h);else{t=null;if(!a){s=o.apply(i,e);if(!t)i=e=null}}};return function(){i=this;e=arguments;r=+new Date;var h=a&&!t;if(!t)t=setTimeout(l,n);if(h){s=o.apply(i,e);i=e=null}return s}};t.nextFrame=function(){var i=["ms","moz","webkit","o"],t={};t.__requestAnimationFrame=window.requestAnimationFrame;for(var e=0;e<i.length&&!t.__requestAnimationFrame;++e)t.__requestAnimationFrame=window[i[e]+"RequestAnimationFrame"];if(!t.__requestAnimationFrame)t.__requestAnimationFrame=function(t){var e=window.setTimeout(function(){t()},16);return e};return function(e){t.__requestAnimationFrame.apply(window,arguments)}}();t.isOldApp=function(t,i){t=t||10;i=i||10300;if(e.apiVersion&&(parseInt(e.version||"1")<t&&s||parseInt(e.version||"10")<i&&a))return!0;else return!1};t.isAOSAPP=function(){var t=/kaolaApp/,e=/kaolaAppSpring/;return(t.test(i)||e.test(i))&&s};t.exec=function(t){var i=t.method,n=t.args||{},e=t.callback||function(t){},s=t.nativeSucCb||function(t){},o=t.nativeErrCb||function(t){};if(i)if(window.WeixinJSBridge){WeixinJSBridge.invoke(i,n,s,o);e(1)}else e(0);else e(-1)};t.isLogin=function(t){return!!window.__isKaolaLogin||!!nej.j._$cookie("NTES_SESS")};t.toLogin=function(t){window.location.href="/login.html?target="+window.encodeURIComponent(t||window.location.href)};t.afterLogin=function(e,i){t.isLogin()?e.call(i):t.toLogin()};t.isKaolaApp=function(){var t=window.navigator.userAgent,e=/kaolaApp/,i=/kaolaAppSpring/;return!!window.__isKaolaApp||e.test(t)||i.test(t)};t.isInYixinApp=function(){var t=window.navigator.userAgent,e=/YiXin/i;return e.test(t)};t.isInWeixinApp=function(){var t=window.navigator.userAgent,e=/MicroMessenger/i;return e.test(t)};t.isGteKaolaVer=function(){var n,s,a=!1;if(t.isKaolaApp()){var e=window.navigator.userAgent,i=e.indexOf("kaolaApp/"),o=e.indexOf("kaolaAppSpring/");n=!0;if(0>i&&0>o)a=!0;else if(i>=0)s=+e.slice(i+9,i+12);else s=+e.slice(o+15,o+18)}else n=!1;return function(t){return n?a?-1:s>=t?1:-1:0}}();t.getUrlParam=function(t,i){if(i)return e;else return e[t]};t.insertParamIntoUrl=function(e,i){if(!e||!i)return e||"";var t=e.split("#"),n=t[0];t[0]=n.indexOf("?")>=0?n+"&"+i:n+"?"+i;return t.length>1?t.join("#"):t[0]};return t},2,76);!function(ft,t,E){function w(t){t=t||{};if(t.macros)this._macros=t.macros;this._links={};this._rules={};this.TRUNK=null;this.cache=j(t.maxCache||200);this.cache.set("",[[]])}function $(t){return l.parse(t)}function c(t,e){return e?t.nodeName===e:1===t.nodeType}function it(t,e){var t=t.firstChild;return!t||c(t,e)?t:o(t,e)}function _t(t,e){var t=t.lastChild;return!t||c(t,e)?t:i(t,e)}function i(t,e){for(;t=t.previousSibling;)if(c(t,e))return t;return t}function o(t,e){for(;t=t.nextSibling;)if(c(t,e))return t;return t}function pt(t,e){var i=at[e];if(i)return"function"==typeof i?i(t):t[i];if(lt)return t.getAttribute(e);var n=t.getAttributeNode(e);return"boolean"==typeof t[e]?t[e]?e:null:n&&n.specified?n.value:null}function ut(t){for(var e=t.length;e--;){var i=t[e];t.splice(e,1,null);if(~t.indexOf(i))t.splice(e,1);else t.splice(e,1,i)}return t}function M(e,i){if(e&&i)for(var t=e.nextSibling;t;){if(t===i)return-1;t=t.nextSibling}return e?1:-1}function B(t){return ut(t.sort(ht))}function p(r,e){var t,n,s,a;if(r){s=e?"type":"child";t=o;n=i;a=it}else{s="last"+(e?"type":"child");n=o;t=i;a=_t}return function(o,l){var r=d[s];if(o===D)return!1;var p=x(o),f=o.parentNode,i=(l.step>0?t:n,l.step),h=l.start,_=e&&o.nodeName;if(null===i)return!1;if(!r[p]){var c=a(f,_),m=0;do{r[x(c)]=++m;d.length++}while(c=t(c,_))}var u=r[p];if(0===i)return u===h;else return(u-h)/i>=0&&(u-h)%i===0}}function T(){if(d.length)d={child:{},lastchild:{},type:{},lasttype:{},length:0}}function k(n,e,s){var i;for(var t in e)if(s!==t&&(i=b[t])&&!i(n,e[t]))return!1;return!0}function I(i,e,n){var t=e.length,s=e[t-1];if(!k(i,s,n))return!1;else{if(1==t)return!0;var o=e[t-2],a=f.combos[o.combo],r=m[t-2],l=a(i,r);if(l)return!0;else return!1}}function dt(e){return function(i){if(i==D||null==i||i==t)return null;else return I(i,e)}}function ct(e){for(var i=[],t=0,n=e.length;n>t;t++)i.push(dt(e.slice(0,t+1)));return i}function O(t,e,n){if(!e.length)return t;var s=m;m=ct(e);for(var i=t.length;i--;)if(!I(t[i],e,n))t.splice(i,1);m=s;return t}function ot(n,s){var t,i,e=n[n.length-1];if(e.id){t=_.byId(e.id);i="id"}else if(e.classList&&e.classList.length&&_.byClassName){t=_.byClassName(e.classList,s);i="classList"}else{t=_.byTagName(e.tag||"*",s);i="tag"}if(!t.length)return t;else return O(t,n,i)}function R(i,a){if(!i[0][0])return[];for(var t=[],o=0,n=0,r=i.length;r>n;n++){var s=i[n],l=s.length,e=(s[l-1],ot(s,a));if(e&&e.length)o++;if(!t)t=e;else t=t.concat(e)}T();if(o>1)B(t);return t}function h(e,i){var n=$(e),s=R(n,i||t);return s}function st(n,s){var i;if(L&&!e.debug)try{i=(s||t).querySelector(n)}catch(o){i=h(n,s)[0]}else i=h(n,s)[0];return i}function C(n,s){var i;if(L&&!e.debug)try{i=g((s||t).querySelectorAll(n))}catch(o){i=h(n,s)}else i=h(n,s);return i}function u(t,n){if(!t||1!==t.nodeType)return!1;var e=$(n),i=e.length;if(!e[i-1][0])return!1;for(;i--;)if(et(t,e[i]))return!0;return!1}function et(e,t){var i=t.length;if(!k(e,t[i-1]))return!1;else return 1===O([e],t.slice(0)).length}function S(t){return function(o,c){var a=c.split(/\s+of\s+/);if(a.length<2)throw Error("no 'of' keyword in nth-match\"s selector");var l=A(a[0]),h=a[1],i=o.parentNode[t?"firstChild":"lastChild"],d=t?"nextSibling":"previousSibling",n=l.step,r=l.start,s=0;if(!u(o,h))return!1;if(null===n)return!1;do{if(1===i.nodeType&&e.matches(i,h))s++;if(i===o)break}while(i=i[d]);if(0===n)return s===r;else return(s-r)/n>=0&&(s-r)%n===0}}var e=function(t,e){return C(t,e)},v=Array.prototype,tt=Object.prototype,P=String.prototype,N=Function.prototype,r=v.slice,a=(t.body,t.createElement("div")),g=function(t){return r.call(t)},s=function(t){return null==t?String(t):tt.toString.call(t).slice(8,-1).toLowerCase()},Z=function(e,i,n){for(var t in i)if(null==e[t]||n)e[t]=i[t]},j=function(i){var t=[],e={};return{set:function(i,n){if(t.length>this.length)delete e[t.shift()];e[i]=n;t.push(i);return n},get:function(t){if(t===E)return e;else return e[t]},length:i,len:function(){return t.length}}},H=function(t){return function(e,n){if("object"==s(e))for(var i in e)t.call(this,i,e[i]);else t.call(this,e,n);return this}},F=function(t){try{return t()}catch(e){return!1}finally{a=document.createElement("div")}};try{r.call(t.getElementsByTagName("body"))}catch(mt){g=function(e){for(var i=[],n=e.length,t=0;n>t;t++)i.push(e[t]);return i}}var G=/^\s+|\s+$/g;P.trim=P.trim||function(){return this.replace(G,"")};N.bind=N.bind||function(e,t){t=r.call(arguments,1);var i=this;return function(){return i.apply(e,t.concat(r.call(arguments)))}};v.indexOf=v.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(e===this[t])return t;return-1};var z=/\(\?\!|\(\?\:/,W=function(t){for(var i=0,n=0,e=t.length,o=t.split(z).length-1;e--;){var s=t.charAt(e);
if(0===e||"\\"!==t.charAt(e-1)){if("("===s)i++;if(")"===s)n++}}if(i!==n)throw t+"中的括号不匹配";else return i-o},q=function(t,e){return t},V=Object.keys||function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i))e.push(i);return e},X=function(e){var t=e.reg;if("regexp"===s(t))t=t.toString().slice(1,-1);e.regexp=t.replace(J,function(e,t){if(t in n)return n[t];else throw new Error('can"t replace undefined macros:'+t)});return e},Y=function(t){for(var e in t)if(t.hasOwnProperty(e))X(t[e]);return t};Z(w.prototype,{parse:function(t){t=clean(t);if(i=this.cache.get(t))return i;for(var n,i=this.parsed=[[null]],e=this.input=t,s=this.TRUNK;n!=(e=e.replace(s,this._process.bind(this)));)n=e;if(""!==e)this.error(e);return this.cache.set(t,i)},on:function(e){if("string"===s(e)){var i={};i[e]=arguments[1];e=i}for(var n in e){var t=e[n];if("object"!==s(t))t={regexp:t};var o=t.regexp;if("regexp"===s(o))t.regexp=o.toString().slice(1,-1);if(t.order===E)t.order=1;this._rules[n]=t}this.setup();return this},off:function(t){if("array"===s(t))for(var e=t.length;e--;)this.off(t[e]);else if(this._rules[t])delete this._rules[t];return this},current:function(){var e=this.parsed,t=e[e.length-1],i=t.length;return t[i-1]||(t[i-1]={tag:"*"})},error:function(t){throw Error("输入  "+this.input+"  含有未识别语句:"+t||"")},clone:function(t){return(new w).on(this._rules)},_process:function(){var e=this._links,o=this._rules,i=r.call(arguments);for(var n in e){var s=e[n],a=s[1],t=parseInt(s[0]);if(i[t]&&(rule=o[n])){rule.action.apply(this,i.slice(t,t+a));return""}}return""},setup:function(){Y(this._rules);for(var n=1,s=[],t=this._rules,l=this._links,o=V(t).sort(function(e,i){return t[e].order>=t[i].order}),a=o.length;a--;){var e=o[a],i=t[e],r=W(i.regexp)+1;if(i.filter&&!b[e])b[e]=i.filter;l[e]=[n,r];var h=q(i.regexp,n-1);n+=r;s.push(h)}this.TRUNK=new RegExp("^(?:("+s.join(")|(")+"))");return this}});var J=/\{\{([^\}]*)\}\}/g,K=/^(?:(\d+)|([+-]?\d*)?n([+-]\d+)?)$/,Q=/^(nth)[\w-]*(-of-type|-child)/,y=j(100),A=function(i){var e,n,t;if(!i||!(i=i.replace(/\s+/g,"")))return{start:1,step:0};if(t=y.get(i))return t;if("even"==i){n=2;e=2}else if("odd"==i){e=2;n=1}else{t=i.match(K);if(!t)e=null;else if(t[1]){e=0;n=parseInt(t[1])}else{if("-"==t[2])t[2]="-1";e=t[2]?parseInt(t[2]):1;n=t[3]?parseInt(t[3]):0}}if(1>n)if(1>e)e=null;else n=- -n%e+e;return y.set(i,{start:n,step:e})},n={split:"\\s*,\\s*",operator:"[*^$|~!]?=",combo:"[>\\s+~](?!=)",word:"[\\\\\\w\\u00A1-\\uFFFF-]"},U={split:{reg:"{{split}}",action:function(t){this.parsed.push([null])},order:0},id:{reg:"#({{word}}+)",action:function(e,t){this.current().id=t}},tag:{reg:"\\*|[a-zA-Z-]\\w*",action:function(t){this.current().tag=t.toLowerCase()}},classList:{reg:"\\.({{word}}+)",action:function(n,e){var t=this.current(),i=t.classList||(t.classList=[]);i.push(e)}},pesudos:{reg:":({{word}}+)(?:\\(([^\\(\\)]*|(?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\))?",action:function(o,e,t){var i=this.current(),s=i.pesudos||(i.pesudos=[]),e=e.toLowerCase(),n={name:e};if(t)t=t.trim();if(Q.test(e))t=A(t);if(t)n.param=t;s.push(n)}},attributes:{reg:"\\[\\s*({{word}}+)(?:({{operator}})['\"]?([^'\"\\[]+)['\"]?)?\\s*\\]",action:function(o,e,i,n){var t=this.current(),s=t.attributes||(t.attributes=[]);s.push({key:e,operator:i,value:n})}},combo:{reg:"\\s*({{combo}})\\s*",action:function(n,e){var t=this.parsed,i=t[t.length-1];this.current().combo=e;i.push(null)},order:0}},nt=new RegExp("\\s*(,|"+n.combo+"|"+n.operator+")\\s*","g");clean=function(t){return t.trim().replace(/\s+/g," ").replace(nt,"$1")};var l=new w;l.on(U);var D=t.documentElement||t,at={"for":"htmlFor",href:function(t){return"href"in t?t.getAttribute("href",2):t.getAttribute("href")},type:function(t){return"type"in t?t.getAttribute("type"):t.type}},rt=F(function(){a.appendChild(t.createComment(""));return!a.getElementsByTagName("*").length||"number"!=typeof t.getElementsByTagName("input").length}),lt=F(function(){a.innerHTML="<select></select>";var t=s(a.lastChild.getAttribute("multiple"));return"boolean"!==t&&"string"!==t}),ht=t.compareDocumentPosition?function(t,e){if(!t.compareDocumentPosition||!e.compareDocumentPosition)return 0;else return 4&t.compareDocumentPosition(e)?-1:t===e?0:1}:"sourceIndex"in t?function(t,e){if(!t.sourceIndex||!e.sourceIndex)return 0;else return t.sourceIndex-e.sourceIndex}:function(n,s){var i=0,r=[n],l=[s],o=n.parentNode,a=s.parentNode,e=o;if(n===t)return-1;else if(s===t)return 1;else if(!o&&!a)return 0;else if(!a)return-1;else if(!o)return 1;else if(o===a)return M(n,s);for(;e;){r.unshift(e);e=e.parentNode}e=a;for(;e;){l.unshift(e);e=e.parentNode}for(;r[i]===l[i];)i++;return M(r[i],l[i])},x=function(t){var e=0;return function(i){return i._uid||(i._uid=t+e++)}}("nes_"+(+new Date).toString(36)),d={length:1};T();var _={byId:function(i){var e=t.getElementById(i);return e?[e]:[]},byClassName:t.getElementsByClassName?function(e,i){e=e.join(" ");return g((i||t).getElementsByClassName(e))}:null,byTagName:rt?function(e,i){var n=(i||t).getElementsByTagName(e);return g(n)}:function(s,o){for(var e,a=(o||t).getElementsByTagName(s),i=[],n=0;e=a[n];n++)if(1===e.nodeType)i.push(e);return i}},b={id:function(t,e){return t.id===e},classList:function(i,t){for(var e=t.length,n=" "+i.className+" ";e--;)if(-1===n.indexOf(" "+t[e]+" "))return!1;return!0},tag:function(e,t){if("*"==t)return!0;else return e.tagName.toLowerCase()===t},pesudos:function(o,t){for(var e=t.length,a=f["pesudos"];e--;){var i=t[e],n=i.name,s=a[n];if(!s)throw Error("不支持的伪类:"+n);if(!s(o,i.param))return!1}return!0},attributes:function(a,i){for(var n=i.length,r=f["operators"];n--;){var e=i[n],t=e["operator"],s=r[t],o=pt(a,e.key);if(null!==o)if(t){if(!s)throw Error("不支持的操作符:"+t);if(!s(e.value,o+""))return!1}else;else if("!="!==t)return!1}return!0}},f={combos:{">":function(e,i){var t=e.parentNode;if(i(t))return t;else return void 0},"~":function(e,n){for(var t=i(e);t;){if(n(t))return t;t=i(t)}}," ":function(i,n){for(var t=i.parentNode;t;){var e=n(t);if(e)return t;if(null===e)return null;t=t.parentNode}return null},"+":function(e,n){var t=i(e);if(t&&n(t))return t;else return void 0}},operators:{"^=":function(e,t){if(null==t)return!1;else return 0===t.indexOf(e)},"=":function(t,e){return e===t},"~=":function(e,t){if(null==t)return!1;else return~(" "+t+" ").indexOf(e)},"$=":function(t,e){return e.substr(e.length-t.length)===t},"|=":function(t,e){return~("-"+e+"-").indexOf("-"+t+"-")},"*=":function(t,e){return~e.indexOf(t)},"!=":function(t,e){return e!==t}},pesudos:{not:function(t,e){return!u(t,e)},matches:function(t,e){return u(t,e)},"nth-child":p(!0,!1),"nth-last-child":p(!1,!1),"nth-of-type":p(!0,!0),"nth-last-of-type":p(!1,!0),"first-child":function(t){return!i(t)},"last-child":function(t){return!o(t)},"last-of-type":function(t){return!o(t,t.nodeName)},"first-of-type":function(t){return!i(t,t.nodeName)},"only-child":function(t){return!i(t)&&!o(t)},"only-of-type":function(t){return!i(t,t.nodeName)&&!o(t,t.nodeName)},contains:function(t,e){return~(t.innerText||t.textContent||"").indexOf(e)},checked:function(t){return!!t.checked||!!t.selected},selected:function(t){return t.selected},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},empty:function(t){var e;t=t.firstChild;for(;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},focus:function(e){return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},target:function(t,i){var e=t.id||t.name;if(!e)return!1;else return"#"+e===location.hash}}},m=null,L=!!t.querySelector;!function(t,i){for(var n in t)e[n]=function(e){var n=t[e];return H(function(t,s){n[t]=s;if(e in i)i[e](t,s)})}(n)}(f,{operators:function(e){var t=n.operator.split("]");t.splice(1,0,e.charAt(0)+"]");n.operator=t.join("");l.setup()},combos:function(e){var t=n.combo.split("]");t.splice(1,0,e+"]");n.combo=t.join("");l.setup()}});e.debug=!1;e._nthCache=y;e.parser=l;e.parse=$;e._find=R;e._get=h;e.one=st;e.all=C;e.matches=u;e._uniqueSort=B;e._cleanSelector=clean;e._getUid=x;if("object"==typeof exports)module.exports=e;else if("function"==typeof define&&define.amd)define(function(){return e});else ft.nes=e;e.pesudos({"nth-match":S(!0),"nth-last-match":S(!1),"local-link":function(e,t){if(t)t=parseInt(t)}})}(window,document,void 0);I$(23,function(e,i,t,n,s,o){t._$all=function(){try{return nes.all.apply(nes,arguments)}catch(t){return null}};t._$one=function(){try{return nes.one.apply(nes,arguments)}catch(t){return null}};t._$g=nes._get;if(!0)e.copy(e.P("nej.e"),t);return t},8,65);I$(21,function(s,a,n,t,i,l,o,r){var e;i._$$EventTarget=a._$klass();e=i._$$EventTarget.prototype;i._$$EventTarget._$allocate=function(t){t=t||{};var e=!!this.__pool&&this.__pool.shift();if(!e){e=new this(t);this.__inst__=(this.__inst__||0)+1}e.__reset(t);return e};i._$$EventTarget._$recycle=function(){var e=function(t,e,i){t._$recycle();i.splice(e,1)};return function(i){if(!i)return null;if(!t._$isArray(i)){if(!(i instanceof this)){var n=i.constructor;if(n._$recycle)n._$recycle(i);return null}if(i==this.__instance)delete this.__instance;if(i==this.__inctanse)delete this.__inctanse;i.__destroy();if(!this.__pool)this.__pool=[];if(t._$indexOf(this.__pool,i)<0)this.__pool.push(i);return null}t._$reverseEach(i,e,this)}}();i._$$EventTarget._$getInstance=function(t){if(!this.__instance)this.__instance=this._$allocate(t);return this.__instance};i._$$EventTarget._$getInstanceWithReset=function(t,e){if(e&&this.__inctanse){this.__inctanse._$recycle();delete this.__inctanse}if(!this.__inctanse)this.__inctanse=this._$allocate(t);else this.__inctanse.__reset(t);return this.__inctanse};e.__init=function(){this.__events={};this.__events_dom={};this.id=t._$uniqueID()};e.__reset=function(t){this._$batEvent(t)};e.__destroy=function(){this._$clearEvent();this.__doClearDomEvent()};e.__doInitDomEvent=function(){var e=function(e){if(e&&!(e.length<3)){this.__events_dom["de-"+t._$uniqueID()]=e;n._$addEvent.apply(n,e)}};return function(i){t._$forEach(i,e,this)}}();e.__doClearDomEvent=function(){
var e=function(t,e,i){delete i[e];n._$delEvent.apply(n,t)};return function(){t._$loop(this.__events_dom,e)}}();e.__doClearComponent=function(e){e=e||o;t._$loop(this,function(t,i,n){if(t&&t._$recycle&&!e(t)){delete n[i];t._$recycle()}})};e._$recycle=function(){this.constructor._$recycle(this)};e._$hasEvent=function(t){var t=(t||"").toLowerCase(),e=this.__events[t];return!!e&&e!==o};e._$delEvent=function(e,n){var e=(e||"").toLowerCase(),i=this.__events[e];if(t._$isArray(i)){t._$reverseEach(i,function(t,e,i){if(t==n)i.splice(e,1)});if(!i.length)delete this.__events[e]}else if(i==n)delete this.__events[e]};e._$setEvent=function(e,i){if(e&&t._$isFunction(i))this.__events[e.toLowerCase()]=i};e._$batEvent=function(){var e=function(t,e){this._$setEvent(e,t)};return function(i){t._$loop(i,e,this)}}();e._$clearEvent=function(){var e=function(e,t){this._$clearEvent(t)};return function(i){var i=(i||"").toLowerCase();if(i)delete this.__events[i];else t._$loop(this.__events,e,this)}}();e._$addEvent=function(e,i){if(e&&t._$isFunction(i)){e=e.toLowerCase();var n=this.__events[e];if(n){if(!t._$isArray(n))this.__events[e]=[n];this.__events[e].push(i)}else this.__events[e]=i}};e._$dispatchEvent=function(n){var n=(n||"").toLowerCase(),e=this.__events[n];if(e){var i=r.slice.call(arguments,1);if(t._$isArray(e))t._$forEach(e,function(t){if(!1)t.apply(this,i);else try{t.apply(this,i)}catch(e){console.error(e.message);console.error(e.stack)}},this);else e.apply(this,i)}};if(!0){i._$$Event=i._$$EventTarget;s.copy(s.P("nej.ut"),i)}return i},8,1,3,2);!function(){if("undefined"==typeof TrimPath){TrimPath={};if("undefined"!=typeof exports)TrimPath=exports}var o,e,a,i={},n=[],d=/\s+/g,h=+new Date,t=function(){var t=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,e=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;]/,i=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,n=/^new\s+/,s=/['"]/,o=function(e){if(!t.test(e)){e=e.split(".")[0].trim();if(e&&!s.test(e)){e=e.replace(n,"");try{if(i.test(e))return;a[e]=1}catch(o){}}}};return function(i){i=i||"";if(i&&!t.test(i))for(var s=i.split(e),n=0,a=s.length;a>n;n++)o(s[n])}}(),_=function(e){if("in"!=e[2])throw"bad for loop statement: "+e.join(" ");n.push(e[1]);t(e[3]);return"var __HASH__"+e[1]+" = "+e[3]+","+e[1]+","+e[1]+"_count=0;if (!!__HASH__"+e[1]+")for(var "+e[1]+"_key in __HASH__"+e[1]+"){"+e[1]+" = __HASH__"+e[1]+"["+e[1]+"_key];if (typeof("+e[1]+')=="function") continue;'+e[1]+"_count++;"},y=function(){var t=n[n.length-1];return"}; if(!__HASH__"+t+"||!"+t+"_count){"},b=function(){n.pop();return"};"},$=function(e){if("as"!=e[2])throw"bad for list loop statement: "+e.join(" ");var i=e[1].split("..");if(i.length>1){t(i[0]);t(i[1]);return"for(var "+e[3]+","+e[3]+"_index=0,"+e[3]+"_beg="+i[0]+","+e[3]+"_end="+i[1]+","+e[3]+"_length=parseInt("+e[3]+"_end-"+e[3]+"_beg+1);"+e[3]+"_index<"+e[3]+"_length;"+e[3]+"_index++){"+e[3]+" = "+e[3]+"_beg+"+e[3]+"_index;"}else{t(e[1]);return"for(var __LIST__"+e[3]+" = "+e[1]+","+e[3]+","+e[3]+"_index=0,"+e[3]+"_length=__LIST__"+e[3]+".length;"+e[3]+"_index<"+e[3]+"_length;"+e[3]+"_index++){"+e[3]+" = __LIST__"+e[3]+"["+e[3]+"_index];"}},x=function(t){if(t&&t.length){t.shift();var e=t[0].split("(")[0];return"var "+e+" = function"+t.join("").replace(e,"")+"{var __OUT=[];"}},p=function(t){if(!t[1])throw"bad include statement: "+t.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('},l=function(e,i){t(i.slice(1).join(" "));return e},f=function(t){return l("if(",t)},m=function(t){return l("}else if(",t)},g=function(t){return l("var ",t)};e={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{"if":{pfix:f,sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:m,sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:_,pmin:3},forelse:{pfix:y},"/for":{pfix:b},list:{pfix:$,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:g,sfix:";"},macro:{pfix:x},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){o=!0}},"/trim":{pfix:function(){o=null}},inline:{pfix:p,pmin:1,sfix:"));}"}},ext:{seed:function(t){return(t||"")+""+h},"default":function(t,e){return t||e}}};var v=function(){var t=/\\([\{\}])/g;return function(a,n){a=a.replace(t,"$1");var o=a.slice(1,-1).split(d),i=e.def[o[0]];if(i){if(i.pmin&&i.pmin>=o.length)throw"Statement needs more parameters:"+a;n.push(i.pfix&&"string"!=typeof i.pfix?i.pfix(o):i.pfix||"");if(i.sfix){if(o.length<=1){if(i.pdft)n.push(i.pdft)}else for(var r=1,l=o.length;l>r;r++){if(r>1)n.push(" ");n.push(o[r])}n.push(i.sfix)}}else s(a,n)}}(),c=function(e,i){if(e&&e.length)if(1!=e.length){var n=e.pop().split(":");i.push("__MDF['"+n.shift()+"'](");c(e,i);if(n.length>0){var o=n.join(":");t(o);i.push(","+o)}i.push(")")}else{var s=e.pop();t(s);i.push(""==s?'""':s)}},s=function(n,s){if(n){var e=n.split("\n");if(e&&e.length)for(var t,i=0,a=e.length;a>i;i++){t=e[i];if(o){t=t.trim();if(!t)continue}w(t,s);if(o&&a-1>i)s.push("__OUT.push('\\n');")}}},w=function(){var t=/\|\|/g,e=/#@@#/g;return function(i,h){for(var s,u,n,d,a,l="}",o=-1,_=i.length;o+l.length<_;){s="${";u="}";n=i.indexOf(s,o+l.length);if(0>n)break;if("%"==i.charAt(n+2)){s="${%";u="%}"}d=i.indexOf(u,n+s.length);if(0>d)break;r(i.substring(o+l.length,n),h);a=i.substring(n+s.length,d).replace(t,"#@@#").split("|");for(var p=0,f=a.length;f>p;a[p]=a[p].replace(e,"||"),p++);h.push("__OUT.push(");c(a,h);h.push(");");l=u;o=d}r(i.substring(o+l.length),h)}}(),r=function(){var t={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"},e=function(e){return(e||"").replace(t.r,function(e){return t[e]||e})};return function(t,i){if(t)i.push("__OUT.push('"+e(t)+"');")}}(),u=function(){var i=/\t/g,n=/\n/g,o=/\r\n?/g,t=function(e,i){for(var t=e.indexOf("}",i+1);"\\"==e.charAt(t-1);)t=e.indexOf("}",t+1);return t},l=function(){var e=[],i=arguments[0];for(var t in i){t=(t||"").trim();if(t)e.push(t+"=$v('"+t+"')");else;}return e.length>0?"var "+e.join(",")+";":""};return function(c){a={};c=c.replace(o,"\n").replace(i,"    ");var u=["if(!__CTX) return '';",""];u.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};");u.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},");u.push("__OUT=[];");for(var h,f,m,g,p,y,w,b,_=-1,$=c.length;$>_+1;){h=_;h=c.indexOf("{",h+1);for(;h>=0;){f=t(c,h);m=c.substring(h,f);g=m.match(e.blk);if(g){p=g[1].length+1;y=c.indexOf("}",h+p);if(y>=0){w=0>=y-h-p?"{/"+g[1]+"}":m.substr(p+1);p=c.indexOf(w,y+1);if(p>=0){s(c.substring(_+1,h),u);b=c.substring(y+1,p);switch(g[1]){case"cdata":r(b,u);break;case"minify":r(b.replace(n," ").replace(d," "),u);break;case"eval":if(b)u.push("__OUT.push((function(){"+b+"})());")}h=_=p+w.length-1}}}else if("$"!=c.charAt(h-1)&&"\\"!=c.charAt(h-1)&&0==m.substr("/"==m.charAt(1)?2:1).search(e.tag))break;h=c.indexOf("{",h+1)}if(0>h)break;f=t(c,h);if(0>f)break;s(c.substring(_+1,h),u);v(c.substring(h,f+1),u);_=f}s(c.substring(_+1),u);u.push(';return __OUT.join("");');u[1]=l(a);a=null;return new Function("__CTX","__MDF",u.join(""))}}();TrimPath.seed=function(){return h};TrimPath.merge=function(){var t={};TrimPath.dump=function(){return{func:t,text:i}};return function(n,o,s){try{o=o||{};if(!t[n]&&!i[n])return"";if(!t[n]){t[n]=u(i[n]);delete i[n]}if(s)for(var a in e.ext)if(!s[a])s[a]=e.ext[a];return t[n](o,s||e.ext)}catch(r){return r.message||""}}}();TrimPath.parse=function(){var t=+new Date;return function(n,e){if(!n)return"";e=e||"ck_"+t++;i[e]=n;return e}}()}();I$(30,function(a,i,n,o,r,t,l,h,c){var s={};t._$seed=TrimPath.seed;t._$get=function(){var e=function(e){return!t._$getTextTemplate?"":t._$getTextTemplate(e)};return function(o,n,t){n=n||{};n.inline=e;t=i._$merge({},s,t);t.rand=i._$uniqueID;t.format=i._$format;t.escape=i._$escape;t.inline=e;return TrimPath.merge(o,n,t)}}();t._$add=function(e,s){if(!e)return"";var i,t=n._$get(e);if(t){i=t.id;e=t.value||t.innerText;if(!s)n._$remove(t)}return TrimPath.parse(e,i)};t._$render=function(e,i,s,o){e=n._$get(e);if(e)e.innerHTML=t._$get(i,s,o)};t._$extend=function(t){i._$merge(s,t)};o._$merge({_$render:t._$render});if(!0){var e=a.P("nej.e");e._$addHtmlTemplate=t._$add;e._$getHtmlTemplate=t._$get;e._$getHtmlTemplateSeed=t._$seed;e._$renderHtmlTemplate=t._$render;e._$registJSTExt=t._$extend}return t},8,2,4,12,34);I$(31,function(n,a,o,i,e,h,s,r,l,c){var t;s._$$CustomEvent=a._$klass();t=s._$$CustomEvent._$extend(h._$$EventTarget);t.__init=function(){this.__cache={};this.__super()};t.__reset=function(t){this.__super(t);this.__element=o._$get(t.element)||window;this.__doEventInit(t.event);this.__doEventAPIEnhance();this._$dispatchEvent("oninit")};t.__destroy=function(){var t=function(i,t,n){if(!e._$isArray(i))e._$safeDelete(this.__element,t);delete n[t]};return function(){this.__super();e._$loop(this.__cache,t,this);delete this.__element}}();t.__isDelegate=function(t,e){t=o._$get(t);return!(t!==this.__element||e&&!this.__cache["on"+e])};t.__doEventInit=function(t){if(!e._$isString(t)){if(e._$isArray(t))e._$forEach(t,this.__doEventInit,this)}else{var i="on"+t;if(!this.__cache[i])this.__cache[i]=this.__doEventDispatch._$bind(this,t);this.__doEventBind(t)}};t.__doEventBind=function(e){var i="on"+e,t=this.__element[i],n=this.__cache[i];if(t!=n){this.__doEventDelete(e);if(t&&t!=l)this.__doEventAdd(e,t);this.__element[i]=n}};t.__doEventAdd=function(n,i,s){var t=this.__cache[n];if(!t){t=[];this.__cache[n]=t}if(e._$isFunction(i))!s?t.push(i):t.unshift(i)};t.__doEventDelete=function(i,n){var t=this.__cache[i];if(t&&t.length)if(n)e._$reverseEach(t,function(t,e,i){if(n===t){i.splice(e,1);return!0}});else delete this.__cache[i]};t.__doEventDispatch=function(i,t){t=t||{noargs:!0};if(t==r)t={};t.type=i;this._$dispatchEvent("ondispatch",t);if(!t.stopped)e._$forEach(this.__cache[i],function(e){if(!1)e(t);else try{e(t)}catch(i){console.error(i.message);console.error(i.stack)}})};t.__doEventAPIEnhance=function(){var t=function(i){var t=i.args,e=t[1].toLowerCase();if(this.__isDelegate(t[0],e)){i.stopped=!0;this.__doEventBind(e);this.__doEventAdd(e,t[2],t[3]);

this._$dispatchEvent("oneventadd",{type:e,listener:t[2]})}},s=function(e){var t=e.args,i=t[1].toLowerCase();if(this.__isDelegate(t[0],i)){e.stopped=!0;this.__doEventDelete(i,t[2])}},o=function(n){var t=n.args,i=(t[1]||"").toLowerCase();if(this.__isDelegate(t[0])){if(i){this.__doEventDelete(i);return}e._$loop(this.__cache,function(t,i){if(e._$isArray(t))this.__doEventDelete(i)},this)}},a=function(e){var t=e.args,i=t[1].toLowerCase();if(this.__isDelegate(t[0],i)){e.stopped=!0;t[0]["on"+i].apply(t[0],t.slice(2))}};return function(){if(!this.__enhanced){this.__enhanced=!0;i._$addEvent=i._$addEvent._$aop(t._$bind(this));i._$delEvent=i._$delEvent._$aop(s._$bind(this));i._$clearEvent=i._$clearEvent._$aop(o._$bind(this));i._$dispatchEvent=i._$dispatchEvent._$aop(a._$bind(this));if(!0)n.copy(n.P("nej.v"),i)}}}();if(!0)n.copy(n.P("nej.ut"),s);return s},8,1,4,3,2,21);I$(39,function(d,a,e,n,s,o,i,c,l,h){var t,r=6e4;i._$$LoaderAbstract=a._$klass();t=i._$$LoaderAbstract._$extend(o._$$EventTarget);t.__init=function(){this.__super();this.__qopt={onerror:this.__onQueueError._$bind(this),onload:this.__onQueueLoaded._$bind(this)};if(!this.constructor.__cache)this.constructor.__cache={loaded:{}}};t.__reset=function(t){this.__super(t);this.__version=t.version;this.__timeout=t.timeout;this.__qopt.version=this.__version;this.__qopt.timeout=this.__timeout};t.__delLoadData=function(t){delete this.constructor.__cache[t]};t.__getLoadData=function(t){return this.constructor.__cache[t]};t.__setLoadData=function(t,e){this.constructor.__cache[t]=e};t.__getRequest=l;t.__doClearRequest=function(t){n._$clearEvent(t)};t.__doRequest=function(t){t.src=this.__url;document.head.appendChild(t)};t.__doClear=function(){var t=this.__getLoadData(this.__url);if(t){window.clearTimeout(t.timer);this.__doClearRequest(t.request);delete t.bind;delete t.timer;delete t.request;this.__delLoadData(this.__url);this.__getLoadData("loaded")[this.__url]=!0}};t.__doCallback=function(s){var n=this.__getLoadData(this.__url);if(n){var t=n.bind;this.__doClear();if(t&&t.length>0)for(var e;t.length;){e=t.shift();try{e._$dispatchEvent(s,arguments[1])}catch(i){if(!1)throw i;console.error(i.message);console.error(i.stack)}e._$recycle()}}};t.__onError=function(t){this.__doCallback("onerror",t)};t.__onLoaded=function(){this.__doCallback("onload")};t.__doLoadQueue=function(t){this.constructor._$allocate(this.__qopt)._$load(t)};t.__onQueueCheck=function(e){var t=this.__getLoadData(this.__key);if(t){if(e)t.error++;t.loaded++;if(!(t.loaded<t.total)){this.__delLoadData(this.__key);this._$dispatchEvent(t.error>0?"onerror":"onload")}}};t.__onQueueError=function(t){this.__onQueueCheck(!0)};t.__onQueueLoaded=function(){this.__onQueueCheck()};t._$load=function(o){o=s._$absolute(o);if(o){this.__url=o;if(this.__version)this.__url+=(this.__url.indexOf("?")<0?"?":"&")+this.__version;if(!this.__getLoadData("loaded")[this.__url]){var i,t=this.__getLoadData(this.__url);if(t){t.bind.unshift(this);t.timer=window.clearTimeout(t.timer)}else{i=this.__getRequest();t={request:i,bind:[this]};this.__setLoadData(this.__url,t);n._$addEvent(i,"load",this.__onLoaded._$bind(this));n._$addEvent(i,"error",this.__onError._$bind(this,{code:e._$CODE_ERRSERV,message:"无法加载指定资源文件["+this.__url+"]！"}))}if(0!=this.__timeout)t.timer=window.setTimeout(this.__onError._$bind(this,{code:e._$CODE_TIMEOUT,message:"指定资源文件["+this.__url+"]载入超时！"}),this.__timeout||r);if(i)this.__doRequest(i);this._$dispatchEvent("onloading")}else{try{this._$dispatchEvent("onload")}catch(a){if(!1)throw a;console.error(a.message);console.error(a.stack)}this._$recycle()}}else this._$dispatchEvent("onerror",{code:e._$CODE_NOTASGN,message:"请指定要载入的资源地址！"})};t._$queue=function(t){if(t&&t.length){this.__key=s._$uniqueID();var i={error:0,loaded:0,total:t.length};this.__setLoadData(this.__key,i);s._$forEach(t,function(t,e){if(t)this.__doLoadQueue(t);else i.total--},this);this._$dispatchEvent("onloading")}else this._$dispatchEvent("onerror",{code:e._$CODE_NOTASGN,message:"请指定要载入的资源队列！"})};return i},8,1,14,3,2,21);!function(){var e=!0,t=null;!function(b){function _(n){if("bug-string-char-index"==n)return"a"!="a"[0];var o,c="json"==n;if(c||"json-stringify"==n||"json-parse"==n){if("json-stringify"==n||c){var i=a.stringify,d="function"==typeof i&&r;if(d){(o=function(){return 1}).toJSON=o;try{d="0"===i(0)&&"0"===i(new Number)&&'""'==i(new String)&&i(s)===l&&i(l)===l&&i()===l&&"1"===i(o)&&"[1]"==i([o])&&"[null]"==i([l])&&"null"==i(t)&&"[null,null,null]"==i([l,s,t])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==i({a:[o,e,!1,t,"\x00\b\n\f\r	"]})&&"1"===i(t,o)&&"[\n 1,\n 2\n]"==i([1,2],t,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new Date(-1))}catch(u){d=!1}}if(!c)return d}if("json-parse"==n||c){n=a.parse;if("function"==typeof n)try{if(0===n("0")&&!n(!1)){o=n('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var h=5==o.a.length&&1===o.a[0];if(h){try{h=!n('"	"')}catch(p){}if(h)try{h=1!==n("01")}catch(_){}}}}catch(f){h=!1}if(!c)return h}return d&&h}}var o,y,l,s={}.toString,g="function"==typeof define&&define.amd,a="object"==typeof exports&&exports;a||g?"object"==typeof JSON&&JSON?a?(a.stringify=JSON.stringify,a.parse=JSON.parse):a=JSON:g&&(a=b.JSON={}):a=b.JSON||(b.JSON={});var r=new Date(-0xc782b5b800cec);try{r=-109252==r.getUTCFullYear()&&0===r.getUTCMonth()&&1===r.getUTCDate()&&10==r.getUTCHours()&&37==r.getUTCMinutes()&&6==r.getUTCSeconds()&&708==r.getUTCMilliseconds()}catch(I){}if(!_("json")){var u=_("bug-string-char-index");if(!r)var h=Math.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(e,t){return k[t]+365*(e-1970)+h((e-1969+(t=+(t>1)))/4)-h((e-1901+t)/100)+h((e-1601+t)/400)};if(!(o={}.hasOwnProperty))o=function(n){var i,e={};if((e.__proto__=t,e.__proto__={toString:1},e).toString!=s)o=function(e){var i=this.__proto__,e=e in(this.__proto__=t,this);this.__proto__=i;return e};else{i=e.constructor;o=function(t){var e=(this.constructor||i).prototype;return t in this&&!(t in e&&this[t]===e[t])}}e=t;return o.call(this,n)};var S={"boolean":1,number:1,string:1,undefined:1};y=function(r,l){var n,e,a,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0;e=new n;for(a in e)o.call(e,a)&&i++;n=e=t;if(i)i=2==i?function(e,n){var t,i={},a="[object Function]"==s.call(e);for(t in e)!(a&&"prototype"==t)&&!o.call(i,t)&&(i[t]=1)&&o.call(e,t)&&n(t)}:function(e,i){var t,n,a="[object Function]"==s.call(e);for(t in e)!(a&&"prototype"==t)&&o.call(e,t)&&!(n="constructor"===t)&&i(t);(n||o.call(e,t="constructor"))&&i(t)};else{e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];i=function(i,r){var n,t,a="[object Function]"==s.call(i);if(t=!a)if(t="function"!=typeof i.constructor){t=typeof i.hasOwnProperty;t="object"==t?!!i.hasOwnProperty:!S[t]}t=t?i.hasOwnProperty:o;for(n in i)!(a&&"prototype"==n)&&t.call(i,n)&&r(n);for(a=e.length;n=e[--a];t.call(i,n)&&r(n));}}i(r,l)};if(!_("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},c=function(t,e){return("000000"+(e||0)).slice(-t)},$=function(e){var s,i='"',t=0,o=e.length,a=o>10&&u;for(a&&(s=e.split(""));o>t;t++){var n=e.charCodeAt(t);switch(n){case 8:case 9:case 10:case 12:case 13:case 34:case 92:i+=T[n];break;default:if(32>n){i+="\\u00"+c(2,n.toString(16));break}i+=a?s[t]:u?e.charAt(t):e[t]}}return i+'"'},v=function(a,g,x,C,m,u,b){var n,r,d,_,T,k,E,f,w,i=g[a];try{i=g[a]}catch(S){}if("object"==typeof i&&i){n=s.call(i);if("[object Date]"==n&&!o.call(i,"toJSON"))if(i>-1/0&&1/0>i){if(p){d=h(i/864e5);for(n=h(d/365.2425)+1970-1;p(n+1,0)<=d;n++);for(r=h((d-p(n,0))/30.42);p(n,r+1)<=d;r++);d=1+d-p(n,r);_=(i%864e5+864e5)%864e5;T=h(_/36e5)%24;k=h(_/6e4)%60;E=h(_/1e3)%60;_%=1e3}else{n=i.getUTCFullYear();r=i.getUTCMonth();d=i.getUTCDate();T=i.getUTCHours();k=i.getUTCMinutes();E=i.getUTCSeconds();_=i.getUTCMilliseconds()}i=(0>=n||n>=1e4?(0>n?"-":"+")+c(6,0>n?-n:n):c(4,n))+"-"+c(2,r+1)+"-"+c(2,d)+"T"+c(2,T)+":"+c(2,k)+":"+c(2,E)+"."+c(3,_)+"Z"}else i=t;else if("function"==typeof i.toJSON&&("[object Number]"!=n&&"[object String]"!=n&&"[object Array]"!=n||o.call(i,"toJSON")))i=i.toJSON(a)}x&&(i=x.call(g,a,i));if(i===t)return"null";n=s.call(i);if("[object Boolean]"==n)return""+i;if("[object Number]"==n)return i>-1/0&&1/0>i?""+i:"null";if("[object String]"==n)return $(""+i);if("object"==typeof i){for(a=b.length;a--;)if(b[a]===i)throw TypeError();b.push(i);f=[];g=u;u+=m;if("[object Array]"==n){r=0;for(a=i.length;a>r;w||(w=e),r++){n=v(r,i,x,C,m,u,b);f.push(n===l?"null":n)}a=w?m?"[\n"+u+f.join(",\n"+u)+"\n"+g+"]":"["+f.join(",")+"]":"[]"}else{y(C||i,function(t){var n=v(t,i,x,C,m,u,b);n!==l&&f.push($(t)+":"+(m?" ":"")+n);w||(w=e)});a=w?m?"{\n"+u+f.join(",\n"+u)+"\n"+g+"}":"{"+f.join(",")+"}":"{}"}b.pop();return a}};a.stringify=function(l,e,t){var n,a,o;if("function"==typeof e||"object"==typeof e&&e)if("[object Function]"==s.call(e))a=e;else if("[object Array]"==s.call(e)){o={};for(var i,r=0,h=e.length;h>r;i=e[r++],("[object String]"==s.call(i)||"[object Number]"==s.call(i))&&(o[i]=1));}if(t)if("[object Number]"==s.call(t)){if((t-=t%1)>0){n="";for(t>10&&(t=10);n.length<t;n+=" ");}}else"[object String]"==s.call(t)&&(n=t.length<=10?t:t.slice(0,10));return v("",(i={},i[""]=l,i),a,o,n,"",[])}}if(!_("json-parse")){var i,f,C=String.fromCharCode,E={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},n=function(){i=f=t;throw SyntaxError()},d=function(){for(var r,l,a,c,s,o=f,h=o.length;h>i;){s=o.charCodeAt(i);switch(s){case 9:case 10:case 13:case 32:i++;break;case 123:case 125:case 91:case 93:case 58:case 44:r=u?o.charAt(i):o[i];i++;return r;case 34:r="@";for(i++;h>i;){s=o.charCodeAt(i);if(32>s)n();else if(92==s){s=o.charCodeAt(++i);switch(s){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:r+=E[s];i++;break;case 117:l=++i;for(a=i+4;a>i;i++){s=o.charCodeAt(i);s>=48&&57>=s||s>=97&&102>=s||s>=65&&70>=s||n();

}r+=C("0x"+o.slice(l,i));break;default:n()}}else{if(34==s)break;s=o.charCodeAt(i);for(l=i;s>=32&&92!=s&&34!=s;)s=o.charCodeAt(++i);r+=o.slice(l,i)}}if(34==o.charCodeAt(i)){i++;return r}n();default:l=i;if(45==s){c=e;s=o.charCodeAt(++i)}if(s>=48&&57>=s){for(48==s&&(s=o.charCodeAt(i+1),s>=48&&57>=s)&&n();h>i&&(s=o.charCodeAt(i),s>=48&&57>=s);i++);if(46==o.charCodeAt(i)){for(a=++i;h>a&&(s=o.charCodeAt(a),s>=48&&57>=s);a++);a==i&&n();i=a}s=o.charCodeAt(i);if(101==s||69==s){s=o.charCodeAt(++i);(43==s||45==s)&&i++;for(a=i;h>a&&(s=o.charCodeAt(a),s>=48&&57>=s);a++);a==i&&n();i=a}return+o.slice(l,i)}c&&n();if("true"==o.slice(i,i+4)){i+=4;return e}if("false"==o.slice(i,i+5)){i+=5;return!1}if("null"==o.slice(i,i+4)){i+=4;return t}n()}}return"$"},m=function(t){var i,s;"$"==t&&n();if("string"==typeof t){if("@"==(u?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(i=[];;s||(s=e)){t=d();if("]"==t)break;if(s)if(","==t){t=d();"]"==t&&n()}else n();","==t&&n();i.push(m(t))}return i}if("{"==t){for(i={};;s||(s=e)){t=d();if("}"==t)break;if(s)if(","==t){t=d();"}"==t&&n()}else n();(","==t||"string"!=typeof t||"@"!=(u?t.charAt(0):t[0])||":"!=d())&&n();i[t.slice(1)]=m(d())}return i}n()}return t},x=function(e,i,t){t=w(e,i,t);t===l?delete e[i]:e[i]=t},w=function(n,o,e){var i,t=n[o];if("object"==typeof t&&t)if("[object Array]"==s.call(t))for(i=t.length;i--;)x(t,i,e);else y(t,function(i){x(t,i,e)});return e.call(n,o,t)};a.parse=function(r,e){var o,a;i=0;f=""+r;o=m(d());"$"!=d()&&n();i=f=t;return e&&"[object Function]"==s.call(e)?w((a={},a[""]=o,a),"",e):o}}}g&&define(function(){return a})}(this);return JSON}();I$(46,function(_m,_p,_o,_f,_r){var _k_=(!0?NEJ.P("nej.p"):arguments[0])._$KERNEL;if("trident"==_k_.engine&&"2.0"==_k_.release)!function(){JSON.parse=function(){var _isSafeJSON=function(t){return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(t.replace(/"(\\.|[^"\\])*"/g,""))};return JSON.parse._$aop(function(_event){var _str=_event.args[0]||"";if(_str.length>=5e5){_event.stopped=!0;_event.value=eval("("+_str+")")}})}()}();return JSON},11,47);I$(45,function(){return JSON},46);I$(42,function(l,i,a,r,e,o,h,d,s,c,n,u){var t;s._$$ProxyAbstract=l._$klass();t=s._$$ProxyAbstract._$extend(o._$$EventTarget);t.__reset=function(n){this.__super(n);this.__request=i._$fetch({url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4},n);var t=r._$get("csrf");if(t.cookie&&t.param){var s=encodeURIComponent(t.param)+"="+encodeURIComponent(h._$cookie(t.cookie)||""),o=this.__request.url.indexOf("?")<0?"?":"&";this.__request.url+=o+s}this.__headers=n.headers||{};var a=this.__headers[e._$HEAD_CT];if(null==a)this.__headers[e._$HEAD_CT]=e._$HEAD_CT_FORM};t.__destroy=function(){this.__super();delete this.__rkey;delete this.__request;delete this.__headers};t.__onLoadRequest=function(i){var t=i.status;if(-1!=t)if(0==(""+t).indexOf("2"))this._$dispatchEvent("onload",a._$text2type(i.result,this.__request.type));else this._$dispatchEvent("onerror",{data:t,result:i.result,code:e._$CODE_ERRSERV,message:"服务器返回异常状态["+t+"]!"});else this._$dispatchEvent("onerror",{code:e._$CODE_TIMEOUT,message:"请求["+this.__request.url+"]超时！"})};t.__doSendRequest=n;t.__getResponseHeader=n;t._$send=function(t){var i=this.__request.url;if(i)try{this.__request.data=null==t?null:t;var n={request:this.__request,headers:this.__headers};try{this._$dispatchEvent("onbeforerequest",n)}catch(s){console.error(s.message);console.error(s.stack)}this.__doSendRequest(n)}catch(o){this._$dispatchEvent("onerror",{code:e._$CODE_ERRSERV,message:"请求["+i+"]失败:"+o.message+"！"})}else this._$dispatchEvent("onerror",{code:e._$CODE_NOTASGN,message:"没有输入请求地址！"})};t._$abort=n;t._$header=function(t){if(!i._$isArray(t))return this.__getResponseHeader(t)||"";var e={};i._$forEach(t,function(t){e[t]=this._$header(t)},this);return e};return s},1,2,4,16,14,21,44,45);I$(48,function(t,e,i,n){t.__getXMLHttpRequest=function(){return new XMLHttpRequest};return t});I$(43,function(t,i,n,s,o,a,r){var e=(!0?NEJ.P("nej.p"):arguments[2])._$KERNEL;if("trident"==e.engine&&e.release<="2.0")!function(){t.__getXMLHttpRequest=function(){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.5.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];return function(){var e=null;i._$forIn(t,function(t){try{e=new ActiveXObject(t);return!0}catch(i){}});return e}}()}();return t},48,2,11);I$(40,function(s,e,o,i,a,n,l,r,h){var t;n._$$ProxyXHR=o._$klass();t=n._$$ProxyXHR._$extend(s._$$ProxyAbstract);t.__destroy=function(){this.__super();window.clearTimeout(this.__timer);delete this.__timer;try{this.__xhr.onreadystatechange=r;this.__xhr.abort()}catch(t){}delete this.__xhr};t.__doSendRequest=function(){var t=function(t,e){this.__xhr.setRequestHeader(e,t)},n=function(i){var t=[];e._$reverseEach(i.getElementsByTagName("input"),function(i){if("file"==i.type)if(i.name){if(i.files.length>1){e._$forEach(i.files,function(e){t.push({name:i.name,file:e})});i.parentNode.removeChild(i)}}else i.parentNode.removeChild(i)});return t.length>0?t:null};return function(r){var s=r.request,o=r.headers;this.__xhr=a.__getXMLHttpRequest();if(o[i._$HEAD_CT]===i._$HEAD_CT_FILE){delete o[i._$HEAD_CT];this.__xhr.upload.onprogress=this.__onStateChange._$bind(this,1);if("FORM"===s.data.tagName){var l=n(s.data);s.data=new FormData(s.data);e._$forEach(l,function(t){var i=t.file;s.data.append(t.name||i.name||"file-"+e._$uniqueID(),i)})}}this.__xhr.onreadystatechange=this.__onStateChange._$bind(this,2);if(0!==s.timeout)this.__timer=window.setTimeout(this.__onStateChange._$bind(this,3),s.timeout);this.__xhr.open(s.method,s.url,!s.sync);e._$loop(o,t,this);if(this.__request.cookie&&"withCredentials"in this.__xhr)this.__xhr.withCredentials=!0;this.__xhr.send(s.data)}}();t.__onStateChange=function(t){switch(t){case 1:this._$dispatchEvent("onuploading",arguments[1]);break;case 2:if(4==this.__xhr.readyState)this.__onLoadRequest({status:this.__xhr.status,result:this.__xhr.responseText||""});break;case 3:this.__onLoadRequest({status:-1})}};t.__getResponseHeader=function(t){return!this.__xhr?"":this.__xhr.getResponseHeader(t)};t._$abort=function(){this.__onLoadRequest({status:0})};return n},42,2,1,14,43);I$(58,function(t,i,o,a,r){var e=this,n=t._$KERNEL.prefix.pro,s=t._$is("desktop")?80:t._$is("ios")?50:30;i.__requestAnimationFrame=function(){var i=t._$is("android")?null:e.requestAnimationFrame||e[n+"RequestAnimationFrame"];return function(){if(!i)i=function(t){return window.setTimeout(function(){try{t(+new Date)}catch(e){}},1e3/s)};return i.apply(this,arguments)}}();i.__cancelAnimationFrame=function(){var i=t._$is("android")?null:e.cancelAnimationFrame||e[n+"CancelAnimationFrame"];return function(){if(!i)i=function(t){window.clearTimeout(t)};return i.apply(this,arguments)}}();return i},11);I$(57,function(t,e){return t},58,11);I$(54,function(i,e,t,n,s,o){t.requestAnimationFrame=function(){e.__requestAnimationFrame.apply(null,arguments)};t.cancelAnimationFrame=function(){e.__cancelAnimationFrame.apply(null,arguments)};if(!0){if(!this.requestAnimationFrame)this.requestAnimationFrame=t.requestAnimationFrame;if(!this.cancelAnimationFrame)this.cancelAnimationFrame=t.cancelAnimationFrame}return t},11,57);I$(59,function(e,t,i,n,s){t.__canFlashEventBubble=function(t){return"transparent"!=(t||"").toLowerCase()};return t},11);I$(55,function(t,i,n,s,o,a){var e=(!0?NEJ.P("nej.p"):arguments[1])._$KERNEL;if("trident"==e.engine)!function(){t.__canFlashEventBubble=function(t){return!0}}();if("webkit"==e.engine)!function(){t.__canFlashEventBubble=function(t){return!0}}();return t},59,11);I$(56,'{var hide  = defined("hidden")&&!!hidden} {var param = defined("params")&&params||NEJ.O} {var width = !hide?width:"1px",height = !hide?height:"1px"} {if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if} <object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"         codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"         width = "${width|default:"100px"}"         height = "${height|default:"100px"}" id="${id}">     <param value="${src}" name="movie">     {for x in param}     <param value="${x}" name="${x_key}"/>     {/for}     <embed src="${src}" name="${id}"            width="${width|default:"100px"}"            height="${height|default:"100px"}"            pluginspage="http://www.adobe.com/go/getflashplayer"            type="application/x-shockwave-flash"            {for x in param}${x_key}="${x}" {/for}></embed> </object> {if hide}</div>{/if}');I$(53,function(i,e,l,t,s,o,h,r,n,c,d,u){var a=s._$add(r);n._$flash=function(){var r,n={},d=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(t){var e=decodeURIComponent(t.target),i=t.type.toLowerCase(),s=n[e+"-tgt"];if(s&&d.test(i))p(s,t);var o=n[e+"-on"+i];if(o){var a="";try{a=o(t)}catch(r){}return a}};var u=function(t){r=document.title;var i=e._$get(t.parent)||document.body,n=s._$get(a,t);i.insertAdjacentHTML(!t.hidden?"beforeEnd":"afterBegin",n)},p=function(t,e){var i=e.type.toLowerCase();o.requestAnimationFrame(function(){l._$dispatchEvent(t,i)})},_=function(t){return!!t&&!!t.inited&&!!t.inited()},c=function(i){var o=[document.embeds[i],e._$get(i),document[i],window[i]],l=t._$forIn(o,_),a=o[l],s=i+"-count";n[s]++;if(!(a||n[s]>100))window.setTimeout(c._$bind(null,i),300);else{if(r){document.title=r;r=null}n[i](a);delete n[i];delete n[s]}},f=function(i){var o=i.id,s=i.params;if(!s){s={};i.params=s}var a=s.flashvars||"";a+=(!a?"":"&")+("id="+o);if(!i.hidden&&(i.target||h.__canFlashEventBubble(s.wmode))){var r=e._$id(i.target)||e._$id(i.parent);n[o+"-tgt"]=r}s.flashvars=a;t._$loop(i,function(e,i){if(t._$isFunction(e)&&"onready"!=i)n[o+"-"+i]=e})};return function(e){e=i.X({},e);if(e.src){var s="_"+t._$uniqueID();e.id=s;f(e);u(e);if(e.onready){n[s]=e.onready;n[s+"-count"]=0;c(s)}}}}();if(!0)i.copy(i.P("nej.e"),n);return n},8,4,3,2,30,54,55,56);I$(50,function(l,a,o,e,r,n,d,c,h){var s,t={},i=e._$uniqueID();this["ld"+i]=function(e,n){var i=t[e];if(i){delete t[e];

i.__onLoadRequest({status:200,result:n})}};this["er"+i]=function(e,n){var i=t[e];if(i){delete t[e];i.__onLoadRequest({status:n||0})}};n._$$ProxyFlash=a._$klass();s=n._$$ProxyFlash._$extend(l._$$ProxyAbstract);s.__doSendRequest=function(s){var a=t.flash;if(!e._$isArray(a))if(a){this.__rkey=e._$uniqueID();t[this.__rkey]=this;var n=e._$fetch({url:"",data:null,method:"GET"},s.request);n.key=this.__rkey;n.headers=s.headers;n.onerror="cb.er"+i;n.onloaded="cb.ld"+i;var l=o._$getFlashProxy(n.url);if(l)n.policyURL=l;a.request(n)}else{t.flash=[this.__doSendRequest._$bind(this,s)];r._$flash({hidden:!0,src:o._$get("ajax.swf"),onready:function(i){if(i){var n=t.flash;t.flash=i;e._$reverseEach(n,function(t,e,i){try{t()}catch(n){}})}}})}else a.push(this.__doSendRequest._$bind(this,s))};s._$abort=function(){delete t[this.__rkey];this.__onLoadRequest({status:0})};return n},42,1,16,2,53);I$(62,function(t,e,i,n){t.__formatOrigin=function(){var t=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(e){e=e||"";if(t.test(e))return RegExp.$1;else return"*"}}();t.__formatPassData=function(t){return t};t.__postMessage=function(n,i){if(n.postMessage){i=i||e;n.postMessage(t.__formatPassData(i.data),t.__formatOrigin(i.origin))}};return t});I$(61,function(e,i,n,o,a,s,r,l){var t=(!0?NEJ.P("nej.p"):arguments[3])._$KERNEL;if("trident"==t.engine&&"4.0"<=t.release&&t.release<="5.0")!function(){e.__formatPassData=function(t){return JSON.stringify(t)}}();if("trident"==t.engine&&t.release<="3.0")!function(a){var t="MSG|",o=[],r=function(){var o=unescape(window.name||"").trim();if(o&&0==o.indexOf(t)){window.name="";var s=i._$string2object(o.replace(t,""),"|"),a=(s.origin||"").toLowerCase();if(!a||"*"==a||0==location.href.toLowerCase().indexOf(a))n._$dispatchEvent(window,"message",{data:JSON.parse(s.data||"null"),source:window.frames[s.self]||s.self,origin:e.__formatOrigin(s.ref||document.referrer)})}},l=function(){var t,e=function(e,n,s){if(i._$indexOf(t,e.w)<0){t.push(e.w);s.splice(n,1);e.w.name=e.d}};return function(){t=[];i._$reverseEach(o,e);t=null}}();e.__postMessage=function(){var e=function(e){var n={};e=e||s;n.origin=e.origin||"";n.ref=location.href;n.self=e.source;n.data=JSON.stringify(e.data);return t+i._$object2string(n,"|",!0)};return function(t,i){o.unshift({w:t,d:escape(e(i))})}}();a._$$CustomEvent._$allocate({element:window,event:"message"});setInterval(l,100);setInterval(r,20)}(I$(31),I$(45));return e},62,2,3,11,31,45);I$(60,function(e,i,n,s,t,o,a,r){t._$postMessage=function(){var t=window.name||"_parent",e={_top:window.top,_self:window,_parent:window.parent};return function(a,r){if(i._$isString(a)){a=e[a]||window.frames[a]||(n._$get(a)||o).contentWindow;if(!a)return}var l=i._$fetch({data:null,origin:"*",source:t},r);s.__postMessage(a,l)}}();if(!0)e.copy(e.P("nej.j"),t);return t},8,2,4,61);I$(51,function(r,e,a,s,l,o,h,n,u,c,d){var i,t={};n._$$ProxyFrame=a._$klass();i=n._$$ProxyFrame._$extend(r._$$ProxyAbstract);i.__init=function(){var e="NEJ-AJAX-DATA:",i=!1,n=function(s){var i=s.data;if(0==i.indexOf(e)){i=JSON.parse(i.replace(e,""));var n=t[i.key];if(n){delete t[i.key];i.result=decodeURIComponent(i.result||"");n.__onLoadRequest(i)}}},o=function(){if(!i){i=!0;s._$addEvent(window,"message",n)}};return function(){this.__super();o()}}();i.__doSendRequest=function(n){var c=n.request,i=l._$getFrameProxy(c.url),a=t[i];if(!e._$isArray(a))if(a){this.__rkey=e._$uniqueID();t[this.__rkey]=this;var r=e._$fetch({url:"",data:null,timeout:0,method:"GET"},c);r.key=this.__rkey;r.headers=n.headers;h._$postMessage(t[i],{data:r})}else{t[i]=[this.__doSendRequest._$bind(this,n)];o._$createXFrame({src:i,visible:!1,onload:function(n){var o=t[i];t[i]=s._$getElement(n).contentWindow;e._$reverseEach(o,function(t){try{t()}catch(e){}})}})}else a.push(this.__doSendRequest._$bind(this,n))};i._$abort=function(){delete t[this.__rkey];this.__onLoadRequest({status:0})};return n},42,2,1,3,16,4,60);I$(52,function(h,d,l,n,r,i,c,_,s,o,p,u){var t,a={},e="NEJ-UPLOAD-RESULT:";s._$$ProxyUpload=d._$klass();t=s._$$ProxyUpload._$extend(h._$$ProxyAbstract);t.__init=function(){var t=!1,i=function(n){var t=n.data;if(0==t.indexOf(e)){t=JSON.parse(t.replace(e,""));var i=a[t.key];if(i){delete a[t.key];i.__onLoadRequest(decodeURIComponent(t.result))}}},s=function(){if(!t){t=!0;n._$addEvent(window,"message",i)}};return function(){this.__super();s()}}();t.__destroy=function(){this.__super();r._$remove(this.__frame);delete this.__frame;window.clearTimeout(this.__timer);delete this.__timer};t.__onLoadRequest=function(t){var e;try{e=JSON.parse(t);this._$dispatchEvent("onload",e)}catch(n){this._$dispatchEvent("onerror",{code:i._$CODE_ERREVAL,message:t})}};t.__doSendRequest=function(){var s=function(){var t,i;try{var t=this.__frame.contentWindow.document.body,i=(t.innerText||t.textContent||"").trim();if(i.indexOf(e)>=0||t.innerHTML.indexOf(e)>=0)return}catch(n){return}this.__onLoadRequest(i)},t=function(e,i,n){c._$request(e,{type:"json",method:"POST",cookie:n,mode:parseInt(i)||0,onload:function(s){if(this.__timer){this._$dispatchEvent("onuploading",s);this.__timer=window.setTimeout(t._$bind(this,e,i,n),1e3)}}._$bind(this),onerror:function(s){if(this.__timer)this.__timer=window.setTimeout(t._$bind(this,e,i,n),1e3)}._$bind(this)})};return function(c){var u=c.request,e=(c.headers,u.data),h=l._$uniqueID();a[h]=this;e.target=h;e.method="POST";e.enctype=i._$HEAD_CT_FILE;e.encoding=i._$HEAD_CT_FILE;var d=e.action||"",p=d.indexOf("?")<=0?"?":"&";e.action=d+p+"_proxy_=form";this.__frame=r._$createXFrame({name:h,onload:function(a){var r=n._$getElement(a);n._$addEvent(r,"load",s._$bind(this));e.submit();var i=(e.nej_query||o).value;if(i){var l=(e.nej_mode||o).value,h="true"===(e.nej_cookie||o).value;this.__timer=window.setTimeout(t._$bind(this,i,l,h),100)}}._$bind(this)})}}();t._$abort=function(){this._$dispatchEvent("onerror",{code:i._$CODE_ERRABRT,message:"客户端终止文件上传"})};return s},42,1,2,3,4,14,33,60);I$(49,function(e,i,n,s,t,o,a,r){t.__getProxyByMode=function(t,o,a){var r=o?{2:s._$$ProxyUpload}:{2:n._$$ProxyFrame,3:i._$$ProxyFlash};return(r[t]||e._$$ProxyXHR)._$allocate(a)};return t},40,50,51,52);I$(41,function(t,i,n,s,o,a){var e=(!0?NEJ.P("nej.p"):arguments[1])._$KERNEL;if("trident"==e.engine&&e.release<="5.0")!function(){t.__getProxyByMode=function(){var e={0:2,1:3};return t.__getProxyByMode._$aop(function(n){var t=n.args,i=t[0]||0;t[0]=t[1]?2:e[i]||i})}()}();return t},49,11);I$(33,function(o,s,e,c,h,r,t,l,n,d){var i={},a=n;t._$abort=function(e){var t=i[e];if(t)t.req._$abort()};t._$filter=function(t){a=t||n};t._$request=function(){var c=(location.protocol+"//"+location.host).toLowerCase(),d=function(i){var t=e._$url2origin(i);return!!t&&t!=c},u=function(t){return(t||l)[s._$HEAD_CT]==s._$HEAD_CT_FILE},p=function(t){var e=u(t.headers);if(!d(t.url)&&!e)return h._$$ProxyXHR._$allocate(t);else return r.__getProxyByMode(t.mode,e,t)},_=function(t,n){var e={data:n},i=t.result.headers;if(i)e.headers=t.req._$header(i);return e},f=function(e){var t=i[e];if(t){if(t.req)t.req._$recycle();delete i[e]}},t=function(r,e){var t=i[r];if(t){var s=arguments[2];if("onload"==e&&t.result)s=_(t,s);f(r);var o={type:e,result:s};a(o);if(!o.stopped)(t[e]||n)(o.result)}},m=function(e,i){t(e,"onload",i)},g=function(e,i){t(e,"onerror",i)},o=function(i,t){var n=i.indexOf("?")<0?"?":"&",t=t||"";if(e._$isObject(t))t=e._$object2query(t);if(t)i+=n+t;return i};return function(s,t){t=t||{};var a=e._$uniqueID(),r={result:t.result,onload:t.onload||n,onerror:t.onerror||n};i[a]=r;t.onload=m._$bind(null,a);t.onerror=g._$bind(null,a);if(t.query)s=o(s,t.query);var l=t.method||"";if((!l||/get/i.test(l))&&t.data){s=o(s,t.data);t.data=null}t.url=s;r.req=p(t);r.req._$send(t.data);return a}}();t._$upload=function(i,o){i=c._$get(i);if(!i)return"";var n=e._$fetch({mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null},o);n.data=i;n.method="POST";n.timeout=0;n.headers[s._$HEAD_CT]=s._$HEAD_CT_FILE;return t._$request(i.action,n)};if(!0)o.copy(o.P("nej.j"),t);return t},8,14,2,4,40,41);I$(35,function(i,n,o,s,e,a,r,l){var t;e._$$LoaderText=n._$klass();t=e._$$LoaderText._$extend(i._$$LoaderAbstract);t.__getRequest=function(){return null};t.__doRequest=function(){s._$request(this.__url,{method:"GET",type:"text",onload:this.__onLoaded._$bind(this),onerror:this.__onError._$bind(this)})};t.__onLoaded=function(t){this.__doCallback("onload",{url:this.__url,content:t})};return e},39,1,4,33);I$(64,function(e,t,i,n,s){t.__removeIFrameKeepHistory=function(t){e._$remove(t)};return t},4);I$(63,function(t,i,n,s,o,a,r){var e=(!0?NEJ.P("nej.p"):arguments[2])._$KERNEL;if("trident"==e.engine&&e.release<="2.0")!function(){t.__removeIFrameKeepHistory=function(t){i._$setStyle(t,"display","none");try{t.contentWindow.document.body.innerHTML="&nbsp;"}catch(e){}}}();return t},64,4,11);I$(36,function(s,o,a,i,e,n,r,l){var t;e._$$LoaderHtml=o._$klass();t=e._$$LoaderHtml._$extend(s._$$LoaderAbstract);t.__getRequest=function(){var t=a._$create("iframe");t.width=0;t.height=0;t.style.display="none";return t};t.__doRequest=function(t){try{document.body.appendChild(t);t.src=this.__url}catch(e){console.log(t);console.error(e)}};t.__onError=function(t){var e=(this.__getLoadData(this.__url)||n).request;this.__doCallback("onerror",t);i.__removeIFrameKeepHistory(e)};t.__onLoaded=function(){var e=null,t=(this.__getLoadData(this.__url)||n).request;try{if(t.src!=this.__url)return;e=t.contentWindow.document.body}catch(s){}this.__doCallback("onload",e);i.__removeIFrameKeepHistory(t)};return e},39,1,4,63);I$(37,function(i,n,s,t,o,a,r){var e;t._$$LoaderStyle=n._$klass();e=t._$$LoaderStyle._$extend(i._$$LoaderAbstract);e.__getRequest=function(){return s._$create("link")};e.__doRequest=function(t){t.href=this.__url;document.head.appendChild(t)};return t},39,1,4);I$(38,function(n,s,i,e,o,a,r){var t;e._$$LoaderScript=s._$klass();t=e._$$LoaderScript._$extend(n._$$LoaderAbstract);t.__reset=function(t){this.__super(t);this.__async=t.async;this.__charset=t.charset;

this.__qopt.async=!1;this.__qopt.charset=this.__charset};t.__getRequest=function(){var t=i._$create("script");if(null!=this.__async)t.async=!!this.__async;if(null!=this.__charset)t.charset=this.__charset;return t};t.__doClearRequest=function(t){i._$remove(t)};return e},39,1,4);I$(32,function(e,s,o,i,n,t,a,r,l){t._$loadScript=function(t,e){n._$$LoaderScript._$allocate(e)._$load(t)};t._$queueScript=function(t,e){n._$$LoaderScript._$allocate(e)._$queue(t)};t._$loadStyle=function(t,e){i._$$LoaderStyle._$allocate(e)._$load(t)};t._$queueStyle=function(t,e){i._$$LoaderStyle._$allocate(e)._$queue(t)};t._$loadHtml=function(t,e){o._$$LoaderHtml._$allocate(e)._$load(t)};t._$loadText=function(t,e){s._$$LoaderText._$allocate(e)._$load(t)};if(!0)e.copy(e.P("nej.j"),t);return t},8,35,36,37,38);I$(22,function(a,i,r,e,u,d,s,o,c,t,l,p,_){var n={},h=+new Date+"-";t._$parseTemplate=function(){var n=0,a=function(){if(!(n>0)){n=0;r._$dispatchEvent(document,"templateready");r._$clearEvent(document,"templateready")}},h=function(o,s){var t=e._$dataset(o,"src");if(t){s=s||l;var n=s.root;if(!n)n=o.ownerDocument.location.href;else n=i._$absolute(n);t=t.split(",");i._$forEach(t,function(t,e,s){s[e]=i._$absolute(t,n)});return t}},c=function(t,n){if(t){var i=h(t,n);if(i)s._$queueStyle(i,{version:e._$dataset(t,"version")});e._$addStyle(t.value)}},p=function(t){n--;e._$addScript(t);a()},y=function(t,i){if(t){var o=h(t,i),a=t.value;if(!o)e._$addScript(a);else{n++;var i={version:e._$dataset(t,"version"),onload:p._$bind(null,a)};window.setTimeout(s._$queueScript._$bind(s,o,i),0)}}},f=function(e){n--;t._$parseTemplate(e);a()},m=function(t,i){if(t){var o=h(t,i)[0];if(o){n++;var i={version:e._$dataset(t,"version"),onload:f};window.setTimeout(s._$loadHtml._$bind(s,o,i),0)}}},g=function(e,i){n--;t._$addTextTemplate(e,i||"");a()},v=function(t,s){if(t&&t.id){var a=t.id,i=h(t,s)[0];if(i){n++;var r=i+(i.indexOf("?")<0?"?":"&")+(e._$dataset(t,"version")||""),s={type:"text",method:"GET",onload:g._$bind(null,a)};window.setTimeout(o._$request._$bind(o,r,s),0)}}},_=function(e,i){var n=e.name.toLowerCase();switch(n){case"jst":u._$add(e,!0);return;case"txt":t._$addTextTemplate(e.id,e.value||"");return;case"ntp":t._$addNodeTemplate(e.value||"",e.id);return;case"js":y(e,i);return;case"css":c(e,i);return;case"html":m(e,i);return;case"res":v(e,i);return}};d._$$CustomEvent._$allocate({element:document,event:"templateready",oneventadd:a});return function(t,n){t=e._$get(t);if(t){var s="TEXTAREA"==t.tagName?[t]:i._$object2array(t.getElementsByTagName("textarea"));i._$forEach(s,function(t){_(t,n)});e._$remove(t,!0)}a()}}();t._$addTextTemplate=function(t,e){n[t]=e||""};t._$getTextTemplate=function(t){return n[t]||""};t._$addNodeTemplate=function(n,s){s=s||i._$uniqueID();n=e._$get(n)||n;t._$addTextTemplate(h+s,n);if(!i._$isString(n))e._$removeByEC(n);return s};t._$getNodeTemplate=function(s){if(!s)return null;s=h+s;var n=t._$getTextTemplate(s);if(!n)return null;var o;if(i._$isString(n)){n=e._$html2node(n);var a=n.getElementsByTagName("textarea");if(!("TEXTAREA"==n.tagName||a&&a.length))t._$addTextTemplate(s,n);else o=n}if(!o)o=n.cloneNode(!0);e._$removeByEC(o);return o};t._$getItemTemplate=function(){var t=function(e,t){return"offset"==t||"limit"==t};return function(s,u,o){var h=[];if(!s||!s.length||!u)return h;o=o||l;var p=s.length,c=parseInt(o.offset)||0,d=Math.min(p,c+(parseInt(o.limit)||p)),r={total:s.length,range:[c,d]};i._$merge(r,o,t);for(var e,a=c;d>a;a++){r.index=a;r.data=s[a];e=u._$allocate(r);var _=e._$getId();n[_]=e;e._$recycle=e._$recycle._$aop(function(t,e){delete n[t];delete e._$recycle}._$bind(null,_,e));h.push(e)}return h}}();t._$getItemById=function(t){return n[t]};t._$parseUITemplate=function(){var n=/#<(.+?)>/;return function(a,s){s=s||{};var o=e._$html2node(a);i._$forIn(o.getElementsByTagName("textarea"),function(t){t.id=(t.id||"").replace(n,function(n,e){var t=s[e];if(!t){t="tpl-"+i._$uniqueID();s[e]=t}return t})});t._$parseTemplate(o);return s}}();c._$merge({_$parseTemplate:t._$parseTemplate,_$addNodeTemplate:t._$addNodeTemplate});if(!0)a.copy(a.P("nej.e"),t);return t},8,2,3,4,30,31,32,33,12);!function(){"use strict";function t(a,n,s){function r(){s=s||a;n=n||"root";var t=new Error('Failed to require "'+s+'" from "'+n+'"');t.path=s;t.parent=n;t.require=!0;throw t}var o=t.resolve(a);if(null!=o){var e=t.modules[o];if(!e._resolving&&!e.exports){var i={};i.exports={};i.client=i.component=!0;e._resolving=!0;e.call(this,i.exports,t.relative(o),i);delete e._resolving;e.exports=i.exports}return e.exports}else r()}t.modules={};t.aliases={};t.exts=["",".js",".json","/index.js","/index.json"];t.resolve=function(e){if("/"===e.charAt(0))e=e.slice(1);for(var n=0;5>n;n++){var i=e+t.exts[n];if(t.modules.hasOwnProperty(i))return i;if(t.aliases.hasOwnProperty(i))return t.aliases[i]}};t.normalize=function(i,t){var n=[];if("."!=t.charAt(0))return t;i=i.split("/");t=t.split("/");for(var e=0;e<t.length;++e)if(".."===t[e])i.pop();else if("."!=t[e]&&""!=t[e])n.push(t[e]);return i.concat(n).join("/")};t.register=function(e,i){t.modules[e]=i};t.alias=function(e,i){function n(){throw new Error('Failed to alias "'+e+'", it does not exist')}if(t.modules.hasOwnProperty(e))t.aliases[i]=e;else n()};t.relative=function(i){function e(n){var s=e.resolve(n);return t(s,i,n)}var n=t.normalize(i,"..");e.resolve=function(e){var a=e.charAt(0);if("/"===a)return e.slice(1);if("."===a)return t.normalize(n,e);for(var s=i.split("/"),o=s.length;o--&&"deps"!==s[o];);e=s.slice(0,o+2).join("/")+"/deps/"+e;return e};e.exists=function(i){return t.modules.hasOwnProperty(e.resolve(i))};return e};t.register("regularjs/src/Regular.js",function(v,e,f){var c=e("./parser/Lexer.js"),o=e("./parser/Parser.js"),n=e("./dom.js"),l=e("./config.js"),g=e("./group.js"),i=e("./util"),p=e("./helper/extend.js"),m=e("./helper/event.js"),r=e("./helper/combine.js"),u=e("./helper/watcher.js"),s=e("./helper/parse.js"),_="undefined"==typeof document?{}:document,a=e("./env.js"),t=function(e){var l=a.isRunning;a.isRunning=!0;var s,t;e=e||{};e.data=e.data||{};e.computed=e.computed||{};if(this.data)i.extend(e.data,this.data);if(this.computed)i.extend(e.computed,this.computed);i.extend(this,e,!0);if(this.$parent)this.$parent._append(this);this._children=[];this.$refs={};t=this.template;if("string"==typeof t&&t.length<40&&(s=n.find(t)))t=s.innerHTML;if(t&&t.nodeType)t=t.innerHTML;if("string"==typeof t)this.template=new o(t).parse();this.computed=h(this.computed);this.$context=this.$context||this;this.$root=this.$root||this;if(this.events){this.$on(this.events);this.events=null}this.config&&this.config(this.data);if(t){this.group=this.$compile(this.template,{namespace:e.namespace});r.node(this)}if(this.$root===this)this.$update();this.$ready=!0;if(this.$context===this)this.$emit("$init");if(this.init)this.init(this.data);a.isRunning=l},d=e("./walkers.js");d.Regular=t;i.extend(t,{_directives:{__regexp__:[]},_plugins:{},_exprCache:{},_running:!1,_config:l,_protoInheritCache:["use","directive"],__after__:function(a,i){var e;this.__after__=a.__after__;if(i.name)t.component(i.name,this);if(e=i.template){var s,r;if("string"==typeof e&&e.length<20&&(s=n.find(e))){e=s.innerHTML;if(r=n.attr(s,"name"))t.component(r,this)}if(e.nodeType)e=e.innerHTML;if("string"==typeof e)this.prototype.template=new o(e).parse()}if(i.computed)this.prototype.computed=h(i.computed);t._inheritConfig(this,a)},directive:function(t,e){if("object"===i.typeOf(t)){for(var o in t)if(t.hasOwnProperty(o))this.directive(o,t[o]);return this}var n,a=i.typeOf(t),s=this._directives;if(null==e){if("string"===a&&(n=s[t]))return n;else for(var l=s.__regexp__,r=0,h=l.length;h>r;r++){n=l[r];var c=n.regexp.test(t);if(c)return n}return void 0}if("function"==typeof e)e={link:e};if("string"===a)s[t]=e;else if("regexp"===a){e.regexp=t;s.__regexp__.push(e)}return this},plugin:function(t,e){var i=this._plugins;if(null==e)return i[t];i[t]=e;return this},use:function(e){if("string"==typeof e)e=t.plugin(e);if("function"!=typeof e)return this;e(this,t);return this},config:function(e,n){var i=!1;if("object"==typeof e)for(var t in e){if("END"===t||"BEGIN"===t)i=!0;l[t]=e[t]}if(i)c.setup()},expression:s.expression,parse:s.parse,Parser:o,Lexer:c,_addProtoInheritCache:function(e){if(Array.isArray(e))return e.forEach(t._addProtoInheritCache);var i="_"+e+"s";t._protoInheritCache.push(e);t[i]={};t[e]=function(t,s){var o=this[i];if("object"==typeof t){for(var n in t)if(t.hasOwnProperty(n))this[e](n,t[n]);return this}if(null==s)return o[t];o[t]=s;return this}},_inheritConfig:function(e,n){var s=t._protoInheritCache,o=i.slice(s);o.forEach(function(t){e[t]=n[t];var s="_"+t+"s";if(n[s])e[s]=i.createObject(n[s])});return e}});p(t);t._addProtoInheritCache(["filter","component"]);m.mixTo(t);u.mixTo(t);t.implement({init:function(){},config:function(){},destroy:function(){if(this.$context===this)this.$emit("$destroy");this.group&&this.group.destroy(!0);this.group=null;this.parentNode=null;this._watchers=null;this._children=[];var t=this.$parent;if(t){var e=t._children.indexOf(this);t._children.splice(e,1)}this.$parent=null;this.$root=null;this._handles=null;this.$refs=null},$compile:function(e,t){t=t||{};if("string"==typeof e)e=new o(e).parse();var i,a=this.__ns__,n=t.record;if(t.namespace)this.__ns__=t.namespace;if(n)this._record();var s=this._walk(e,t);if(n){i=this._release();var r=this;if(i.length)s.ondestroy=function(){r.$unwatch(i)}}if(t.namespace)this.__ns__=a;return s},$bind:function(n,t,o){var s=i.typeOf(t);if("expression"===t.type||"string"===s)this._bind(n,t,o);else if("array"===s)for(var e=0,a=t.length;a>e;e++)this._bind(n,t[e]);else if("object"===s)for(var e in t)if(t.hasOwnProperty(e))this._bind(n,e,t[e]);n.$update();return this},$unbind:function(){},$get:function(t){return s.expression(t).get(this)},$inject:function(t,i){var e=r.node(this);if("string"==typeof t)t=n.find(t);if(!t)throw"injected node is not found";if(e){n.inject(e,t,i);this.$emit("$inject",t);this.parentNode=Array.isArray(e)?e[0].parentNode:e.parentNode;

return this}},_bind:function(e,i,n){var o=this;if(!(e&&e instanceof t))throw"$bind() should pass Regular component as first argument";if(!i)throw"$bind() should  pass as least one expression to bind";if(!n)n=i;i=s.expression(i);n=s.expression(n);if(n.set){var a=this.$watch(i,function(t){e.$update(n,t)});e.$on("$destroy",function(){o.$unwatch(a)})}if(i.set){var r=e.$watch(n,function(t){o.$update(i,t)});this.$on("$destroy",e.$unwatch.bind(e,r))}n.set(e,i.get(this))},_walk:function(t,n){if("array"===i.typeOf(t)){for(var s=[],e=0,o=t.length;o>e;e++)s.push(this._walk(t[e],n));return new g(s)}if("string"==typeof t)return _.createTextNode(t);else return d[t.type||"default"].call(this,t,n)},_append:function(t){this._children.push(t);t.$root=this.$root;t.$parent=this},_handleEvent:function(e,t,s,l){var r,h=this.constructor,o="function"!=typeof s?i.handleEvent.call(this,s,t):s,a=h.event(t);if(a)r=a.call(this,e,o,l);else n.on(e,t,o);return a?r:function(){n.off(e,t,o)}},_f_:function(t){var i=this.constructor,e=i.filter(t);if("function"!=typeof e)throw"filter "+t+"is undefined";return e},_sg_:function(t,n){var s=this.computed,e=s[t];if(e)if(e.get)return e.get(this);else i.log("the computed '"+t+"' don't define the get function,  get data."+t+" altnately","error");return n},_ss_:function(n,t,a,o){var e,r=this.computed,o=o||"=",s=r[n];if("="!==o){e=s?s.get(this):a[n];switch(o){case"+=":t=e+t;break;case"-=":t=e-t;break;case"*=":t=e*t;break;case"/=":t=e/t;break;case"%=":t=e%t}}if(s)if(s.set)return s.set(this,t);else i.log("the computed '"+n+"' don't define the set function,  assign data."+n+" altnately","error");a[n]=t;return t}});t.prototype.inject=t.prototype.$inject;f.exports=t;var h=function(){function t(t){return function(i){var e=i.$context;return t.call(e,e.data)}}function e(t){return function(n,e){var i=n.$context;t.call(i,e,i.data);return e}}return function(r){if(r){var i,n,l,o={};for(var a in r){i=r[a];l=typeof i;if("expression"!==i.type)if("string"===l)o[a]=s.expression(i);else{n=o[a]={type:"expression"};if("function"===l)n.get=t(i);else{if(i.get)n.get=t(i.get);if(i.set)n.set=e(i.set)}}else o[a]=i}return o}}}()});t.register("regularjs/src/util.js",function(c,i,r){i("./helper/shim.js");var t=r.exports,e=i("./helper/entities.js"),s=[].slice,a=({}.toString,"undefined"!=typeof window?window:global);t.noop=function(){};t.uid=function(){var t=0;return function(){return t++}}();t.varName="_d_";t.setName="_p_";t.ctxName="_c_";t.rWord=/^[\$\w]+$/;t.rSimpleAccessor=/^[\$\w]+(\.[\$\w]+)*$/;t.nextTick="function"==typeof setImmediate?setImmediate.bind(a):function(t){setTimeout(t,0)};var n="var "+t.ctxName+"=context.$context||context;var "+t.varName+"=context.data;";t.host="data";t.slice=function(e,n,s){for(var i=[],t=n||0,o=s||e.length;o>t;t++){var a=e[t];i.push(a)}return i};t.typeOf=function(t){return null==t?String(t):{}.toString.call(t).slice(8,-1).toLowerCase()};t.extend=function(i,s,n){if("array"===t.typeOf(n))for(var e=0,a=n.length;a>e;e++){var o=n[e];i[o]=s[o]}else for(var e in s)if("undefined"==typeof i[e]||n===!0)i[e]=s[e];return i};t.makePredicate=function(t,r){function o(t){if(1===t.length)return e+="return str === '"+t[0]+"';";e+="switch(str){";for(var i=0;i<t.length;++i)e+="case '"+t[i]+"':";e+="return true}return false;"}if("string"==typeof t)t=t.split(" ");var e="",i=[];t:for(var n=0;n<t.length;++n){for(var s=0;s<i.length;++s)if(i[s][0].length===t[n].length){i[s].push(t[n]);continue t}i.push([t[n]])}if(i.length>3){i.sort(function(t,e){return e.length-t.length});e+="switch(str.length){";for(var n=0;n<i.length;++n){var a=i[n];e+="case "+a[0].length+":";o(a)}e+="}"}else o(t);return new Function("str",e)};t.trackErrorPos=function(){function e(i,n){for(var e=0,t=0,o=i.length;o>t;t++){var s=(i[t]||"").length;if(e+s>n)return{num:t,line:i[t],start:n-e};e=e+s+1}}var t=/\r\n|[\n\r\u2028\u2029]/g;return function(o,a){if(a>o.length-1)a=o.length-1;t.lastIndex=0;var h=o.split(t),i=e(h,a),r=i.line.length,n=i.start-10;if(0>n)n=0;var s=i.start+10;if(s>r)s=r;var c=i.line.slice(n,s),l=i.num+1+"> "+(n>0?"...":""),d=r>s?"...":"";return l+c+d+"\n"+new Array(i.start+l.length+1).join(" ")+"^"}}();var l=/\((\?\!|\?\:|\?\=)/g;t.findSubCapture=function(t){var n=0,s=0,i=t.length,e=t.match(l);if(e)e=e.length;else e=0;for(;i--;){var o=t.charAt(i);if(0===i||"\\"!==t.charAt(i-1)){if("("===o)n++;if(")"===o)s++}}if(n!==s)throw"RegExp: "+t+"'s bracket is not marched";else return n-e};t.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(t){return"\\"+t})};var h=new RegExp("&("+Object.keys(e).join("|")+");","gi");t.convertEntity=function(t){return(""+t).replace(h,function(i,t){return String.fromCharCode(e[t])})};t.createObject=function(s,e){function i(){}i.prototype=s;var n=new i;if(e)t.extend(n,e);return n};t.createProto=function(t,i){function e(){this.constructor=t}e.prototype=i;return t.prototype=new e};t.clone=function(e){var s=t.typeOf(e);if("array"===s){for(var n=[],i=0,o=e.length;o>i;i++)n[i]=e[i];return n}if("object"===s){var n={};for(var i in e)if(e.hasOwnProperty(i))n[i]=e[i];return n}return e};t.equals=function(e,i){var n=t.typeOf(e);if("array"===n){var s=o(e,i||[]);return s}if("number"===n&&"number"==typeof i&&isNaN(e)&&isNaN(i))return!0;else return e===i};var o=function(){function t(t,e){return t===e}function e(s,o){for(var a=s.length,r=o.length,n=[],i=0;a>=i;i++)n.push([i]);for(var e=1;r>=e;e++)n[0][e]=e;for(var i=1;a>=i;i++)for(var e=1;r>=e;e++)if(t(s[i-1],o[e-1]))n[i][e]=n[i-1][e-1];else n[i][e]=Math.min(n[i-1][e]+1,n[i][e-1]+1);return n}function i(f,c){for(var r=e(c,f),o=c.length,t=o,a=f.length,n=a,s=[],h=r[t][n];t>0||n>0;)if(0!==t)if(0!==n){var l=r[t-1][n-1],d=r[t-1][n],p=r[t][n-1],_=Math.min(p,d,l);if(_===d){s.unshift(2);t--;h=d}else if(_===l){if(l===h)s.unshift(0);else{s.unshift(1);h=l}t--;n--}else{s.unshift(3);n--;h=p}}else{s.unshift(2);t--}else{s.unshift(3);n--}var m=0,g=3,v=2,y=1,o=0;a=0;for(var u=[],i={index:null,add:0,removed:[]},t=0;t<s.length;t++){if(s[t]>0){if(null===i.index)i.index=a}else if(null!=i.index){u.push(i);i={index:null,add:0,removed:[]}}switch(s[t]){case m:o++;a++;break;case g:i.add++;a++;break;case v:i.removed.push(c[o]);o++;break;case y:i.add++;i.removed.push(c[o]);o++;a++}}if(null!=i.index)u.push(i);return u}return i}();t.throttle=function(a,n){var t,e,s,n=n||100,i=null,o=0,r=function(){o=+new Date;i=null;s=a.apply(t,e);t=e=null};return function(){var h=+new Date,l=n-(h-o);t=this;e=arguments;if(0>=l||l>n){clearTimeout(i);i=null;o=h;s=a.apply(t,e);t=e=null}else if(!i)i=setTimeout(r,l);return s}};t.escape=function(){var t=/&/g,e=/</g,i=/>/g,n=/\'/g,s=/\"/g,o=/[&<>\"\']/;return function(a){return o.test(a)?a.replace(t,"&amp;").replace(e,"&lt;").replace(i,"&gt;").replace(n,"&#39;").replace(s,"&quot;"):a}}();t.cache=function(i){i=i||1e3;var e=[],t={};return{set:function(i,n){if(e.length>this.max)t[e.shift()]=void 0;if(void 0===t[i])e.push(i);t[i]=n;return n},get:function(e){if(void 0===e)return t;else return t[e]},max:i,len:function(){return e.length}}};t.touchExpression=function(e){if("expression"===e.type)if(!e.get){e.get=new Function("context",n+"return ("+e.body+")");e.body=null;if(e.setbody)e.set=function(i,s){if(e.setbody){e.set=new Function("context",t.setName,n+e.setbody);e.setbody=null}return e.set(i,s)}}return e};t.handleEvent=function(e,n){var i,t=this;if("expression"===e.type)i=e.get;if(i)return function(e){t.data.$event=e;var n=i(t);if(n===!1&&e&&e.preventDefault)e.preventDefault();delete t.data.$event;t.$update()};else return function(){var i=s.call(arguments);i.unshift(e);t.$emit.apply(t.$context,i);t.$update()}};t.once=function(t){var e=0;return function(){if(0===e++)t.apply(this,arguments)}};t.log=function(t,e){if("undefined"!=typeof console)console[e||"log"](t)};t.isVoidTag=t.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content");t.isBooleanAttr=t.makePredicate("selected checked disabled readOnly required open autofocus controls autoplay compact loop defer multiple");t.isFalse-function(){return!1};t.isTrue-function(){return!0};t.assert=function(t,e){if(!t)throw e};t.defineProperty=function(){}});t.register("regularjs/src/walkers.js",function(d,s,l){function h(t,s){for(var i=[],e=0,o=t.length;o>e;e++){var n=this._walk(t[e],{element:s,fromElement:!0,attrs:t});if(n)i.push(n)}return i}var n=(s("./parser/node.js"),s("./dom.js")),o=s("./helper/animate.js"),a=s("./group.js"),e=s("./util"),t=s("./helper/combine.js"),i=l.exports={};i.list=function(s){function d(f,u){f=f||[];if(u&&u.length){for(var i=0,b=f.length,s=(u[0].index,0);s<u.length;s++){for(var l=u[s],d=l.index,m=i;d>m;m++){var C=n.get(m+1);C.data[r]=m}for(var v=0,E=l.removed.length;E>v;v++){var x=n.children.splice(d+1,1)[0];x.destroy(!0)}for(var a=d;a<d+l.add;a++){var $=f[a],g=e.createObject(c.data);g[r]=a;g[_]=$;var y=new h({data:g,$parent:c,namespace:p}),w=t.last(n.get(a));if(w.parentNode)o.inject(t.node(y),w,"after");n.children.splice(a+1,0,y)}i=d+l.add-l.removed.length;i=0>i?0:i}if(b>i)for(var s=i;b>s;s++){var T=n.get(s+1);T.data[r]=s}}}var l=i.Regular,u=document.createComment("Regular list"),p=this.__ns__,h=l.extend({template:s.body,$context:this.$context,$on:this.$context.$on.bind(this.$context),$off:this.$context.$off.bind(this.$context),$emit:this.$context.$emit.bind(this.$context)});l._inheritConfig(h,this.constructor);var c=this,n=new a;n.push(u);var r=s.variable+"_index",_=s.variable;this.$watch(s.sequence,d,{init:!0});return n};i.template=function(r){var i,i,s=r.content,n=document.createComment("template"),l=this.__ns__,e=new a;e.push(n);if(s){var h=this;this.$watch(s,function(s){if(i=e.get(1)){i.destroy(!0);e.children.pop()}e.push(i=h.$compile(s,{record:!0,namespace:l}));if(n.parentNode)o.inject(t.node(i),n,"before")},{init:!0})}return e};var c=0;i["if"]=function(e,l){var i,n,h=this;if(l&&l.element){var d=function(s){if(s){if(n)t.destroy(n);if(e.consequent)i=h.$compile(e.consequent,{record:!0,element:l.element})}else{if(i)t.destroy(i);if(e.alternate)n=h.$compile(e.alternate,{
record:!0,element:l.element})}};this.$watch(e.test,d,{force:!0});return{destroy:function(){if(i)t.destroy(i);else if(n)t.destroy(n)}}}var i,n,r=document.createComment("Regular if"+c++),s=new a;s.push(r);var u=null,p=this.__ns__,d=function(l,c){var a=!!l;if(a!==u){u=a;if(s.children[1]){s.children[1].destroy(!0);s.children.pop()}if(a){if(e.consequent&&e.consequent.length){i=h.$compile(e.consequent,{record:!0,namespace:p});s.push(i);if(r.parentNode)o.inject(t.node(i),r,"before")}}else if(e.alternate&&e.alternate.length){n=h.$compile(e.alternate,{record:!0,namespace:p});s.push(n);if(r.parentNode)o.inject(t.node(n),r,"before")}}};this.$watch(e.test,d,{force:!0,init:!0});return s};i.expression=function(e){var t=document.createTextNode("");this.$watch(e,function(e){n.text(t,""+(null==e?"":""+e))});return t};i.text=function(t){var i=document.createTextNode(e.convertEntity(t.text));return i};var r=/^on-(.+)$/;i.element=function(s){var u,_,a,d=s.attrs,c=this,g=this.constructor,v=s.children,y=this.__ns__,C=g.component(s.tag);if("svg"===s.tag)var y="svg";if(v&&v.length)a=this.$compile(v,{namespace:y});if(C){for(var m,w={},p=0,E=d.length;E>p;p++){var l=d[p],i=l.value||"";e.touchExpression(i);var T=l.name,$=T.match(r);if(!$){if("expression"!==i.type)w[l.name]=i;else w[l.name]=i.get(c);if("ref"===l.name&&null!=i)_="expression"===i.type?i.get(c):i}else{m=m||{};m[$[1]]=e.handleEvent.call(this,i,$[1])}}var x;if(s.children)x=this.$compile(s.children);var u=new C({data:w,events:m,$body:x,$parent:this,namespace:y});if(_&&c.$context.$refs)c.$context.$refs[_]=u;for(var p=0,E=d.length;E>p;p++){var l=d[p],i=l.value||"";if("expression"===i.type&&-1===l.name.indexOf("on-")){this.$watch(i,u.$update.bind(u,l.name));if(i.set)u.$watch(l.name,c.$update.bind(c,i))}}if(_)u.$on("destroy",function(){if(c.$context.$refs)c.$context.$refs[_]=null});return u}else if("r-content"===s.tag&&this.$body)return this.$body;var f=n.create(s.tag,y,d);if(a&&!e.isVoidTag(s.tag))n.inject(t.node(a),f);d.sort(function(n,i){var t=g.directive(n.name),e=g.directive(i.name);if(t&&e)return(e.priority||1)-(t.priority||1);if(t)return 1;if(e)return-1;if("type"===i.name)return 1;else return-1});var b=h.call(this,d,f,b),k={type:"element",group:a,node:function(){return f},last:function(){return f},destroy:function(t){if(t)o.remove(f,a?a.destroy.bind(a):e.noop);else if(a)a.destroy();if(b.length)b.forEach(function(t){if(t)if("function"==typeof t.destroy)t.destroy();else t()})}};return k};i.attribute=function(p,a){var c=p,u=this.constructor,h=this,s=a.element,i=c.name,t=c.value||"",r=u.directive(i);e.touchExpression(t);if(r&&r.link){var o=r.link.call(h,s,t,i,a.attrs);if("function"==typeof o)o={destroy:o};return o}else{if("ref"===i&&null!=t&&a.fromElement){var d="expression"===t.type?t.get(h):t,l=this.$context.$refs;if(l){l[d]=s;return{destroy:function(){l[d]=null}}}}if("expression"===t.type)this.$watch(t,function(t,e){n.attr(s,i,t)},{init:!0});else if(e.isBooleanAttr(i))n.attr(s,i,!0);else n.attr(s,i,t);if(!a.fromElement)return{destroy:function(){n.attr(s,i,null)}}}}});t.register("regularjs/src/env.js",function(t,e,n){var i=e("./util");t.svg=function(){return"undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();t.transition=void 0;t.exprCache=i.cache(100);t.isRunning=!1});t.register("regularjs/src/index.js",function(i,t,e){e.exports=t("./Regular.js");t("./directive/base.js");t("./directive/animation.js");t("./module/timeout.js");e.exports.dom=t("./dom.js");e.exports.util=t("./util.js");e.exports.env=t("./env.js")});t.register("regularjs/src/dom.js",function(g,o,m){function p(t){return(""+t).replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})}function a(e,i){return"change"===i&&t.msie<9&&e&&e.tagName&&"input"===e.tagName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)?"click":i}function r(t){t=t||window.event;if(t._fixed)return t;this.event=t;this.target=t.target||t.srcElement;var i=this.type=t.type,s=this.button=t.button;if(f.test(i)){this.pageX=null!=t.pageX?t.pageX:t.clientX+e.scrollLeft;this.pageY=null!=t.pageX?t.pageY:t.clientY+e.scrollTop;if("mouseover"===i||"mouseout"===i){for(var n=t.relatedTarget||t[("mouseover"===i?"from":"to")+"Element"];n&&3===n.nodeType;)n=n.parentNode;this.relatedTarget=n}}if("DOMMouseScroll"===i||"mousewheel"===i)this.wheelDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;this.which=t.which||t.keyCode;if(!this.which&&void 0!==s)this.which=1&s?1:2&s?3:4&s?2:0;this._fixed=!0}var n,s,t=m.exports,d=o("./env.js"),i=o("./util"),l=document.createElement("div"),u=function(){},h={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};t.body=document.body;t.doc=document;t.tNode=l;if(l.addEventListener){n=function(t,e,i){t.addEventListener(e,i,!1)};s=function(t,e,i){t.removeEventListener(e,i,!1)}}else{n=function(t,e,i){t.attachEvent("on"+e,i)};s=function(t,e,i){t.detachEvent("on"+e,i)}}t.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]);if(isNaN(t.msie))t.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]);t.find=function(t){if(document.querySelector)try{return document.querySelector(t)}catch(e){}if(-1!==t.indexOf("#"))return document.getElementById(t.slice(1));else return void 0};t.inject=function(e,i,n){n=n||"bottom";if(Array.isArray(e)){var a=e;e=t.fragment();for(var s=0,r=a.length;r>s;s++)e.appendChild(a[s])}var l,o;switch(n){case"bottom":i.appendChild(e);break;case"top":if(l=i.firstChild)i.insertBefore(e,i.firstChild);else i.appendChild(e);break;case"after":if(o=i.nextSibling)o.parentNode.insertBefore(e,o);else i.parentNode.appendChild(e);break;case"before":i.parentNode.insertBefore(e,i)}};t.id=function(t){return document.getElementById(t)};t.create=function(e,t,i){if("svg"===t){if(!d.svg)throw Error("the env need svg support");t=h.svg}return!t?document.createElement(e):document.createElementNS(t,e)};t.fragment=function(){return document.createDocumentFragment()};var c={"class":function(t,e){"className"in t&&(t.namespaceURI===h.html||!t.namespaceURI)?t.className=e||"":t.setAttribute("class",e)},"for":function(t,e){"htmlFor"in t?t.htmlFor=e:t.setAttribute("for",e)},style:function(t,e){t.style?t.style.cssText=e:t.setAttribute("style",e)},value:function(e,t){e.value=null!=t?t:""}};t.attr=function(n,e,s){if(i.isBooleanAttr(e))if("undefined"!=typeof s)if(s){n[e]=!0;n.setAttribute(e,e);if(t.msie&&t.msie<=7)n.defaultChecked=!0}else{n[e]=!1;n.removeAttribute(e)}else return n[e]||(n.attributes.getNamedItem(e)||u).specified?e:void 0;else if("undefined"!=typeof s)if(c[e])c[e](n,s);else if(null===s)n.removeAttribute(e);else n.setAttribute(e,s);else if(n.getAttribute){var o=n.getAttribute(e,2);return null===o?void 0:o}};t.on=function(t,i,e){var s=i.split(" ");e.real=function(i){e.call(t,new r(i))};s.forEach(function(i){i=a(t,i);n(t,i,e.real)})};t.off=function(e,i,t){var n=i.split(" ");t=t.real||t;n.forEach(function(i){i=a(e,i);s(e,i,t)})};t.text=function(){var e={};if(t.msie&&t.msie<9){e[1]="innerText";e[3]="nodeValue"}else e[1]=e[3]="textContent";return function(t,n){var i=e[t.nodeType];if(null==n)return i?t[i]:"";t[i]=n;return void 0}}();t.html=function(t,e){if("undefined"==typeof e)return t.innerHTML;else t.innerHTML=e};t.replace=function(e,t){if(t.parentNode)t.parentNode.replaceChild(e,t)};t.remove=function(t){if(t.parentNode)t.parentNode.removeChild(t)};t.css=function(s,e,a){if("object"!==i.typeOf(e))if("undefined"!=typeof a){e=p(e);if(e)s.style[e]=a}else{var n;if(t.msie<=8){n=s.currentStyle&&s.currentStyle[e];if(""===n)n="auto"}n=n||s.style[e];if(t.msie<=8)n=""===n?void 0:n;return n}else for(var o in e)if(e.hasOwnProperty(o))t.css(s,o,e[o])};t.addClass=function(i,t){var e=i.className||"";if(-1===(" "+e+" ").indexOf(" "+t+" "))i.className=e?e+" "+t:t};t.delClass=function(t,e){var i=t.className||"";t.className=(" "+i+" ").replace(" "+e+" "," ").trim()};t.hasClass=function(t,e){var i=t.className||"";return-1!==(" "+i+" ").indexOf(" "+e+" ")};var f=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,e=document;e=!e.compatMode||"CSS1Compat"===e.compatMode?e.documentElement:e.body;i.extend(r.prototype,{immediateStop:i.isFalse,stop:function(){this.preventDefault().stopPropagation()},preventDefault:function(){if(this.event.preventDefault)this.event.preventDefault();else this.event.returnValue=!1;return this},stopPropagation:function(){if(this.event.stopPropagation)this.event.stopPropagation();else this.event.cancelBubble=!0;return this},stopImmediatePropagation:function(){if(this.event.stopImmediatePropagation)this.event.stopImmediatePropagation()}});t.nextFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){setTimeout(t,16)},e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(t){clearTimeout(t)};return function(i){var n=t(i);return function(){e(n)}}}();var _;t.nextReflow=function(e){t.nextFrame(function(){_=document.body.offsetWidth;e()})}});t.register("regularjs/src/group.js",function(o,t,i){function e(t){this.children=t||[]}var n=t("./util"),s=t("./helper/combine");n.extend(e.prototype,{destroy:function(t){s.destroy(this.children,t);if(this.ondestroy)this.ondestroy();this.children=null},get:function(t){return this.children[t]},push:function(t){this.children.push(t)}});i.exports=e});t.register("regularjs/src/config.js",function(e,i,t){t.exports={BEGIN:"{{",END:"}}"}});t.register("regularjs/src/parser/Lexer.js",function(m,l,f){function p(t){return function(e){return{type:t,value:e}}}function s(t,e){if(d[n.END]){this.markStart=d[n.END];this.markEnd=n.END}this.input=(t||"").trim();this.opts=e||{};this.map=2!==this.opts.mode?r:h;this.states=["INIT"];if(this.opts.state)this.states.push(this.opts.state)}function c(s){for(var t,e,i={},n=0,o=s.length;o>n;n++){t=s[n];e=t[2]||"INIT";(i[e]||(i[e]={rules:[],links:[]})).rules.push(t);

}return u(i)}function u(r){function u(e,t){return"string"==typeof i[t]?o.escapeRegExp(i[t]):String(i[t]).slice(1,-1)}var e,s,a,n,t,h,c;for(var d in r){e=r[d];e.curIndex=1;s=e.rules;a=[];for(var l=0,_=s.length;_>l;l++){c=s[l];t=c[0];n=c[1];if("string"==typeof n)n=p(n);if("regexp"===o.typeOf(t))t=t.toString().slice(1,-1);t=t.replace(/\{(\w+)\}/g,u);h=o.findSubCapture(t)+1;e.links.push([e.curIndex,h,n]);e.curIndex+=h;a.push(t)}e.TRUNK=new RegExp("^(?:("+a.join(")|(")+"))")}return r}var r,h,o=l("../util.js"),n=l("../config.js"),d={"}":"{","]":"["},i={NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\f ]/},a=/a|(b)/.exec("a"),_=a&&void 0===a[1]?function(t){return void 0!==t}:function(t){return!!t},e=s.prototype;e.lex=function(t){t=(t||this.input).trim();var i,e,n,s,a,o=[];this.input=t,this.marks=0;this.index=0;for(var r=0;t;){r++;a=this.state();i=this.map[a];e=i.TRUNK.exec(t);if(!e)this.error("Unrecoginized Token");n=e[0].length;t=t.slice(n);s=this._process.call(this,e,i,t);if(s)o.push(s);this.index+=n}o.push({type:"EOF"});return o};e.error=function(t){throw"Parse Error: "+t+":\n"+o.trackErrorPos(this.input,this.index)};e._process=function(a,h,c){for(var t,s=h.links,r=!1,l=s.length,n=0;l>n;n++){var i=s[n],o=i[2],e=i[0];if(_(a[e])){r=!0;if(o){t=o.apply(this,a.slice(e,e+i[1]));if(t)t.pos=this.index}break}}if(!r)switch(c.charAt(0)){case"<":this.enter("TAG");break;default:this.enter("JST")}return t};e.enter=function(t){this.states.push(t);return this};e.state=function(){var t=this.states;return t[t.length-1]};e.leave=function(e){var t=this.states;if(!e||t[t.length-1]===e)t.pop()};s.setup=function(){i.END=n.END;i.BEGIN=n.BEGIN;r=c([t.ENTER_JST,t.ENTER_TAG,t.TEXT,t.TAG_NAME,t.TAG_OPEN,t.TAG_CLOSE,t.TAG_PUNCHOR,t.TAG_ENTER_JST,t.TAG_UNQ_VALUE,t.TAG_STRING,t.TAG_SPACE,t.TAG_COMMENT,t.JST_OPEN,t.JST_CLOSE,t.JST_COMMENT,t.JST_EXPR_OPEN,t.JST_IDENT,t.JST_SPACE,t.JST_LEAVE,t.JST_NUMBER,t.JST_PUNCHOR,t.JST_STRING,t.JST_COMMENT]);h=c([t.ENTER_JST2,t.TEXT,t.JST_COMMENT,t.JST_OPEN,t.JST_CLOSE,t.JST_EXPR_OPEN,t.JST_IDENT,t.JST_SPACE,t.JST_LEAVE,t.JST_NUMBER,t.JST_PUNCHOR,t.JST_STRING,t.JST_COMMENT])};var t={ENTER_JST:[/[^\x00<]*?(?={BEGIN})/,function(t){this.enter("JST");if(t)return{type:"TEXT",value:t};else return void 0}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(t){this.enter("JST");if(t)return{type:"TEXT",value:t};else return void 0}],ENTER_TAG:[/[^\x00<>]*?(?=<)/,function(t){this.enter("TAG");if(t)return{type:"TEXT",value:t};else return void 0}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^\{}&"'=><`\r\n\f ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(e,t){return{type:"TAG_OPEN",value:t}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f ]*>/,function(e,t){this.leave();return{type:"TAG_CLOSE",value:t}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(t){if(">"===t)this.leave();return{type:t,value:t}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)"/,function(n,t,e){var i=t||e||"";return{type:"STRING",value:i}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/<\!--([^\x00]*?)--\>/,null,"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(e,t){return{type:"OPEN",value:t}},"JST"],JST_LEAVE:[/{END}/,function(){this.firstEnterStart=!1;if(!this.markEnd||!this.marks){this.leave("JST");return{type:"END"}}else{this.marks--;return{type:this.markEnd,value:this.markEnd}}},"JST"],JST_CLOSE:[/{BEGIN}\s*\/({IDENT})\s*{END}/,function(e,t){this.leave("JST");return{type:"CLOSE",value:t}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(t,e){if(t===this.markStart)if(this.firstEnterStart){this.marks++;this.firstEnterStart=!1;return{type:this.markStart,value:this.markStart}}else this.firstEnterStart=!0;return{type:"EXPR_OPEN",escape:!1}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(t){return{type:t,value:t}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(i,t,e){return{type:"STRING",value:t||e||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(t){return{type:"NUMBER",value:parseFloat(t,10)}},"JST"]};s.setup();f.exports=s});t.register("regularjs/src/parser/node.js",function(e,i,t){t.exports={element:function(t,e,i){return{type:"element",tag:t,attrs:e,children:i}},attribute:function(t,e){return{type:"attribute",name:t,value:e}},"if":function(t,e,i){return{type:"if",test:t,consequent:e,alternate:i}},list:function(t,e,i){return{type:"list",sequence:t,variable:e,body:i}},expression:function(t,e,i){return{type:"expression",body:t,constant:i||!1,setbody:e||!1}},text:function(t){return{type:"text",text:t}},template:function(t){return{type:"template",content:t}}}});t.register("regularjs/src/parser/Parser.js",function(u,n,r){function o(e,t){t=t||{};this.input=e;this.tokens=new l(e,t).lex();this.pos=0;this.noComputed=t.noComputed;this.length=this.tokens.length}var i=n("../util.js"),a=n("../config.js"),e=n("./node.js"),l=n("./Lexer.js"),h=i.varName,s=i.ctxName,c=i.makePredicate("STRING IDENT NUMBER"),d=i.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),t=o.prototype;t.parse=function(){this.pos=0;var t=this.program();if("TAG_CLOSE"===this.ll().type)this.error("You may got a unclosed Tag");return t};t.ll=function(t){t=t||1;if(0>t)t+=1;var e=this.pos+t-1;if(e>this.length-1)return this.tokens[this.length-1];else return this.tokens[e]};t.la=function(t){return(this.ll(t)||"").type};t.match=function(i,e){var t;if(!(t=this.eat(i,e))){t=this.ll();this.error("expect ["+i+(null==e?"":":"+e)+']" -> got "['+t.type+(null==e?"":":"+t.value)+"]",t.pos)}else return t};t.error=function(t,e){t="Parse Error: "+t+":\n"+i.trackErrorPos(this.input,"number"==typeof e?e:this.ll().pos||0);throw new Error(t)};t.next=function(t){t=t||1;this.pos+=t};t.eat=function(e,i){var t=this.ll();if("string"!=typeof e){for(var n=e.length;n--;)if(t.type===e[n]){this.next();return t}}else if(t.type===e&&("undefined"==typeof i||t.value===i)){this.next();return t}return!1};t.program=function(){for(var e=[],t=this.ll();"EOF"!==t.type&&"TAG_CLOSE"!==t.type;){e.push(this.statement());t=this.ll()}return e};t.statement=function(){var t=this.ll();switch(t.type){case"NAME":case"TEXT":var i=t.value;this.next();for(;t=this.eat(["NAME","TEXT"]);)i+=t.value;return e.text(i);case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();case"PART_OPEN":return this.template();default:this.error("Unexpected token: "+this.la())}};t.xml=function(){var t,n,s,o;t=this.match("TAG_OPEN").value;n=this.attrs();o=this.eat("/");this.match(">");if(!o&&!i.isVoidTag(t)){s=this.program();if(!this.eat("TAG_CLOSE",t))this.error("expect </"+t+"> gotno matched closeTag")}return e.element(t,n,s)};t.xentity=function(i){var n,t=i.value;if("NAME"===i.type){if(this.eat("="))n=this.attvalue();return e.attribute(t,n)}else{if("if"!==t)this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #"+t+" is invalid");return this["if"](!0)}};t.attrs=function(n){var t;if(!n)t=["NAME","OPEN"];else t=["NAME"];for(var e,i=[];e=this.eat(t);)i.push(this.xentity(e));return i};t.attvalue=function(){var s=this.ll();switch(s.type){case"NAME":case"UNQ":case"STRING":this.next();var t=s.value;if(~t.indexOf(a.BEGIN)&&~t.indexOf(a.END)){var r=!0,i=new o(t,{mode:2}).parse();if(1===i.length&&"expression"===i[0].type)return i[0];var n=[];i.forEach(function(t){if(!t.constant)r=!1;n.push(t.body||"'"+t.text+"'")});n="["+n.join(",")+"].join('')";t=e.expression(n,null,r)}return t;case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}};t.directive=function(){var t=this.ll().value;this.next();if("function"==typeof this[t])return this[t]();else this.error("Undefined directive["+t+"]")};t.interplation=function(){this.match("EXPR_OPEN");var t=this.expression(!0);this.match("END");return t};t.include=function(){var t=this.expression();this.match("END");return e.template(t)};t["if"]=function(o){var a=this.expression(),i=[],t=[],n=i,r=!o?"statement":"attrs";this.match("END");for(var s,l;!(l=this.eat("CLOSE"));){s=this.ll();if("OPEN"===s.type)switch(s.value){case"else":n=t;this.next();this.match("END");break;case"elseif":this.next();t.push(this["if"](o));return e["if"](a,i,t);default:n.push(this[r](!0))}else n.push(this[r](!0))}if("if"!==l.value)this.error("Unmatched if directive");return e["if"](a,i,t)};t.list=function(){var i,t,a=this.expression(),n=[],s=[],o=n;this.match("IDENT","as");i=this.match("IDENT").value;this.match("END");for(;!(t=this.eat("CLOSE"));)if(this.eat("OPEN","else")){o=s;this.match("END")}else o.push(this.statement());if("list"!==t.value)this.error("expect {{/list}} got {{/"+t.value+"}}",t.pos);return e.list(a,i,n,s)};t.expression=function(){var t;if(this.eat("@(")){t=this.expr();t.once=!0;this.match(")")}else t=this.expr();return t};t.expr=function(){this.depend=[];var t=this.filter(),i=t.get||t,n=t.set;return e.expression(i,n,!this.depend.length)};t.filter=function(){var t,e,i=this.assign(),n=this.eat("|");if(n){t=["(function(){","var ",e="_f_","=",i.get,";"];do{t.push(e+" = "+s+"._f_('"+this.match("IDENT").value+"')("+e);if(this.eat(":"))t.push(", "+this.arguments("|").join(",")+");");else t.push(");")}while(n=this.eat("|"));t.push("return "+e+"})()");return this.getset(t.join(""))}return i};t.assign=function(){var e,t=this.condition();if(e=this.eat(["=","+=","-=","*=","/=","%="])){if(!t.set)this.error("invalid lefthand expression in assignment expression");return this.getset(t.set.replace("_p_",this.condition().get).replace("'='","'"+e.type+"'"),t.set)}return t};t.condition=function(){var t=this.or();if(this.eat("?"))return this.getset([t.get+"?",this.assign().get,this.match(":").type,this.assign().get].join(""));
else return t};t.or=function(){var t=this.and();if(this.eat("||"))return this.getset(t.get+"||"+this.or().get);else return t};t.and=function(){var t=this.equal();if(this.eat("&&"))return this.getset(t.get+"&&"+this.and().get);else return t};t.equal=function(){var t,e=this.relation();if(t=this.eat(["==","!=","===","!=="]))return this.getset(e.get+t.type+this.equal().get);else return e};t.relation=function(){var t,e=this.additive();if(t=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))return this.getset(e.get+t.value+this.relation().get);else return e};t.additive=function(){var t,e=this.multive();if(t=this.eat(["+","-"]))return this.getset(e.get+t.value+this.additive().get);else return e};t.multive=function(){var t,e=this.range();if(t=this.eat(["*","/","%"]))return this.getset(e.get+t.type+this.multive().get);else return e};t.range=function(){var i,t,e=this.unary();if(i=this.eat("..")){t=this.unary();var n="(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+e.get+","+t.get+")";return this.getset(n)}return e};t.unary=function(){var t;if(t=this.eat(["+","-","~","!"]))return this.getset("("+t.type+this.unary().get+")");else return this.member()};t.member=function(e,o,t){var r,n,l=!1;if(!e){n=this.primary();var u=typeof n;if("string"===u){t=[];t.push(n);o=n;e=s+"._sg_('"+n+"', "+h+"['"+n+"'])";l=!0}else if("this"===n.get){e=s;t=["this"]}else{t=null;e=n.get}}else if("string"==typeof o&&c(o))t.push(o);else{if(t&&t.length)this.depend.push(t);t=null}if(r=this.eat(["[",".","("]))switch(r.type){case".":var d=this.match("IDENT").value;e+="['"+d+"']";return this.member(e,d,t);case"[":n=this.assign();e+="["+n.get+"]";this.match("]");return this.member(e,n,t);case"(":var p=this.arguments().join(",");e=e+"("+p+")";this.match(")");return this.member(e,null,t)}if(t&&t.length)this.depend.push(t);var a={get:e};if(o)if(l)a.set=s+"._ss_('"+n+"',"+i.setName+","+i.varName+", '=')";else a.set=e+"="+i.setName;return a};t.arguments=function(t){t=t||")";var e=[];do if(this.la()!==t)e.push(this.assign().get);while(this.eat(","));return e};t.primary=function(){var t=this.ll();switch(t.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":this.next();return this.getset("'"+t.value+"'");case"NUMBER":this.next();return this.getset(""+t.value);case"IDENT":this.next();if(d(t.value))return this.getset(t.value);else return t.value;default:this.error("Unexpected Token: "+t.type)}};t.object=function(){for(var t=[this.match("{").type],e=this.eat(["STRING","IDENT","NUMBER"]);e;){t.push("'"+e.value+"'"+this.match(":").type);var i=this.assign().get;t.push(i);e=null;if(this.eat(",")&&(e=this.eat(["STRING","IDENT","NUMBER"])))t.push(",")}t.push(this.match("}").type);return{get:t.join("")}};t.array=function(){var e,t=[this.match("[").type];if(this.eat("]"))t.push("]");else{for(;e=this.assign();){t.push(e.get);if(this.eat(","))t.push(",");else break}t.push(this.match("]").type)}return{get:t.join("")}};t.paren=function(){this.match("(");var t=this.filter();t.get="("+t.get+")";this.match(")");return t};t.getset=function(t,e){return{get:t,set:e}};r.exports=o});t.register("regularjs/src/helper/extend.js",function(r,e,i){function n(t,e,i){return function(){var n=this.supr;this.supr=i[t];var s=e.apply(this,arguments);this.supr=n;return s}}function s(o,i,s){for(var e in i)if(i.hasOwnProperty(e))o[e]=t(i[e])&&t(s[e])&&a.test(i[e])?n(e,i[e],s):i[e]}var o=e("../util.js"),a=/xy/.test(function(){"xy"})?/\bsupr\b/:/.*/,t=function(t){return"function"==typeof t};i.exports=function l(t){function e(){i.apply(this,arguments)}function a(t){s(n,t,r);return this}t=t||{};var n,i=this,r=i&&i.prototype||{};if("function"==typeof t){n=t.prototype;t.implement=a;t.extend=l;return t}n=o.createProto(e,r);e.implement=a;e.implement(t);if(i.__after__)i.__after__.call(e,i,t);e.extend=l;return e}});t.register("regularjs/src/helper/shim.js",function(n,s,o){function t(e,i){for(var t in i)if(void 0===e[t])e[t]=i[t]}var e=[].slice,i={}.toString;t(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}});t(Array.prototype,{indexOf:function(i,e){e=e||0;for(var t=e,n=this.length;n>t;t++)if(this[t]===i)return t;return-1},forEach:function(e,i){for(var t=0,n=this.length;n>t;t++)e.call(i,this[t],t,this)},filter:function(i,n){for(var e=[],t=0,s=this.length;s>t;t++){var o=i.call(n,this[t],t,this);if(o)e.push(this[t])}return e},map:function(i,n){for(var e=[],t=0,s=this.length;s>t;t++)e.push(i.call(n,this[t],t,this));return e}});t(Function.prototype,{bind:function(t){var i=this,n=e.call(arguments,1);return function(){var s=n.concat(e.call(arguments));return i.apply(t,s)}}});t(Object,{keys:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i))e.push(i);return e}});t(Date,{now:function(){return+new Date}});t(Array,{isArray:function(t){return"[object Array]"===i.call(t)}})});t.register("regularjs/src/helper/parse.js",function(o,t,n){var e=t("../env").exprCache,s=t("../util"),i=t("../parser/Parser.js");n.exports={expression:function(t,n){if("string"==typeof t&&(t=t.trim()))t=e.get(t)||e.set(t,new i(t,{state:"JST",mode:2}).expression());if(t)return s.touchExpression(t);else return void 0},parse:function(t){return new i(t).parse()}}});t.register("regularjs/src/helper/watcher.js",function(a,n,o){function e(){}var t=n("../util.js"),i=n("./parse.js").expression,s={$watch:function(e,p,n){var d,c,h,s;if(!this._watchers)this._watchers=[];n=n||{};if(n===!0)n={deep:!0};var l=t.uid("w_");if(Array.isArray(e)){for(var r=[],a=0,_=e.length;_>a;a++)r.push(i(e[a]).get);var o=[];h=function(s){for(var i=!0,e=0,a=r.length;a>e;e++){var n=r[e](s);if(!t.equals(n,o[e])){i=!1;o[e]=t.clone(n)}}return i?!1:o}}else{e=this.$expression?this.$expression(e):i(e);d=e.get;c=e.once||e.constant}var u={id:l,get:d,fn:p,once:c,force:n.force,test:h,deep:n.deep};this._watchers.push(u);s=this._records&&this._records.length;if(s)this._records[s-1].push(l);if(n.init===!0){this.$phase="digest";this._checkSingleWatch(u,this._watchers.length-1);this.$phase=null}return l},$unwatch:function(t){if(!this._watchers)this._watchers=[];if(Array.isArray(t))for(var n=0,o=t.length;o>n;n++)this.$unwatch(t[n]);else{var s,e,i=this._watchers;if(!t||!i||!(e=i.length))return;for(;e--;){s=i[e];if(s&&s.id===t)i.splice(e,1)}}},$digest:function(){if("digest"!==this.$phase){this.$phase="digest";for(var e=!1,t=0;e=this._digest();)if(++t>20)throw"there may a circular dependencies reaches";if(t>0&&this.$emit)this.$emit("$update");this.$phase=null}},_digest:function(){var t,o,a,e=this._watchers,n=!1;if(e&&e.length)for(var i=0,r=e.length;r>i;i++){o=e[i];a=this._checkSingleWatch(o,i);if(a)n=!0}t=this._children;if(t&&t.length)for(var s=0,l=t.length;l>s;s++)if(t[s]._digest())n=!0;return n},_checkSingleWatch:function(e,h){var s=!1;if(e)if(e.test){var o=e.test(this);if(o){s=!0;e.fn.apply(this,o)}}else{var i=e.get(this),a=e.last,n=!0;if("object"===t.typeOf(i)&&e.deep)if(!e.last)n=!1;else{for(var r in i)if(e.last[r]!==i[r]){n=!1;break}if(n!==!1)for(var l in a)if(a[l]!==i[l]){n=!1;break}}else n=t.equals(i,e.last);if(n===!1||e.force){n=!1;e.force=null;s=!0;e.fn.call(this,i,e.last);if("object"!=typeof i||e.deep)e.last=t.clone(i);else e.last=i}else if("array"===t.typeOf(n)&&n.length){e.last=t.clone(i);e.fn.call(this,i,n);s=!0}else n=!0;if(s&&e.once)this._watchers.splice(h,1);return s}},$update:function(e,o){if(null!=e){var s=t.typeOf(e);if("string"===s||"expression"===e.type){e=i(e);e.set(this,o)}else if("function"===s)e.call(this,this.data);else for(var n in e)if(e.hasOwnProperty(n))this.data[n]=e[n]}if(this.$root)this.$root.$digest()},_record:function(){if(!this._records)this._records=[];this._records.push([])},_release:function(){return this._records.pop()}};t.extend(e.prototype,s);e.mixTo=function(e){e="function"==typeof e?e.prototype:e;return t.extend(e,s)};o.exports=e});t.register("regularjs/src/helper/event.js",function(r,n,s){function t(){if(arguments.length)this.$on.apply(this,arguments)}var o=[].slice,e=n("../util.js"),a=["$inject","$init","$destroy","$update"],i={$on:function(t,s){if("object"==typeof t)for(var e in t)this.$on(e,t[e]);else{var i=this,n=i._handles||(i._handles={}),o=n[t]||(n[t]=[]);o.push(s)}return this},$off:function(n,s){var t=this;if(t._handles){if(!n)this._handles={};var e,o=t._handles;if(e=o[n]){if(!s){o[n]=[];return t}for(var i=0,a=e.length;a>i;i++)if(s===e[i]){e.splice(i,1);return t}}return t}},$emit:function(l){var t,h,i,e=this,n=e._handles;if(l){var h=o.call(arguments,1),i=l;if(!n)return e;{~a.indexOf(i)}if(t=n[i.slice(1)])for(var s=0,c=t.length;c>s;s++)t[s].apply(e,h);if(!(t=n[i]))return e;for(var r=0,c=t.length;c>r;r++)t[r].apply(e,h);return e}},$broadcast:function(){}};e.extend(t.prototype,i);t.mixTo=function(t){t="function"==typeof t?t.prototype:t;e.extend(t,i)};s.exports=t});t.register("regularjs/src/helper/animate.js",function(u,l,d){function h(h){var t,l=0,e=0,i=0,n=0,o=0,c=5/3;if(window.getComputedStyle){t=window.getComputedStyle(h),e=s(t[a+"Duration"])||e;i=s(t[a+"Delay"])||i;n=s(t[r+"Duration"])||n;o=s(t[r+"Delay"])||o;l=Math.max(e+i,n+o)}return 1e3*l*c}function s(i){var t,e=0;if(!i)return 0;i.split(",").forEach(function(i){t=parseFloat(i);if(t>e)e=t});return e}var o=l("../util"),t=l("../dom.js"),n={},c=l("../env.js"),i="transitionend",e="animationend",a="transition",r="animation";if(!("ontransitionend"in window))if("onwebkittransitionend"in window){i+=" webkitTransitionEnd";a="webkitTransition"}else if("onotransitionend"in t.tNode||"Opera"===navigator.appName){i+=" oTransitionEnd";a="oTransition"}if(!("onanimationend"in window))if("onwebkitanimationend"in window){e+=" webkitAnimationEnd";r="webkitAnimation"}else if("onoanimationend"in t.tNode){e+=" oAnimationEnd";r="oAnimation"}n.inject=function(e,r,l,n){n=n||o.noop;if(Array.isArray(e)){for(var h=t.fragment(),a=0,i=0,s=e.length;s>i;i++)h.appendChild(e[i]);t.inject(h,r,l);var c=function(){a++;if(a===s)n()};if(s===a)n();for(i=0;s>i;i++)if(e[i].onenter)e[i].onenter(c);
else c()}else{t.inject(e,r,l);if(e.onenter)e.onenter(n);else n()}};n.remove=function(e,i){i=i||o.noop;if(e.onleave)e.onleave(function(){t.remove(e)});else{t.remove(e);i&&i()}};n.startClassAnimate=function(n,a,p,d){var u,r,l,s;if(!e&&!i||c.isRunning)return p();s=o.once(function(){if(l)clearTimeout(l);if(2===d)t.delClass(n,u);if(3!==d)t.delClass(n,a);t.off(n,e,s);t.off(n,i,s);p()});if(2===d){t.addClass(n,a);u=a.split(/\s+/).map(function(t){return t+"-active"}).join(" ");t.nextReflow(function(){t.addClass(n,u);r=h(n);l=setTimeout(s,r)})}else t.nextReflow(function(){t.addClass(n,a);r=h(n);l=setTimeout(s,r)});t.on(n,e,s);t.on(n,i,s);return s};n.startStyleAnimate=function(s,l,c){var r,n,a;t.nextReflow(function(){t.css(s,l);r=h(s);a=setTimeout(n,r)});n=o.once(function(){if(a)clearTimeout(a);t.off(s,e,n);t.off(s,i,n);c()});t.on(s,e,n);t.on(s,i,n);return n};d.exports=n});t.register("regularjs/src/helper/combine.js",function(s,e,i){var n=e("../dom.js"),t=i.exports={node:function(e){var i,n;if(e.element)return e.element;if("function"==typeof e.node)return e.node();if("number"==typeof e.nodeType)return e;if(e.group)return t.node(e.group);if(i=e.children){if(1===i.length)return t.node(i[0]);for(var s=[],o=0,a=i.length;a>o;o++){n=t.node(i[o]);if(Array.isArray(n))s.push.apply(s,n);else s.push(n)}return s}},last:function(e){var i=e.children;if("function"==typeof e.last)return e.last();if("number"==typeof e.nodeType)return e;if(i&&i.length)return t.last(i[i.length-1]);if(e.group)return t.last(e.group);else return void 0},destroy:function(e,i){if(e){if(Array.isArray(e))for(var s=0,a=e.length;a>s;s++)t.destroy(e[s],i);var o=e.children;if("function"==typeof e.destroy)return e.destroy(i);if("number"==typeof e.nodeType&&i)n.remove(e);if(o&&o.length){t.destroy(o,!0);e.children=null}}}}});t.register("regularjs/src/helper/entities.js",function(i,n,t){var e={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364};t.exports=e});t.register("regularjs/src/directive/base.js",function(n,t,s){var i=(t("../util.js"),t("../dom.js")),e=(t("../helper/animate.js"),t("../Regular.js"));t("./event.js");t("./form.js");e.directive("r-class",function(t,e){this.$watch(e,function(n){var e=" "+t.className.replace(/\s+/g," ")+" ";for(var i in n)if(n.hasOwnProperty(i)){e=e.replace(" "+i+" "," ");if(n[i]===!0)e+=i+" "}t.className=e.trim()},!0)});e.directive("r-style",function(t,e){this.$watch(e,function(e){for(var n in e)if(e.hasOwnProperty(n))i.css(t,n,e[n])},!0)});e.directive("r-hide",function(t,n){var e,i=null;this.$watch(n,function(s){var n=!!s;if(n!==i){i=n;if(n)if(t.onleave)e=t.onleave(function(){t.style.display="none";e=null});else t.style.display="none";else{if(e)e();t.style.display="";if(t.onenter)t.onenter()}}})});e.directive("r-html",function(t,e){this.$watch(e,function(e){e=e||"";i.html(t,e)},{force:!0})})});t.register("regularjs/src/directive/form.js",function(c,i,h){function r(e,i){function a(){i.set(n,this.value);o=!0;n.$update();o=!1}var n=this,o=!1;this.$watch(i,function(t){if(!o){var i=s.slice(e.getElementsByTagName("option"));i.forEach(function(i,n){if(i.value==t)e.selectedIndex=n})}});t.on(e,"change",a);if(void 0===i.get(n)&&e.value)i.set(n,e.value);return function(){t.off(e,"change",a)}}function l(e,o){var a=!1,n=this;this.$watch(o,function(t){if(!a)if(e.value!==t)e.value=null==t?"":""+t});var i=function(t){var e=this;if("cut"===t.type||"paste"===t.type)s.nextTick(function(){var t=e.value;o.set(n,t);a=!0;n.$update()});else{var i=e.value;o.set(n,i);a=!0;n.$update()}a=!1};if(9!==t.msie&&"oninput"in t.tNode)e.addEventListener("input",i);else{t.on(e,"paste",i);t.on(e,"keyup",i);t.on(e,"cut",i);t.on(e,"change",i)}if(void 0===o.get(n)&&e.value)o.set(n,e.value);return function(){if(9!==t.msie&&"oninput"in t.tNode)e.removeEventListener("input",i);else{t.off(e,"paste",i);t.off(e,"keyup",i);t.off(e,"cut",i);t.off(e,"change",i)}}}function o(i,e){var s=!1,n=this;this.$watch(e,function(e){if(!s)t.attr(i,"checked",!!e)});var o=function(){var t=this.checked;e.set(n,t);s=!0;n.$update();s=!1};if(e.set)t.on(i,"change",o);if(void 0===e.get(n))e.set(n,!!i.checked);return function(){if(e.set)t.off(i,"change",o)}}function a(e,i){var n=this,s=!1;this.$watch(i,function(t){if(!s)if(t==e.value)e.checked=!0;else e.checked=!1});var o=function(){var t=this.value;i.set(n,t);s=!0;n.$update();s=!1};if(i.set)t.on(e,"change",o);if(void 0===i.get(n))if(e.checked)i.set(n,e.value);return function(){if(i.set)t.off(e,"change",o)}}var s=i("../util.js"),t=i("../dom.js"),n=i("../Regular.js"),e={text:l,select:r,checkbox:o,radio:a};n.directive("r-model",function(s,i){var o=s.tagName.toLowerCase(),t=o;if("input"===t)t=s.type||"text";else if("textarea"===t)t="text";if("string"==typeof i)i=n.expression(i);if(e[t])return e[t].call(this,s,i);else if("input"===o)return e.text.call(this,s,i)})});t.register("regularjs/src/directive/animation.js",function(c,e,h){function r(a){var n,s=[],t=0,o=i.noop,e={type:a,start:function(s){n=i.uid();if("function"==typeof s)o=s;if(t>0)t=0;else e.step();return e.compelete},compelete:function(){n=null;o&&o();o=i.noop;t=0},step:function(){if(s[t])s[t](e.done.bind(e,n))},done:function(i){if(i===n)if(t<s.length-1){t++;e.step()}else e.compelete()},push:function(t){s.push(t)}};return e}function s(s,c){function _(t){e&&g.push(e);e=r(t)}function y(t,e){if(e)t()}function v(t){return function(){t.onenter=void 0;t.onleave=void 0}}c=c.trim();for(var f,e,h,n,i,l,p,m=c.split(";"),g=[],u=[],d=0,b=m.length;b>d;d++){f=m[d];l=f.split(":");n=l[0]&&l[0].trim();i=l[1]&&l[1].trim();if(n)if(n!==a)if(n!==o){var p=t.animation(n);if(p&&e)e.push(p.call(this,{element:s,done:e.done,param:i}));else throw"you need start with `on` or `event` in r-animation"}else{_(i);if("leave"===i)s.onleave=e.start;else if("enter"===i)s.onenter=e.start;else h=this._handleEvent(s,i,e.start);u.push(h?h:v(s));h=null}else{_("when");this.$watch(i,y.bind(this,e.start))}else;}if(u.length)return function(){u.forEach(function(t){t()})};else return void 0}var i=e("../util.js"),n=e("../helper/animate.js"),t=(e("../dom.js"),e("../Regular.js")),l=/\s+/,a="when",o="on";t._addProtoInheritCache("animation");t.animation({wait:function(t){var e=parseInt(t.param)||0;return function(t){setTimeout(t,e)}},"class":function(t){var e=t.param.split(","),i=e[0]||"",s=parseInt(e[1])||1;return function(e){n.startClassAnimate(t.element,i,e,s)}},call:function(i){var n=t.expression(i.param).get,e=this;return function(t){n(e);e.$update();t()}},emit:function(t){var e=t.param,i=this;return function(n){i.$emit(e,t);n()}},style:function(t){var e,i={},s=t.param,o=s.split(",");o.forEach(function(t){t=t.trim();if(t){var n=t.split(l),s=n.shift(),o=n.join(" ");if(!s||!o)throw"invalid style in command: style";i[s]=o;e=!0}});return function(s){if(e)n.startStyleAnimate(t.element,i,s);else s()}}});t.directive("r-animation",s)});t.register("regularjs/src/directive/event.js",function(o,i,a){function n(s,n){for(var e=s.target;e&&e!==t.doc;){for(var i=0,o=n.length;o>i;i++)if(n[i].element===e)n[i].fire(s);e=e.parentNode}}var s=i("../util.js"),t=i("../dom.js"),e=i("../Regular.js");e._addProtoInheritCache("event");e.event("enter",function(e,n){function i(t){if(13===t.which){t.preventDefault();n(t)}}t.on(e,"keypress",i);return function(){t.off(e,"keypress",i)}});e.directive(/^on-\w+$/,function(i,t,e,n){if(e&&t){var s=e.split("-")[1];return this._handleEvent(i,s,t,n)}});e.directive(/^delegate-\w+$/,function(c,r,l,u){function a(t){n(t,o[e])}var i=this.$root,o=i._delegates||(i._delegates={});if(l&&r){var e=l.split("-")[1],d=s.handleEvent.call(this,r,e);

if(!o[e]){o[e]=[];i.$on("$inject",function(n){var i=this.parentNode;if(i)t.off(i,e,a);t.on(n,e,a)});i.$on("$destroy",function(){if(i.parentNode)t.off(i.parentNode,e,a);i._delegates[e]=null})}var h={element:c,fire:d};o[e].push(h);return function(){var t=o[e];if(t&&t.length)for(var i=0,n=t.length;n>i;i++)if(t[i]===h)t.splice(i,1)}}})});t.register("regularjs/src/module/timeout.js",function(n,t,s){function e(t){t.implement({$timeout:function(e,t){t=t||0;return setTimeout(function(){e.call(this);this.$update()}.bind(this),t)},$interval:function(e,t){t=t||1e3/60;return setInterval(function(){e.call(this);this.$update()}.bind(this),t)}})}var i=t("../Regular.js");i.plugin("timeout",e)});t.alias("regularjs/src/index.js","regularjs/index.js");if("object"==typeof exports)module.exports=t("regularjs");else if("function"==typeof define&&define.amd)define(function(){return t("regularjs")});else window["Regular"]=t("regularjs")}();I$(73,function(e,i,t,n,s,o){t.__handleFileLabelClick=function(){};return t});I$(72,function(t,e,n,s,o,a,r){var i=(!0?NEJ.P("nej.p"):arguments[2])._$KERNEL;if("gecko"==i.engine)!function(){e.__handleFileLabelClick=function(){var e=function(e){t._$stop(e);t._$getElement(e,"t:label").control.click()};return function(i){t._$addEvent(i,"click",e)}}()}();return e},3,73,11);I$(70,function(h,t,s,o,a,n,e,r,l,d){var i={},c=t._$pushCSSText(".#<uispace>{position:absolute;width:0;height:0;overflow:hidden;}");e._$bind=function(){var h=function(e){var t=i[e];if(!t){t={};i[e]=t}return t},e=function(i,t){if(t){var e=[];o._$loop(t,function(t,i){e.push('<input type="hidden" name="'+i+'" value="'+t+'">')});i.insertAdjacentHTML("afterBegin",e.join(""))}},d=function(o,s,l,a,h){var n,d=i[o],r=c+" "+(l||"");s=t._$get(s);if(s){n=t._$create("div",r);s.appendChild(n);t._$dataset(s,"id",o);e(s,a)}else{n=t._$create("form",r);t._$dataset(n,"id",o);e(n,a);(h||document.body).appendChild(n)}d.pid=t._$id(n)},n=function(o,e){var n=e.accept||"";if(n)n='accept="'+n+'"';var a="";if(e.multiple)a='multiple="true"';var e=i[o],r=o+"-"+e.nmb,l=t._$html2node('<input type="file" '+a+" "+n+' contenteditable="false" id="'+r+'"/>');e.nmb++;t._$get(e.pid).appendChild(l);s._$addEvent(l,"change",u);return r},u=function(l){var o=s._$getElement(l),a=o.id,r=a.split("-"),e=i[r[0]];if(o.value){if(e.multiple)t._$get(e.lab).htmlFor=n(r[0],e);if(!o.name){var h="";o.name=e.name+h}e.onchange({id:a,form:o.form,target:t._$get(e.lab)})}};return function(i,e){i=t._$get(i);if(i&&"LABEL"==i.tagName){t._$dumpCSSText();var c=o._$uniqueID(),s=h(c);e=e||r;d(c,e.form,e.clazz,e.param,t._$get(e.parent));s.nmb=0;s.name=e.name||"file";s.lab=t._$id(i);s.accept=e.accept||"";s.multiple=!!e.multiple;s.onchange=e.onchange||l;i.htmlFor=n(c,s);a.__handleFileLabelClick(i);return c}}}();e._$get=function(s){var n=i[s];if(n){var e=t._$get(n.pid);if(e){if("FORM"!=e.tagName)e=e.parentNode;return e}}};e._$unbind=function(e){var n=i[e];if(n){t._$remove(n.pid);delete i[e]}};n._$merge({_$bind:e._$bind});if(!0){var n=h.P("nej.e");n._$file=e._$bind;n._$getFileForm=e._$get;n._$removeFileForm=e._$unbind}return e},8,4,3,2,72,12);I$(74,function(o,i,n,a,s,r,e,l,t){s._$$LazyLoading=o._$klass();t=s._$$LazyLoading._$extend(a._$$EventTarget);t.__reset=function(t){this.__super(t);this.__name=t.attr||"";this.__parent=i._$get(t.parent);this.__doInitDomEvent([[this.__parent||window,"scroll",this.__doCheckScrollPosition._$bind(this)]]);this._$refresh()};t.__destroy=function(){delete this.__parent;this.__super()};t.__getScrollViewPort=function(){return this.__parent||i._$getPageBox()};t.__getSettingInfo=function(e){var t={};n._$forEach(this.__name.split(","),function(n){t[n]=i._$dataset(e,n)});return t};t.__doCheckScrollPosition=function(){var t={"-1":"onremove",1:"onappend"};return function(s){var i=this.__getResourceList(this.__parent||document),e=this.__getScrollViewPort();n._$forEach(i,function(i){var n={target:i,config:e};this._$dispatchEvent("oncheck",n);var s=n.value;if(null==s)s=this.__doCheckResource(i,e);var o=t[s];if(o){var n={target:i,config:this.__getSettingInfo(i)};this._$dispatchEvent(o,n);if(!n.stopped)if(-1==s)this.__doRemoveResource(i);else this.__doAppendResource(i,n.config)}},this)}}();t.__getResourceList=e;t.__doCheckResource=e;t.__doRemoveResource=e;t.__doAppendResource=e;t._$refresh=function(){this.__doCheckScrollPosition()}},1,4,2,21);I$(71,function(i,n,s,o,e,a,r,l,t){e._$$LazyImage=i._$klass();t=e._$$LazyImage._$extend(o._$$LazyLoading);t.__reset=function(t){this.__super(t);this.__holder=t.holder||n._$BLANK_IMAGE};t.__getResourceList=function(t){return t.getElementsByTagName("img")};t.__doCheckResource=function(t,e){var n=e.clientHeight,i=s._$offset(t,e).y-e.scrollTop,o=i+t.offsetHeight,r=this.__getSettingInfo(t),a=!t.src||t.src.indexOf(this.__holder)>=0||t.src.indexOf(r.src)<0;if(a&&o>=0&&n>=i)return 1;if(!a&&(0>o||i>n))return-1;else return 0};t.__doRemoveResource=function(t){t.src=this.__holder};t.__doAppendResource=function(t,e){t.src=e.src||this.__holder}},1,14,4,74);I$(67,function(a,e,i,t,n){var s=(Regular.dom,{"r-tooltip":function(t,e){console.log("do some directive logic")},"r-lazyimg":function(t,e){this.data.lazy=n._$$LazyImage._$allocate({parent:e||t.id||"scrollBox",attr:"src",onremove:function(t){t.stopped=1}})}}),o={mouseenter:function(e,i,n){t._$addEvent(e,"mouseenter",i);return function(){t._$delEvent(e,"mouseenter",i)}},mouseleave:function(e,i,n){t._$addEvent(e,"mouseleave",i);return function(){t._$delEvent(e,"mouseleave",i)}},upload:function(o,t,l){function a(e){if(e&&200===e.code)t({type:"upload",data:e.data});else t({type:"error",message:e.message});n()}function h(e){if(e&&"number"==typeof e.total&&"number"==typeof e.progress)t({type:"progress",data:e.progress/e.total})}function c(n){if("function"==typeof FileReader){var r=nes.one("input",n.form).files,s=r[0],o=new FileReader(s);o.readAsDataURL(s);o.addEventListener("load",function(){t({type:"preview",data:this.result})})}e._$unbind(n.id);n.form.setAttribute("action","http://uploadURL");i._$upload(n.form,{onload:a,onerror:a,onuploading:h})}function n(){s=e._$bind(o,{parent:o.parentNode,name:"img",multiple:!1,accept:"image/*",onchange:c})}var s,r=l.filter(function(t){return"upload-param"===t.name})[0];if(this.$root===this)this.$on("inject",n);else n();if(r)expression=Regular.expression(r.value);return function(){if(s)e._$unbind(s)}}};return{events:o,directives:s}},4,70,33,3,71,66);I$(68,function(e,i,t){t.format=function(t,i){return e._$format(t,i||"yyyy-MM-dd")};t.formathm=function(t,i){t=parseInt(t);i=i||"HH:mm";return e._$format(new Date(t),i)};t.escape=e._$escape;t.cutstr=function(n,o){for(var t,e=0,a=/[^\x00-\xff]/,s="",i=0;i<n.length&&o-1>e;i++){t=n.substr(i,1);if(null==a.exec(t))e+=1;else e+=2;s+=t}return s+"..."};t.concatObjValue=function(i,n){var t=[];e._$forIn(i,function(e,i,n){t.push(e)});return t.join(n)};t.fixed=function(a,i){var s,o=parseFloat(a,10);if(null==i)i=2;if(e._$isNumber(o)){s=e._$fixed(o,2);var t=s.toString(),n=t.indexOf(".");if(0>n){n=t.length;t+="."}for(;t.length<=n+i;)t+="0";return t}else return""};t["default"]=function(t,e){return t?t:e};t.thumbnail=function(t,e,n,s,o){if(!t)return null;else return i.imgThumbnailUrl(t,e,n,s,o)};return t},2,75);I$(79,'<div class="progress progress-fix animated" r-hide=\'!progress\' style=\'display:none\'    r-animation= \'on: leave;  wait: 200;class: fadeOut\'>   <div class="progress-bar progress-bar-striped active"      role="progressbar"      style=" background-color: {{currentColor}};width: {{percent||0}}% ;">   </div> </div>');I$(77,function(n,a){function s(i,n,a){var r=a/100,s=0,t=2*r-1,e=((t*s==-1?t:(t+s)/(1+t*s))+1)/2,o=1-e,l=[parseInt(i[0]*e+n[0]*o),parseInt(i[1]*e+n[1]*o),parseInt(i[2]*e+n[2]*o)];return l}function e(t){t="#"===t.charAt(0)?t.slice(1):t;var e;if(6===t.length)e=[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)];else{var i=t.substr(0,1),n=t.substr(1,1),s=t.substr(2,1);e=[parseInt(i+i,16),parseInt(n+n,16),parseInt(s+s,16)]}return e}var i={COLOR_SUCCESS:"#5cb85c",COLOR_INFO:"#5bc0de",COLOR_DANGER:"#d9534f",COLOR_WARNING:"#f0ad4e"},t={ERROR:e(i.COLOR_DANGER),COMPLETE:e(i.COLOR_SUCCESS)},o=Regular.extend({template:n,data:{startColor:e(i.COLOR_INFO),endColor:t.COMPLETE,percent:0},computed:{currentColor:function(t){var e=s(t.startColor,t.endColor,100-t.percent);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}},init:function(){if(this.$root==this)this.$inject(document.body)},move:function(t){clearTimeout(this.timer);if(1e3===t)this.end(!0);else this.$update("percent",t)},start:function(){if(this.timer)clearTimeout(this.timer);this.data.progress=!0;this.data.percent=2;this.data.endColor=t.COMPLETE;this.$update();this._startTimer()},end:function(e){clearTimeout(this.timer);this.data.progress=!1;this.data.percent=100;this.data.endColor=!e?t.COMPLETE:t.ERROR;this.$update()},_startTimer:function(){var t=this.data;this.timer=this.$timeout(function(){t.percent=t.percent+.2*(100-t.percent)*Math.random();this._startTimer()},1e3*Math.random()+2e3)}}).use("timeout");return new o},79,66);I$(78,function(n,s,t,o,a,r,e,l,i,h){e._$request=function(){var e={},p=/\{(.*?)\}/gi,m=/^get|delete|head$/i,c=/json/i,_=/xml/i,n=function(i){var t=e[i];if(t){delete t.s;delete t.f;delete e[i]}},u=function(s,a){var o=e[s];if(o){var r=o[a],l=h.slice.call(arguments,2);try{(r||i).apply(null,l)}catch(t){if(!1)throw t;console.error(t.message);console.error(t)}n(s)}},d=function(t,e){u(t,"s",e)},f=function(e,t){t=t||{};if(t.code!=o._$CODE_ERRSERV||204!=t.data){s._$dispatchEvent(window,"resterror",t);if(!t.stopped)u(e,"f",t);else n(e)}else d(e,null)},r=function(e,i,n){var t=e[i]||e[i.toLowerCase()];if(!t){t=n;e[i]=t}return t},g=function(e,i,n){if(t._$isArray(e))n[i]=JSON.stringify(e)};return function(o,n){n=t._$merge({},n);var y={},b=n.param||l;o=o.replace(p,function(i,t){var e=b[t];if(null!=e)y[t]=!0;return encodeURIComponent(e||"")||i});var s=n.data||{};t._$loop(b,function(e,t){if(!y[t])s[t]=e});var h="text",u=n.headers||{},w=r(u,"Accept","application/json"),$=r(u,"Content-Type","application/json");

if(c.test(w))h="json";else if(_.test(w))h="xml";var v=t._$uniqueID();e[v]={s:n.onload||i,f:n.onerror||i};n.method=n.method||"GET";if(m.test(n.method.trim())){t._$forIn(s,g);n.query=s;s=null}else if(c.test($))s=JSON.stringify(s);n.type=h;n.data=s;n.headers=u;n.onload=d._$bind(null,v);n.onerror=f._$bind(null,v);a._$request(o,n)}}();r._$$CustomEvent._$allocate({element:window,event:"resterror"});if(!0)n.P("nej.j")._$requestByREST=e._$request;return e},8,3,2,14,33,31);I$(69,function(t,i,n,s){var e=function(){},o=function(a,o){o=o||{};var r=o.onerror||e,l=o.onload||e;if(o.progress){t.start();o.onload=function(e){e.code=e.code||e.retcode;if(e&&e.code>=200&&e.code<400){t.end();l.apply(this,arguments)}else{t.end(!0);r.apply(this,arguments)}};o.onerror=function(e){t.end(!0);r.apply(this,arguments)}}if(!o.type)o.type="json";if(!o.method||o.method&&"get"==o.method.toLowerCase()){if(!o.query)o.query={};o.query.t=+new Date}if(o.norest){if("object"==typeof o.data)o.data=i._$object2query(o.data);s._$request(a,o)}else{if(!o.data)o.data={};o.data.t=+new Date;n._$request(a,o)}};return o},77,2,78,33);I$(24,function(c,o,l,r){var a=Regular.util.slice,n=Regular.dom.msie,s=function(){},i={BEGIN:"{{",END:"}}"};if(Regular.config)Regular.config(i);var e=function(){function t(a){var i,t=a.attributes,s=t&&t.length,o=[];if(s)for(var e=0;s>e;e++)if(!n||n>8||t[e].specified){i=t[e];o.push(i)}return o}function e(e){var t=o.exec(e);return t&&t[1]}function s(e){var t=a.exec(e);return t&&t[1]&&Regular.expression(t[1])}var o=/^on-(\w+)$/,a=new RegExp("^"+i.BEGIN+"(.*)"+i.END+"$");return{getAttrs:t,getEventName:e,getExpression:s}}(),h=Regular.extend({scope:Regular,init:function(){var t=this.scope;this._initComponents(t._components)},_initComponents:function(e){var t;for(var i in e){t=e[i];if(t)this._initComponent(i,t)}},_initDirectives:function(e){var t;for(var i in e){t=e[i];if(t)this._initDirective(i,t)}},_initDirective:function(t,e){var i=(this.container||document.body,nes.all("["+t+"]"));i.forEach(this._singleDirective.bind(this,"r-"+t,e,"name"))},_initComponent:function(t,e){var i=this.container||document.body,n=a(i.getElementsByTagName(t));n.forEach(this._initTag.bind(this,e))},_initTag:function(l,t){var i,h=e.getAttrs(t),n={},o={},a={},r=this;h.forEach(function(c){var s,l,h=c.value,t=c.name;if("id"===t)i=t;l=e.getEventName(t);s=e.getExpression(h);if(!l)if(!s)n[t]=h;else{a[t]=s;n[t]=s.get(r)}else o[l]=Regular.util.handleEvent.call(r,s||h,l)});var s=new l({data:n,events:o,$parent:this});if(i)this[i]=s;s.$bind(this,a);s.$inject(t,"after");t.parentNode.removeChild(t)}});Regular.dom.find=function(t){return nes.one(t)};var t=Regular.extend({$request:function(n,t){function e(){i.$update("loading",!1)}var i=this,o=t.onerror||s,a=t.onload||s;i.$update("loading",!0);t.onload=a._$aop(null,e).bind(this);t.onerror=o._$aop(null,e).bind(this);r(n,t)}}).directive(o.directives||{}).event(o.events||{}).filter(l||{});t.boot=function(e){new h({scope:t,data:e||window.__data__||{}})};return t},66,67,68,69);I$(83,function(t,e,i,n){t.__hoverElement=function(){};t.__unhoverElement=function(t){};return t});I$(82,function(e,t,n,s,o,a,r){var i=(!0?NEJ.P("nej.p"):arguments[2])._$KERNEL;if("trident"==i.engine&&i.release<="2.0")!function(){var i={},n=function(n){var t=n.srcElement,e=i[t.id],s=t.className;if(s.indexOf(e)<0)t.className+=" "+e},s=function(s){var t=s.srcElement,e=i[t.id],n=t.className||"";if(n.indexOf(e)>=0)t.className=n.replace(e,"").trim()};e.__hoverElement=function(o,a){var e=o.id;if(!i[e]){i[e]=a;t._$addEvent(e,"mouseenter",n);t._$addEvent(e,"mouseleave",s)}};e.__unhoverElement=function(e){if(i[e]){delete i[e];t._$delEvent(e,"mouseenter",n);t._$delEvent(e,"mouseleave",s)}}}();return e},83,3,11);I$(80,function(n,e,o,i,s,t,a,r,l){t._$hover=function(n,o){if(i._$isArray(n))i._$forEach(n,function(e){t._$hover(e,o)});else{n=e._$get(n);if(n){e._$id(n);s.__hoverElement(n,o||e._$dataset(n,"hover")||"js-hover")}}};t._$unhover=function(n){if(i._$isArray(n))i._$forEach(n,function(e){t._$unhover(e)});else{var o=e._$id(n);if(o)s.__unhoverElement(o)}};o._$merge(t);if(!0)n.copy(n.P("nej.e"),t);return t},8,4,12,2,82);I$(81,function(){var t={};if(!1)window.URL=t.URL="";else window.URL=t.URL="http://m.kaola.com";return t},8);I$(25,function(o,a,s,t,n,l,u,r,i,h,c,d,e){i._$$FrmTopBar=o._$klass();e=i._$$FrmTopBar._$extend(s._$$EventTarget);e.__reset=function(t){this.__super(t);this.__body=t.parent;this.__noBack=t.noback;this.__getNodes();this.__addEvent()};e.__getNodes=function(){this.__menu=t._$get("menu");this.__topbar=t._$get("topbar-box")};e._$setTitle=function(){var e=t._$get("toptitle");if(e){var i=e.innerText;return function(t){if(t)e.innerText=t;else e.innerText=i}}}();e.__addEvent=function(){if(!this.__noBack)n._$addEvent("backbtn","click",this.__onBackBtnClick._$bind(this));n._$addEvent(this.__menu,"click",this.__onMenuClick._$bind(this))};e._$refreshBar=function(i){function o(){return navigator.userAgent.match(/yixin/i)}function a(){return navigator.userAgent.match(/NewsApp/i)}var r=document.querySelector("#topbar-box");if(r){var e=(document.querySelector("#leftNavYixin"),document.querySelector("#leftNav1")),n=document.querySelector("#leftNav2");e&&e.classList.add("f-dn");n&&n.classList.add("f-dn");if(o())if(i&&i.account){if(e){e.classList.remove("f-dn");e.querySelector(".name").innerHTML=i.account}}else n&&n.classList.remove("f-dn");else if(a()&&"7190"==window.sessionStorage.getItem("news_kaola_ActId")){t._$delClassName("leftNavNewsApp","f-dn");t._$delClassName("moneypacket","f-dn");t._$addClassName("copyright","f-dn");t._$addClassName("pcView","f-dn");t._$addClassName("leftNav1","f-dn");t._$addClassName("leftNav2","f-dn")}else{if(i&&i.account){if(e){e.classList.remove("f-dn");e.querySelector(".name").innerHTML=i.account}}else n&&n.classList.remove("f-dn");var s=document.querySelector("#pcView");s&&s.classList.remove("f-dn")}this.__setUrls()}};e.__setUrls=function(){this.__loginNode=t._$get("loginLink");this.__regisNode=t._$get("regisLink");this.__logoutNode=t._$get("logoutLink");if(this.__logoutNode)this.__logoutNode.href+="?url="+encodeURIComponent(location.href);if(this.__loginNode)this.__loginNode.href+="?target="+encodeURIComponent(location.href);if(this.__regisNode)this.__regisNode.href+="?product=kaola&url=http%3A%2F%2Fglobal.163.com%2Furs%2Fredirect.html%3Ftarget%3D"+encodeURIComponent(encodeURIComponent(location.href))+"&loginurl=http%3A%2F%2Fglobal.163.com%2Furs%2Fredirect.html%3Ftarget%3D"+encodeURIComponent(encodeURIComponent(location.href))};e.__onMenuClick=function(){if(t._$hasClassName(this.__topbar,"j-navopen"))t._$delClassName(this.__topbar,"j-navopen");else t._$addClassName(this.__topbar,"j-navopen")};e.__onBackBtnClick=function(){history.back()};return i},1,2,21,4,3,80,81,69);I$(84,'<div class="m-toast" r-hide={{isHide}} on-touchmove={{this.preventMove($event)}}> 	<table  border=0  cellpadding=0  cellspacing=0  width=100%  height=100%> 	<tr><td  width=100%  align=center  valign=center> 	 {{#list messages as msg}} 	  <div class=\'toast box animated {{msg.type}} {{msg.toastClass||""}}\' r-animation="on:enter;class:show toastFadeIn,3;"> 	    {{msg.message}} 	  </div>   	  {{/list}} 	</td></tr> 	</table> </div> ');I$(26,function(e,s,t){var i=Regular.extend({template:e,duration:1300,singleMsg:!1,isNativeToast:!0,nativeToastInteractive:!1,iconMap:{error:"remove-circle",success:"ok-sign",warning:"warning-sign",info:"info-sign",loading:"info-sign"},preventMove:function(t){t.preventDefault()},config:function(e){t.extend(e,{messages:[],position:"right",isHide:!0})},init:function(){if(this.$root==this)this.$inject(document.body)},toast:function(e){if("string"==typeof e)e={message:e};t.extend(e,{type:"info",duration:this.duration,singleMsg:this.singleMsg});if(!e.singleMsg||this.data.isHide&&!(this.data.messages.length>0)){this.$update(function(t){t.isHide=!1});setTimeout(function(){this.$update(function(t){t.messages.unshift(e)})}._$bind(this),10);var i=this.clear.bind(this,e);setTimeout(i,-1==e.duration?1300:e.duration);return i}},show:function(e){if(1==t.isGteKaolaVer(2.3))if(e&&e.isNativeToast){t.exec({method:"toast",args:{message:e.message,duration:(e.duration||1300)/1e3,interactive:e.nativeToastInteractive||!1}});return}if(e&&!e.singleMsg)this.clearTotal();return this.toast(e)},showError:function(i,e){e=t.extend(e||{},{type:"error"});return this.show(i,e)},clear:function(i){for(var e=this.data.messages,t=e.length;t--;)if(i===e[t]){e[t].toastClass="toastFadeOut";this.__clearIndex=t}this.$update();setTimeout(function(){this.data.messages.splice(this.__clearIndex,1);this.$update(function(){this.data.isHide=!0}._$bind(this));this.__clearIndex=void 0}._$bind(this),500)},clearTotal:function(){this.$update("messages",[])}}).use("timeout"),n=new i({});return n},84,66,75);I$(27,function(o,r,s,i,a,n,e,l,h,c,t){e._$$ActionManage=o._$klass();t=e._$$ActionManage._$extend(s._$$EventTarget);t.__reset=function(t){this.__super(t);n._$addEvent(document,"click",this.__onGACheck._$bind(this))};t.__onGACheck=function(s){var t=n._$getElement(s,"d:gatype"),e=i._$dataset(t,"gatype"),o=i._$dataset(t,"gaop"),a=i._$dataset(t,"gatag");if(e)_gaq.push(["_trackEvent",e,o,a])};return e},1,2,21,4,75,3);I$(28,function(n,s,o,e,a){var i=n._$klass(),t=i._$extend(s._$$EventTarget);t.__init=function(){this.__super()};t.__reset=function(){this.__super();this.__userprofileFetched=!1;this.__getUserInfo(function(t){this.__userprofileFetched=!0;this.__userprofile=t;this._$dispatchEvent("login",t)}._$bind(this))};t._$getProfile=function(e){var t=function(){e(this.__userprofile);setTimeout(function(){this._$delEvent("login",t)}._$bind(this),100)}._$bind(this);if(!this.__userprofileFetched)this._$addEvent("login",t);else t()};t._$refresh=function(t,e){this.__userprofileFetched=!1;this.__getUserInfo(function(e){this.__userprofileFetched=!0;this.__userprofile=e;t(e)}._$bind(this),e)};t.__getUserInfo=function(t,n){var s=o._$query2object(document.URL.split("?")[1]||""),i=e.extend({},n||{});i=e.extend(i,s);

a("/user/ajax/getUserProfile.html",{query:i,method:"GET",norest:!0,type:"json",onload:function(e){if(e&&200==e.code&&e.body&&e.body.profile)t(e.body.profile);else t()},onerror:function(e){t()}})};return function(){var t;return function(){if(!t)t=i._$allocate();return t}}()},1,21,2,75,69);I$(29,function(n,s,o,e,a){var i=n._$klass(),t=i._$extend(s._$$EventTarget);t.__init=function(){this.__super();if(e.isKaolaApp()){this.__jsbridgeReady=!1;this.__initjsBridgeEvents()}};t.__reset=function(){this.__super();this.CHANNELS={weixinMessage:"weixin_appmessage",weixinTimeline:"weixin_timeline",YixinMsg:"yixin_appmessage",YixinTimeline:"yixin_timeline",weibo:"weibo_app"}};t.__initjsBridgeEvents=function(){var t=this;document.addEventListener("WeixinJSBridgeReady",function(){var e=window.WeixinJSBridge;t.__jsbridgeReady=!!e;if(t.__jsbridgeReady){t.__NJ=e;t._$dispatchEvent("onready");e.on("kaola_appmessage",function(){t._$openShare(window.shareConfig,function(e){t._$dispatchEvent("ondefaultMenuShareResult",e)},function(e){t._$dispatchEvent("ondefaultMenuShareChannel",e)})})}})};t._$openShare=function(i,t,e){this.__afterReady(function(){var n,s="",o=i||{};window.NTShareChannelClick=function(t){s=t&&t.share_channel;e&&e({channel:s})};if(o.share_channel)n="sendShareAppMessage";else n="shareKaolaAppMessage";this.__NJ.invoke(n,o,function(e){var i=e&&e.share_result&&"false"!==e.share_result,n=e.share_channel||s;t&&t({result:i,channel:n});if(window.NTShareChannelClick)window.NTShareChannelClick=void 0})},this)};t._$getLocation=function(t){this.__afterReady(function(){this.__NJ.invoke("getLocation",{},function(e){t&&t(e)})},this)};t._$toggleShareBtn=function(t){var e=!!t;this.__afterReady(function(){this.__NJ.invoke("shareKaolaAppTopBtn",{isShow:e},function(t){})},this)};t._$uploadFile=function(t){this.__afterReady(function(){this.__NJ.invoke("kaolaUploadFile",{},function(e){t&&t(e)})},this)};t._$openOrderConfirm=function(e,t){var i=e||{};this.__afterReady(function(){this.__NJ.invoke("openOrderConfirm",i,function(e){t&&t(e)})},this)};t._$isSystemNoticeForbidden=function(t){this.__afterReady(function(){this.__NJ.invoke("isForbiddenSystemNotice",{},function(e){t&&t(e)})},this)};t._$setSignStatus=function(t){this.__afterReady(function(){this.__NJ.invoke("setSignStatus",t||{result:!1},function(t){})},this)};t._$sendTotalPointsCount=function(t){this.__afterReady(function(){this.__NJ.invoke("sendTotalPointsCount",t||{totalPointsCount:0},function(t){})},this)};t._$toast=function(t){e.extend({message:"",interactive:!1,duration:1},t,!0);this.__afterReady(function(){this.__NJ.invoke("toast",t,function(t){})},this)};t._$openAddCart=function(e,t){this.__afterReady(function(){this.__NJ.invoke("openAddCart",e,function(e){t&&t(e)})},this)};t._$openSweetCart=function(){this.__afterReady(function(){this.__NJ.invoke("openAddCart",{},function(t){})},this)};t._$closeWebviewWindow=function(){this.__afterReady(function(){this.__NJ.invoke("closeWebviewWindow",{},function(t){})},this)};t._$openLoginForm=function(t){this.__afterReady(function(){this.__NJ.invoke("openLoginForm",{},function(e){t&&t(e)})},this)};t._$invoke=function(t){this.__afterReady(function(){var e,n=t.method,s=t.args||{},o=t.nativeSucCb||function(t){},i=t.nativeErrCb||function(t){},a=t.timeout||1e6;e=setTimeout(function(){e=void 0;i({timeout:!0})},a);this.__NJ.invoke(n,s,function(t){if(void 0!==e){clearTimeout(e);o(t)}},function(t){if(void 0!==e){clearTimeout(e);i(t)}})},this)};t.__afterReady=function(t,e){if(this.__jsbridgeReady)t.apply(e);else{var i=function(){t.apply(e);setTimeout(function(){this._$delEvent("onready",i)}._$bind(this),100)};this._$addEvent("onready",i)}};return function(){var t;return function(){if(!t)t=i._$allocate();return t}}()},1,21,2,75,69);I$(5,function(s,l,i,p,d,f,r,c,a,h,o,e,u,n,_,t){e._$$Module=NEJ.C();t=e._$$Module._$extend(l._$$EventTarget);t.__init=function(t){this.__initDownloadParam();this.__initNewsTabLink();this.__supInit(t);this.__initUserinfo();this.__initTopBar(t||{});o();this._$seedAfterPageInit();a._$$ActionManage._$allocate()};t.__initUserinfo=function(){this.__userinfo=h();this.__userinfo._$addEvent("login",function(t){this._$dispatchEvent("login",t)}._$bind(this))};t.__initTopBar=function(t){this.__topbar=r._$$FrmTopBar._$allocate({noback:t.noback});this._$addEvent("login",function(t){this.__topbar._$refreshBar(t)});document.addEventListener("asyncLogin",function(){this.__userinfo._$getProfile(function(t){this.__topbar._$refreshBar(t)}._$bind(this))}._$bind(this))};t.__initNewsTabLink=function(){if(s._$get("newsH5Page")){var e=s._$get("newsH5Page"),n=i._$query2object(location.search.slice(1)),t=n["newsappActId"];if(t){e.href="http://m.kaola.com/activity/h5/"+t+".html";window.sessionStorage.setItem("news_kaola_ActId",t)}else{t=window.sessionStorage.getItem("news_kaola_ActId");if(!t)e.href="http://m.kaola.com/";else e.href="http://m.kaola.com/activity/h5/"+t+".html"}}};t.__initDownloadParam=function(){var t=i._$query2object(location.search.slice(1)),e=t["appChannel"],n=t["camName"],s=t["sid"];try{if(e)window.sessionStorage&&window.sessionStorage.setItem("appChannel",e);if(n)window.sessionStorage&&window.sessionStorage.setItem("camName",n);if(s)window.sessionStorage&&window.sessionStorage.setItem("sid",s)}catch(o){}};t._$setTitle=function(t){this.__topbar&&this.__topbar._$setTitle&&this.__topbar._$setTitle(t)};t._$afterPageInit=n;t._$seedAfterPageInit=function(){var t=500;if(this._$afterPageInit&&this._$afterPageInit!=n)setTimeout(this._$afterPageInit._$bind(this),t)};return e._$$Module},4,21,2,22,23,24,25,26,27,28,29);I$(6,function(h,l,e,f,_,p,u){"use strict";var s,n=navigator.userAgent,t=!!n.match(/(iPhone|iPod|iPad)/i),i=!!n.match(/Android/i),r=!!n.match(/Windows Phone/i),c=!t&&!i&&!r,a=!!n.match(/NewsApp/i);if(i)s="http://haitao.nos.netease.com/kaola_a8280d874e124daf8216fa76396edd86.apk";else s="https://itunes.apple.com/us/app/kao-la-hai-gou-wang-yi-qi/id965789238?l=zh&ls=1&mt=8";var o={IOS:t,AOS:i,WinPhone:r,PC:c},d={schemaUrl:"kaola://www.kaola.com",appUrl:s,__openApp:function(n,s,i,e){function o(t){function n(e){if(e>3e3||document.hidden||document.webkitHidden)t(1);else t(0)}var e,s=+new Date,i=0;e=setInterval(function(){i++;var t=+new Date-s;if(i>=100||t>3e3){clearInterval(e);n(t)}},20)}var t=document.createElement("iframe");t.src=n;t.style.display="none";if(e||"download"==i)o(function(t){e&&e(t);if("download"==i&&!t)window.location.href=s});document.body.appendChild(t);setTimeout(function(){document.body.removeChild(t)},2e3)},_$inWeiXin:function(){location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.kaola"},_$platform:function(){for(var t in o)if(o[t])return t}(),_$browserSupport:function(){var t=navigator.userAgent.toLowerCase();if(t.match(/micromessenger/i)||t.match(/yixin/i)||t.match(/weibo/i))return!1;if("IOS"===this._$platform){if(/(iphone|ipod|ipad).* os [1-7]{1}_/.test(t))return!1;if(/lofter-iphone [1-4]\./.test(t))return!1;else return!0}else if("AOS"===this._$platform){if(/newsapp/.test(t))return!0;var n=t.match(/pris\/[0-9\.]+/);if(n&&n.length>0){var e,a=[4,8,0],s=n[0].split("/");if(s&&2==s.length){var o=s[1].split(".");if(o&&o.length){var r=o.map(function(t){return parseInt(t,10)});e=!0;for(var i=0;i<a.length;i++)e=a[i]<=(r[i]||0)&&e}else e=!1}else e=!1;return e}}return!1},_$addCpsTrackData:function(l){var n=e._$cookie("unionID"),s=e._$cookie("mid"),o=e._$cookie("euid"),a=e._$cookie("cpsTrackingId"),r=e._$cookie("trackTime"),t={},i=l;if(n)t.unionID=n;if(s)t.mid=s;if(o)t.euid=o;if(a)t.cpsTrackingId=a;if(r)t.trackTime=r;if(Object.keys(t).length>0){var h=encodeURIComponent(JSON.stringify(t));i+=(i.indexOf("?")>=0?"&":"?")+("track_data="+h)}return i},_$shouldForbidCallApp:function(){var t=e._$cookie("showWapBanner");if(t&&"0"===t[2])return!0;else return!1},_$addCPSShareParam:function(i){var t=i,e=l._$query2object(location.search.slice(1));if(e&&e.sharer){var n=encodeURIComponent(e.sharer);t+=(t.indexOf("?")>=0?"&":"?")+("sharer="+n)}return t},_$fixStaticSuffix:function(t){var e=t;return e.replace(".shtml",".html")},_$openAppInNewsApp:function(s,i,e){var n;if(t)n="openapp://intent/"+s;window.__newsapp_openapp_done=function(){e&&e(1)};window.__newsapp_openapp_failed=function(){e&&e(0);if(i)location.href=i};location.href=n},_$getFingerprint:function(){return e._$cookie("JSESSIONID-WKL-8IO")},_$open:function(o){var e=o.openUrl||this.schemaUrl,r=o.DownloadUrl||this.appUrl,c=o.action||"download",d=!!o.force,s=o.callback||null;if("7190"!=window.sessionStorage.getItem("news_kaola_ActId"))if(!o.autocall||!this._$shouldForbidCallApp()){if(t)if(e.toLowerCase().match(/^kaola\:\/\/(www|m)\.kaola\.com\/?$/))e="kaola://";e=this._$addCpsTrackData(e);e=this._$addCPSShareParam(e);e=this._$fixStaticSuffix(e);if(t||i||"download"!=c){if(!t&&!i){e=this.appUrl;r=this.appUrl}var l=this._$getFingerprint();if(e&&l){l=encodeURIComponent(l);if(e.indexOf("?")<0)e+="?fingerprint="+l;else e=e.replace("?","?fingerprint="+l+"&")}if("download"==c){if(a&&t){this._$openAppInNewsApp(e,r,s);return}if(t||i)if(n.match(/MicroMessenger/i))this._$inWeiXin();else this.__openApp(e,r,c,s);else document.location=r}else{if(a&&t){this._$openAppInNewsApp(e,null,s);return}if(!this._$browserSupport()&&!d){s&&s(0);return}if(t||i)this.__openApp(e,r,c,s);else s&&s(0)}}else h.show("抱歉，网易考拉海购暂不支持您的机型")}}};return d},26,2,44);I$(88,function(e,s,h,m,f){function n(i,e){this.length=0;this._signs={};this._context=e||r;if(i)if("string"==typeof i){if(e&&e instanceof n)e=e[0];if("string"==typeof e)e=t(e)[0];this._$add(f._$all(i,e))}else if(i instanceof n||l(i)||i.length)this._$add(i)}var a=[].slice,r=document,u="documentElement",p=r[u],v=r.createElement("div"),d=null==v.textContent?"innerText":"textContent",o=function(e,i,t){t=t||{};if(null==this[e]||t.override)this[e]=i;return this},b=function(e,t,i){for(;t&&t!==i;){if(nes.matches(t,e))return t;t=t.parentNode}},g=function(t,n,i){return t===i||"undefined"===t||t===this||t===s||t===e},l=function(t){if(!t)return!1;var e=t.nodeType;return 1===e||9===e||11===e||t.window===t;

},w=function(i){var e=i.prototype,t={};return{extend:function(i,n){t[i]=e[i];e[i]=n;return this},reset:function(){for(var i in t)if(t.hasOwnProperty(i))if(void 0===t[i])delete e[i];else e[i]=t[i]}}},_=w(Function);_.extend("autoSet",function(){var t=this;return function(e,s){if(h._$isObject(e)){var n=a.call(arguments,1);for(var i in e)t.apply(this,[i,e[i]].concat(n));return this}else return t.apply(this,arguments)}}).extend("splitProcess",function(t){var e=this;return function(i){if(h._$isArray(i)){var n,r=a.call(arguments,1),l=i.length;if(t)n={};for(var s=0;l>s;s++){var o=i[s],c=e.apply(this,[o].concat(r));if(t&&"string"==typeof o)n[o]=c}return t?n:this}else return e.apply(this,arguments)}});o=o.autoSet();var t=function(e,s){t._$implement(m._$dump(),{statics:!0});m._$clear();if("string"==typeof e&&0==e.trim().indexOf("<")){var i=document.createElement("div");i.innerHTML=e;var o=t(i.childNodes);return o}return new n(e,s)};t._$extend=o._$bind(t);t._$extend({_$signal:"_uid",_$instances:{},_$handlers:[],_$fragment:function(){},_$implement:function(i,e,t){t=t||{};o.call(n.prototype,i,t.statics?this._transport(e):e)}.autoSet(),_transport:function(t){return function(){var e=a.call(arguments);e.unshift(this[0]);var i=t.apply(this,e);if(!g.call(this,i))return i;this._$forEach(function(i,n){if(0!==n){e[0]=i;t.apply(this,e)}});return this}},_merge:function(t,e,i){for(var n=t.length||0,s=0;void 0!==e[s];){var o=e[s++];if(!i||i.call(t,o))t[n++]=o}t.length=n;return t},_toArray:function(e){return t._merge([],e)},_contains:p.contains?function(t,e){return t===e||(9==t.nodeType?t[u]:t).contains(e)}:p.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},_$cloneNode:function(e,n){n=!!n;var t,s,o=e.cloneNode(n);if(n){s=nes.all("*",e);s.push(e);t=nes.all("*",o);t.push(o)}else{s=[e];t=[o]}for(_i=t.length;_i--;)i.fixture.clone(t[_i],s[_i]);return o},_delegateHandlers:{},_cleanSelector:nes._cleanSelector,_$uniqueSort:nes._uniqueSort,_$matches:nes.matches,_$fn:n.prototype,_$uid:nes._getUid});var y=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,i={insertor:{top:function(t,e){t.insertBefore(e,t.firstChild)},bottom:function(t,e){t.appendChild(e)},before:function(t,i){var e=t.parentNode;if(e)e.insertBefore(i,t)},after:function(t,i){var e=t.parentNode;if(e)e.insertBefore(i,t.nextSibling)}},fixProps:{input:"checked",option:"selected",textarea:"value",script:"text"},fixture:{clone:function(e,n){var s;if(1===e.nodeType){if(e.clearAttributes){e.clearAttributes();e.mergeAttributes(n)}s=e.nodeName.toLowerCase();if(_prop=i.fixProps[s])e[_prop]=n[_prop];e.removeAttribute(t._$signal);e.removeAttribute("id")}},event:function(t){var n=t.type,s=t.button;t.__fixed=!0;t.target=t.target||t.srcElement||document;t.metaKey=!!t.metaKey;if(3===t.target.nodeType)t.target=t.target.parentNode;if(y.test(n)){t.pageX=e._$pageX(t);t.pageY=e._$pageY(t);if("mouseover"===n||"mouseout"===n){for(var i=t.relatedTarget||t[("mouseover"==n?"from":"to")+"Element"];i&&3==i.nodeType;)i=i.parentNode;t.relatedTarget=i}}t.which=null!=t.charCode?t.charCode:t.keyCode;if(!t.which&&void 0!==s)t.which=1&s?1:2&s?3:4&s?2:0;if(!t.preventDefault)t.preventDefault=function(){this.returnValue=!1;return this};if(!t.stopPropagation)t.stopPropagation=function(){this.cancelBubble=!0;return this}}}},c=function(e){var i=t._$matches;return function(n,s){var o=t([]);if("boolean"==typeof n){s=n;n=null}this._$forEach(function(a){for(var t=a[e];t;){if(1===t.nodeType&&(!n||i(t,n))){o._$add(t);if(!s)break}t=t[e]}});return o}};t._$implement({_$style:function(t,e){if(!t)throw Error("缺少css样式名");if(void 0===e)return s._$getStyle(this[0],t);else return this._$forEach(function(i){s._$setStyle(i,t,e)})}.splitProcess(!0).autoSet(),_$attr:function(t,e){if(!t)throw Error("缺少属性名");if(void 0===e)return s._$attr(this[0],t);else return this._$forEach(function(i){s._$attr(i,t,e)})}.splitProcess(!0).autoSet(),_$forEach:function(t){h._$forEach(this,t);return this},_$filter:function(e){var i=[],n="string"==typeof e;this._$forEach(function(s,o){var a=n?t._$matches(s,e):e.call(this,s,o);if(a)i.push(s)});return t(i)},_$map:function(n){var e=[],i=!1;this._$forEach(function(s,o){var t=n.call(this,s,o);if(!l(t))i=!0;e.push(t)});return i?e:t([])._$add(e)},_$sort:function(){var e=this._$get();t._$uniqueSort(e);return t(e)},_$add:function(e){if(e){if(e.tagName||"number"!=typeof e.length||e===window)e=[e];t._merge(this,e,function(e){if(!l(e))return!1;var i=t._$uid(e);if(this._signs[i])return!1;else{this._signs[i]=1;return!0}});return this}},_$get:function(e,i){if("number"!=typeof e)return t._toArray(this);else return i?t(this[e]):this[e]},_$last:function(e){return e?t(this[this.length-1]):this[this.length-1]},_$first:function(e){return e?t(this[0]):this[0]},_$matches:function(e){return t._$matches(this[0],e)},_$parent:c("parentNode"),_$prev:c("previousSibling"),_$next:c("nextSibling"),_$children:function(e,i){var n=t([]);if("boolean"==typeof e){i=e;e=null}this._$forEach(function(s){var o=i?f._$all(e||"*",s):e?t(s.childNodes)._$filter(e):t(s.childNodes);n._$add(o)});return n},_$siblings:function(t){return this._$prev(t,!0)._$add(this._$next(t,!0))},_$insert:function(s,e){e=e&&e.toLowerCase()||"bottom";if(!i.insertor[e])e="bottom";var n=t(s)[0],o=i.insertor[e];if(!n)throw Error("The Element to be inserted is not exist");return this._$forEach(function(e,i){o(e,0===i?n:t._$cloneNode(n,!0))})},_$insert2:function(e,i){t(e)._$insert(this,i);return this},_$clone:function(e){return this._$map(function(i){return t._$cloneNode(i,e)})},_$text:function(t){if(void 0===t){if(!this[0])throw Error("内部节点为空，无法完成get操作");return this[0][d]}return this._$forEach(function(e){e[d]=t})},_$html:function(t){if(void 0===t){if(!this[0])throw Error("内部节点为空，无法完成get操作");return this[0].innerHTML}return this._$forEach(function(e){e.innerHTML=t})},_$val:function(t){if(void 0===t){if(!this[0])throw Error("内部节点为空，无法完成get操作");return this[0].value}return this._$forEach(function(e){e.value=t})},_delegate:function(n,i,s){i=t._cleanSelector(i);return this._$forEach(function(o){var r=t._$uid(o),l=t._delegateHandlers[r]||(t._delegateHandlers[r]={}),h=l[n]||(l[n]={}),c=h[i]||(h[i]=[]),a=function(t){var e;if(e=b(i,t.target||t.srcElement,o))s.apply(e,arguments)};a._raw=s;c.push(a);e._$addEvent(o,n,a)})},_undelegate:function(n,i,s){i=t._cleanSelector(i);return this._$forEach(function(l){var h,a,o,d=t._$uid(l);if((h=t._delegateHandlers[d])&&(a=h[n])&&(o=a[i])){for(var r=o.length;r--;){var c=o[r];if(!s||c._raw===s){e._$delEvent(l,n,c);o.splice(r,1)}}if(!o.length)delete a[i]}})},_$on:function(t,n,s){if(void 0===t)throw Error("缺少事件名参数");if("function"==typeof n){s=n;n=null}var o=t.indexOf(" ");if(~o){n=t.slice(o+1);t=t.slice(0,o)}if(!s)throw Error("缺少回调函数");else{var a=s,s=function(t){i.fixture.event(t);a.apply(this,arguments)};a.real=s}if(n)return this._delegate(t,n,s);else return this._$forEach(function(i){e._$addEvent(i,t,s)})}.splitProcess().autoSet(),_$off:function(i,s,n){if("function"==typeof s){n=s;s=null}var o;if(i&&~(o=i.indexOf(" "))){s=i.slice(o+1);i=i.slice(0,o)}if(n)n=n.real||n;if(s)return this._undelegate(i,s,n);else return this._$forEach(function(s){var a,r=t._$uid(s),o=t._delegateHandlers[r];if(!i){if(o)delete t._delegateHandlers[r];e._$clearEvent(s,i)}else{if(o)a=o[i];if(!n){if(a)delete o[i];e._$clearEvent(s,i)}else e._$delEvent(s,i,n)}})}.splitProcess().autoSet(),_$trigger:function(t,i){if("string"!=typeof t)throw Error("事件类型参数错误");this._$forEach(function(n){e._$dispatchEvent(n,t,i)});return this}.splitProcess().autoSet(),splice:function(){throw Error("don't use the NodeList#splice")}});_.reset();if(!0)nej.$=t;return t},3,4,2,12,23);I$(85,function(t){return t},88);I$(93,function(t,e,i,n,s,o){i.__focusElement=function(){var i=function(n,s){var i=t._$getElement(s);if(!i.value)e._$delClassName(i,n)},n=function(i,n){e._$addClassName(t._$getElement(n),i)};return function(s,e,o){if(1==e)t._$addEvent(s,"blur",i._$bind(null,o));if(1==e||-1==e)t._$addEvent(s,"focus",n._$bind(null,o))}}();return i},3,4);I$(92,function(t,e,n,s,o,a,r,l){var i=(!0?NEJ.P("nej.p"):arguments[3])._$KERNEL;if("trident"==i.engine&&i.release<="3.0")!function(){t.__focusElement=function(){var i=function(t,i){n._$delClassName(e._$getElement(i),t)};return t.__focusElement._$aop(function(n){var t=n.args;if(1!=t[1]){e._$addEvent(t[0],"blur",i._$bind(null,t[2]));t[1]=-1}})}()}();return t},93,3,4,11);I$(89,function(n,e,i,s,o,t,a,r,l){t._$focus=function(n,t){n=i._$get(n);if(n){var o=0,a="js-focus";if(e._$isNumber(t))o=t;else if(e._$isString(t))a=t;else if(e._$isObject(t)){o=t.mode||o;a=t.clazz||a}var r=parseInt(i._$dataset(n,"mode"));if(!isNaN(r))o=r;r=i._$dataset(n,"focus");if(r)a=r;s.__focusElement(n,o,a)}};o._$merge(t);if(!0)n.copy(n.P("nej.e"),t);return t},8,2,4,92,12);I$(95,function(t){t.__length=function(){var t=/(\r\n|\r|\n)/g;return function(e){return(e||"").replace(t,"**").length}}();return t},11);I$(94,function(t,i){var e=(!0?NEJ.P("nej.p"):arguments[1])._$KERNEL;if("trident"==e.engine)!function(){t.__length=function(){return(_event.args[0]||"").length}}();return t},95,11);I$(90,function(i,t,s,n,o,a,e,l,r,h){e._$counter=function(){var e={},o=function(t){return a.__length(t)},i=function(s){var n=e[s],o=t._$get(s),a=t._$get(n.xid);if(o&&n){var i={input:o.value};i.length=n.onlength(i.input);i.delta=n.max-i.length;n.onchange(i);a.innerHTML=i.value||"剩余"+Math.max(0,i.delta)+"个字"}};return function(d,u){var l=t._$id(d);if(l&&!e[l]){var a=n._$merge({},u);a.onchange=a.onchange||r;a.onlength=o;if(!a.max){var h=parseInt(t._$attr(l,"maxlength")),c=parseInt(t._$dataset(l,"maxLength"));a.max=h||c||100;if(!h&&c)a.onlength=n._$length}e[l]=a;s._$addEvent(l,"input",i._$bind(null,l));var p=t._$wrapInline(l,{nid:a.nid||"js-counter",clazz:a.clazz});a.xid=t._$id(p);i(l)}}}();o._$merge(e);if(!0)i.copy(i.P("nej.e"),e);return e},8,4,3,2,12,94);I$(97,function(t,e,i,n){t.__setPlaceholder=function(t,e){};return t});I$(96,function(t,e,s,i,o,a,r,l,h){
var n=(!0?NEJ.P("nej.p"):arguments[4])._$KERNEL;if("trident"==n.engine&&n.release<="5.0")!function(){i.__setPlaceholder=function(){var i={},n={nid:"j-holder-"+s._$uniqueID()},o=function(e){var s=t._$get(e);i[e]=2;if(!s.value)t._$setStyle(t._$wrapInline(s,n),"display","none")},a=function(e){var s=t._$get(e);i[e]=1;if(!s.value)t._$setStyle(t._$wrapInline(s,n),"display","")},r=function(e){var s=t._$get(e);if(2!=i[e])t._$setStyle(t._$wrapInline(s,n),"display",!s.value?"":"none")},l=function(e,o){var a=t._$id(e),i=t._$wrapInline(e,{tag:"label",clazz:o,nid:n.nid});i.htmlFor=a;var s=t._$attr(e,"placeholder")||"";i.innerText="null"==s?"":s;e.offsetHeight+"px";t._$style(i,{left:0,display:!e.value?"":"none"})};return function(t,s){if(null==i[t.id]){l(t,s);var n=t.id;i[n]=1;e._$addEvent(t,"blur",a._$bind(null,n));e._$addEvent(t,"focus",o._$bind(null,n));e._$addEvent(t,"input",r._$bind(null,n))}}}()}();return i},4,3,2,97,11);I$(91,function(e,i,n,s,t,o,a,r){t._$placeholder=function(t,e){t=i._$get(t);s.__setPlaceholder(t,i._$dataset(t,"holder")||e||"js-placeholder")};n._$merge(t);if(!0)e.copy(e.P("nej.e"),t);return t},8,4,12,96);I$(86,function(s,h,i,o,e,r,l,d,c,n,a,u,p,t){n._$$WebForm=h._$klass();t=n._$$WebForm._$extend(r._$$EventTarget);t.__init=function(){this.__super();this.__wopt={tp:{nid:"js-nej-tp"},ok:{nid:"js-nej-ok"},er:{nid:"js-nej-er"}}};t.__reset=function(t){this.__super(t);this.__form=document.forms[t.form]||i._$get(t.form);this.__doInitDomEvent([[this.__form,"enter",this._$dispatchEvent._$bind(this,"onenter")]]);this.__message=t.message||{};this.__message.pass=this.__message.pass||"&nbsp;";var e=this.__dataset(this.__form,"focusMode",1);if(!isNaN(e))this.__fopt={mode:e,clazz:t.focus};this.__holder=t.holder;this.__wopt.tp.clazz="js-mhd "+(t.tip||"js-tip");this.__wopt.ok.clazz="js-mhd "+(t.pass||"js-pass");this.__wopt.er.clazz="js-mhd "+(t.error||"js-error");this.__invalid=t.invalid||"js-invalid";this.__doInitValidRule(t);this._$refresh();if(this.__fnode)this.__fnode.focus()};t.__destroy=function(){this.__super();this._$reset();delete this.__message;delete this.__fnode;delete this.__vinfo;delete this.__xattr;delete this.__form;delete this.__treg;delete this.__vfun};t.__dataset=function(e,n,s){var t=i._$dataset(e,n);switch(s){case 1:return parseInt(t,10);case 2:return"true"==(t||"").toLowerCase();case 3:return this.__doParseDate(t)}return t};t.__number=function(t,e,i){if("date"==e)return this.__doParseDate(t,i);else return parseInt(t,10)};t.__isValidElement=function(){var t=/^button|submit|reset|image|hidden|file$/i;return function(e){e=this._$get(e)||e;e.type;return!!e.name&&!t.test(e.type||"")}}();t.__isValueElement=function(){var t=/^hidden$/i;return function(e){if(this.__isValidElement(e))return!0;e=this._$get(e)||e;var i=e.type||"";return t.test(i)}}();t.__doParseDate=function(){var t=/[:\.]/;return function(s,o){if("now"==(s||"").toLowerCase())return+new Date;var n=e._$var2date(s);if(n){var i=(o||"").split(t);n.setHours(parseInt(i[0],10)||0,parseInt(i[1],10)||0,parseInt(i[2],10)||0,parseInt(i[3],10)||0)}return+n}}();t.__doCheckString=function(t,e){var i=this.__vfun[e],n=this.__dataset(t,e);if(n&&i){this.__doPushValidRule(t,i);this.__doSaveValidInfo(t,e,n)}};t.__doCheckPattern=function(t,e){try{var i=this.__dataset(t,e);if(!i)return;var n=new RegExp(i);this.__doSaveValidInfo(t,e,n);this.__doPushValidRule(t,this.__vfun[e])}catch(s){}};t.__doCheckBoolean=function(t,e){var i=this.__vfun[e];if(i&&this.__dataset(t,e,2))this.__doPushValidRule(t,i)};t.__doCheckNumber=function(e,i,t){t=parseInt(t,10);if(!isNaN(t)){this.__doSaveValidInfo(e,i,t);this.__doPushValidRule(e,this.__vfun[i])}};t.__doCheckDSNumber=function(t,e){this.__doCheckNumber(t,e,this.__dataset(t,e))};t.__doCheckATNumber=function(t,e){this.__doCheckNumber(t,e,i._$attr(t,e))};t.__doCheckTPNumber=function(t,e,n){var i=this.__number(this.__dataset(t,e),this.__dataset(t,"type"));this.__doCheckNumber(t,e,i)};t.__doCheckCustomAttr=function(t){e._$loop(this.__xattr,function(s,e){var n=i._$dataset(t,e);if(null!=n){this.__doSaveValidInfo(t,e,n);this.__doPushValidRule(t,this.__vfun[e])}},this)};t.__doPrepareElement=function(){var t=/^input|textarea$/i,e=function(t){this._$showTip(o._$getElement(t))},n=function(e){var t=o._$getElement(e);if(!this.__dataset(t,"ignore",2))this.__doCheckValidity(t)};return function(s){if(this.__dataset(s,"autoFocus",2))this.__fnode=s;var r=i._$attr(s,"placeholder");if(r&&"null"!=r)c._$placeholder(s,this.__holder);if(this.__fopt&&t.test(s.tagName))l._$focus(s,this.__fopt);var o=i._$id(s);this.__doCheckBoolean(o,"required");this.__doCheckString(o,"type");this.__doCheckPattern(o,"pattern");this.__doCheckATNumber(o,"maxlength");this.__doCheckATNumber(o,"minlength");this.__doCheckDSNumber(o,"maxLength");this.__doCheckDSNumber(o,"minLength");this.__doCheckTPNumber(o,"min");this.__doCheckTPNumber(o,"max");this.__doCheckCustomAttr(o);var h=i._$dataset(o,"time");if(h)this.__doSaveValidInfo(o,"time",h);var u=s.name;this.__message[u+"-tip"]=this.__dataset(s,"tip");this.__message[u+"-error"]=this.__dataset(s,"message");this._$showTip(s);var p=this.__vinfo[o],_=(p||a).data||a,f=this.__dataset(s,"counter",2);if(f&&(_.maxlength||_.maxLength))d._$counter(o,{nid:this.__wopt.tp.nid,clazz:"js-counter"});if(p&&t.test(s.tagName))this.__doInitDomEvent([[s,"focus",e._$bind(this)],[s,"blur",n._$bind(this)]]);else if(this.__dataset(s,"focus",2))this.__doInitDomEvent([[s,"focus",e._$bind(this)]])}}();t.__doInitValidRule=function(){var i={number:/^[\d]+$/i,url:/^[a-z]+:\/\/(?:[\w-]+\.)+[a-z]{2,6}.*$/i,email:/^[\w-\.]+@(?:[\w-]+\.)+[a-z]{2,6}$/i,date:function(t,i){var n=this.__dataset(i,"format")||"yyyy-MM-dd";return!t||!isNaN(this.__doParseDate(t))&&e._$format(this.__doParseDate(t),n)==t}},n={required:function(t){var e=t.type,i=!t.value,n=("checkbox"==e||"radio"==e)&&!t.checked;if(n||i)return-1;else return void 0},type:function(i,s){var t=this.__treg[s.type],n=i.value.trim(),o=!!t.test&&!t.test(n),a=e._$isFunction(t)&&!t.call(this,n,i);if(o||a)return-2;else return void 0},pattern:function(t,e){if(!e.pattern.test(t.value))return-3;else return void 0},maxlength:function(t,e){if(t.value.length>e.maxlength)return-4;else return void 0},minlength:function(t,e){if(t.value.length<e.minlength)return-5;else return void 0},maxLength:function(t,i){if(e._$length(t.value)>i.maxLength)return-4;else return void 0},minLength:function(t,i){if(e._$length(t.value)<i.minLength)return-5;else return void 0},min:function(i,t){var e=this.__number(i.value,t.type,t.time);if(isNaN(e)||e<t.min)return-6;else return void 0},max:function(i,t){var e=this.__number(i.value,t.type,t.time);if(isNaN(e)||e>t.max)return-7;else return void 0}},t=function(t,i,n,o){var s=t[n];if(!e._$isFunction(i)||!e._$isFunction(s))t[n]=i;else t[n]=s._$aop(i)};return function(o){this.__treg=s.X({},i);e._$loop(o.type,t._$bind(null,this.__treg));this.__vfun=s.X({},n);this.__xattr=o.attr;e._$loop(this.__xattr,t._$bind(null,this.__vfun))}}();t.__doPushValidRule=function(i,n){if(e._$isFunction(n)){var t=this.__vinfo[i];if(!t||!t.func){t=t||{};t.func=[];this.__vinfo[i]=t}t.func.push(n)}};t.__doSaveValidInfo=function(e,i,n){if(i){var t=this.__vinfo[e];if(!t||!t.data){t=t||{};t.data={};this.__vinfo[e]=t}t.data[i]=n}};t.__doCheckValidity=function(t){t=this._$get(t)||t;if(!t)return!0;var o=this.__vinfo[i._$id(t)];if(!o&&this.__isValidElement(t)){this.__doPrepareElement(t);o=this.__vinfo[i._$id(t)]}if(!o)return!0;var n;e._$forIn(o.func,function(e){n=e.call(this,t,o.data);return null!=n},this);if(null==n){var s={target:t,form:this.__form};this._$dispatchEvent("oncheck",s);n=s.value}var s={target:t,form:this.__form};if(null!=n){if(e._$isObject(n))e._$merge(s,n);else s.code=n;this._$dispatchEvent("oninvalid",s);if(!s.stopped)this._$showMsgError(t,s.value||this.__message[t.name+n])}else{this._$dispatchEvent("onvalid",s);if(!s.stopped)this._$showMsgPass(t,s.value)}return null==n};t.__doShowMessage=function(){var n={tp:"tip",ok:"pass",er:"error"},s=function(t,e){return t==e?"block":"none"},o=function(n,s,o){var e=t.call(this,n,s);if(!e&&o)e=i._$wrapInline(n,this.__wopt[s]);return e},t=function(e,s){var t=i._$get(e.name+"-"+n[s]);if(!t)t=i._$getByClassName(e.parentNode,this.__wopt[s].nid)[0];return t};return function(n,a,r){n=this._$get(n)||n;if(n){"er"==r?i._$addClassName(n,this.__invalid):i._$delClassName(n,this.__invalid);var l=o.call(this,n,r,a);if(l&&a)l.innerHTML=a;e._$loop(this.__wopt,function(o,e){i._$setStyle(t.call(this,n,e),"display",s(r,e))},this)}}}();t._$showTip=function(t,e){this.__doShowMessage(t,e||this.__message[t.name+"-tip"],"tp")};t._$showMsgPass=function(t,e){this.__doShowMessage(t,e||this.__message[t.name+"-pass"]||this.__message.pass,"ok")};t._$showMsgError=function(t,e){this.__doShowMessage(t,e||this.__message[t.name+"-error"],"er")};t._$setValue=function(){var n=/^(?:radio|checkbox)$/i,t=function(t){return null==t?"":t},s=function(i,n){if(n.multiple){var s;if(!e._$isArray(i))s[i]=i;else s=e._$array2object(i);e._$forEach(n.options,function(t){t.selected=null!=s[t.value]})}else n.value=t(i)},i=function(i,e){if(n.test(e.type||""))e.checked=i==e.value;else if("SELECT"==e.tagName)s(i,e);else e.value=t(i)};return function(s,n){var t=this._$get(s);if(t)if("SELECT"==t.tagName||!t.length)i(n,t);else e._$forEach(t,i._$bind(null,n))}}();t._$get=function(t){return this.__form.elements[t]};t._$form=function(){return this.__form};t._$data=function(){var t=/^radio|checkbox$/i,n=/^number|date$/,s=function(t){if("SELECT"==t.tagName&&t.multiple){var i=[];e._$forEach(t.options,function(t){if(t.selected)i.push(t.value)});return i.length>0?i:""}return t.value},o=function(l,a){var h=a.name,o=s(a),r=l[h],c=this.__dataset(a,"type"),d=i._$dataset(a,"time");if(n.test(c))if(e._$isArray(o))e._$forEach(o,function(t,e,i){i[e]=this.__number(t,c,d)},this);else o=this.__number(o,c,d);if(t.test(a.type)&&!a.checked){o=this.__dataset(a,"value");if(!o)return}if(r){if(!e._$isArray(r)){r=[r];l[h]=r}r.push(o)}else l[h]=o};return function(){var t={};

e._$forEach(this.__form.elements,function(e){if(this.__isValueElement(e))o.call(this,t,e)},this);return t}}();t._$reset=function(){var t=function(t){if(this.__isValidElement(t))this._$showTip(t)};return function(){this.__form.reset();e._$forEach(this.__form.elements,t,this)}}();t._$submit=function(){this.__form.submit()};t._$refresh=function(){var t=function(t){if(this.__isValidElement(t))this.__doPrepareElement(t)};return function(){this.__vinfo={};e._$forEach(this.__form.elements,t,this)}}();t._$checkValidity=function(t){t=this._$get(t)||t;if(t)return this.__doCheckValidity(t);var i=!0;e._$forEach(this.__form.elements,function(t){var e=this._$checkValidity(t);i=i&&e},this);return i};if(!0)s.copy(s.P("nej.ut"),n);return n},8,1,4,3,2,21,89,90,91);I$(109,function(s,e,t,i){var n=Regular.extend({config:function(t){var e=this.getLsUsable();i.extend(t,{ajaxUrl:"/coupon/get.html",lsUsable:e,lsdata:{},argus:{},isBindLink:!0})},init:function(){if(this.data.isBindLink)nej.v._$addEvent(document.body,"click",this._filterClick._$bind(this));var t=JSON.parse(this.lsGetItem("kaola_coupon"));if(t){this.lsRemoveItem("kaola_coupon");this.setLsdata(t)}if(location.href.indexOf("scouponId=")>0){var e=location.href.split("scouponId=")[1].split("&")[0];this.sendAjax(!0,e);try{var i=new RegExp("[&|?]scouponId="+e,"ig"),n=location.href.split("/").pop().replace(i,"");window.history.replaceState({},null,n)}catch(s){}}},_filterClick:function(t){try{var e=nej.v._$getElement(t),i=e.href||e.parentNode.href||"";if(0==i.indexOf("http://www.kaola.com/app/coupon")){nej.v._$stop(t);var n=i.split("/").pop().split(".")[0];this.getCoupon(n)}}catch(t){}},getCoupon:function(t){if(t)this.sendAjax(!1,t)},sendAjax:function(s,i){if(i){var n={schemeId:i};if("/coupon/get.html"==this.data.ajaxUrl)if(isNaN(i))this.data.ajaxUrl="/coupon/redeemCode/get.html";if("/coupon/redeemCode/get.html"==this.data.ajaxUrl)n={redeemCode:i};try{e(this.data.ajaxUrl,{method:"POST",norest:!0,type:"json",data:n,onload:function(e){if(!e.body)e.body={};if("/coupon/redeemCode/get.html"==this.data.ajaxUrl)if(void 0==e.body.status){var n=-1;switch(e.code){case 461:n=-2;break;case-22:n=0;break;case 200:n=1;break;default:n=-1}e.body.status=n}if(-2!=e.body.status)if(!this._handles||!this._handles["getCouponResult"])switch(e.body.status){case-1:t.show(e.msg||"领取失败");break;case 0:t.show(e.msg||"已领取");break;case 1:t.show("领取成功");break;default:t.show(e.msg||"领取失败")}else this.$emit("getCouponResult",e.body.status,e.body,e);else{if(s)return;this.data.lsdata.couponId=i;this.lsSetItem("kaola_coupon",JSON.stringify(this.data.lsdata));var o=location.href+(location.href.indexOf("?")>0?"&":"?")+"scouponId="+i;location.href="http://m.kaola.com/login.html?target="+encodeURIComponent(o)}}._$bind(this)})}catch(o){console.log(o)}}},getLsdata:function(){return this.data.lsdata},setLsdata:function(t){this.data.lsdata=t},setArgus:function(t){this.data.argus=t;this.$update()},getArgus:function(){return this.data.argus},getLsUsable:function(){try{localStorage.getItem("test");return!0}catch(t){return!1}},lsGetItem:function(t){if(!this.data.lsUsable)return null;else return localStorage.getItem(t)},lsSetItem:function(t,e){if(this.data.lsUsable)localStorage.setItem(t,e)},lsRemoveItem:function(t){if(this.data.lsUsable)localStorage.removeItem(t)}});return n},66,69,26,75);I$(137,function(s,o,e,r,a,l,i,h,n,c){var t;i._$$Abstract=o._$klass();t=i._$$Abstract._$extend(a._$$EventTarget);t.__init=function(){this.__super();e._$dumpCSSText();this.__initXGui();this.__initNode()};t.__reset=function(t){this.__super(t);this.__doInitClass(t.clazz);this._$appendTo(t.parent)};t.__destroy=function(){this.__super();this.__doDelParentClass();delete this.__parent;e._$removeByEC(this.__body);e._$delClassName(this.__body,this.__class);delete this.__class};t.__initXGui=n;t.__initNode=function(){if(!this.__seed_html)this.__initNodeTemplate();this.__body=l._$getNodeTemplate(this.__seed_html);if(!this.__body)this.__body=e._$create("div",this.__seed_css);e._$addClassName(this.__body,this.__seed_css)};t.__initNodeTemplate=n;t.__doInitClass=function(t){this.__class=t||"";e._$addClassName(this.__body,this.__class)};t.__doAddParentClass=function(){if(this.__seed_css){var t=this.__seed_css.split(/\s+/);e._$addClassName(this.__parent,t.pop()+"-parent")}};t.__doDelParentClass=function(){if(this.__seed_css){var t=this.__seed_css.split(/\s+/);e._$delClassName(this.__parent,t.pop()+"-parent")}};t._$getBody=function(){return this.__body};t._$appendTo=function(t){if(this.__body){this.__doDelParentClass();if(r._$isFunction(t))this.__parent=t(this.__body);else{this.__parent=e._$get(t);if(this.__parent)this.__parent.appendChild(this.__body)}this.__doAddParentClass()}};t._$show=function(){if(this.__parent&&this.__body&&this.__body.parentNode!=this.__parent)this.__parent.appendChild(this.__body)};t._$hide=function(){e._$removeByEC(this.__body)};if(!0)s.copy(s.P("nej.ui"),i);return i},8,1,4,2,21,22);I$(140,".#<uispace>{position:fixed;_position:absolute;z-index:100;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background-image:url(#<blankimage>);}");I$(138,function(i,a,r,n,s,o,h,e,u,c,d){var t,l=n._$pushCSSText(h,{blankimage:r._$BLANK_IMAGE});e._$$Mask=a._$klass();t=e._$$Mask._$extend(o._$$Abstract);t.__reset=function(e){this.__super(e);var t=e.content||"&nbsp;";s._$isString(t)?this.__body.innerHTML=t:this.__body.appendChild(t)};t.__destroy=function(){this.__super();this.__body.innerHTML="&nbsp;"};t.__initXGui=function(){this.__seed_css=l};t._$show=function(){n._$fullScreen(this.__body);this.__super()};if(!0)i.copy(i.P("nej.ui"),e);return e},8,1,14,4,2,137,140);I$(141,".#<uispace>{ 	width:290px; 	border:1px solid #ccc;border-radius:3px; 	position:fixed; 	top:50%; 	margin-top:-62px; 	left:50%; 	margin-left:-145px; 	background:#fff; 	z-index: 1000; }  .#<uispace> .cnt{padding:10px;line-height:20px;border-bottom:1px solid #ccc} .#<uispace> .close{border-right:1px solid #ccc;margin-left:-1px} .#<uispace> .btns li{width:50%;float:left;height:40px;height:40px;line-height:40px;text-align:center;} .#<uispace> .btns{color:#007aff} ");I$(142,'<div class="m-downloadwin"> 	<div class="cnt f-tac j-flag">加入购物车成功，请前往电脑版或手机客<br/>户端购物车查看</div> 	<ul class="btns f-cb"> 		<li class="close j-flag">关闭</li> 		<li class="j-flag">下载客户端</li> 	</ul> </div>  ');I$(111,function(s,n,e,g,p,o,a,r,l,v,c,d,i,m,_,f,t){var u=e._$pushCSSText(a),h=l._$addNodeTemplate(r);i._$$DownloadWindow=s._$klass();t=i._$$DownloadWindow._$extend(p._$$Abstract);t.__reset=function(t){this.__super(t);this.__cnt.innerHTML=t.cnt||this.__cnt.innerHTML;this.__mask=o._$$Mask._$allocate({parent:document.body,clazz:"m-layermsk"})};t.__initXGui=function(){this.__seed_html=h;this.__seed_css=u};t.__initNode=function(){this.__super();var t=e._$getByClassName(this.__body,"j-flag");this.__cnt=t[0];this.__close=t[1];this.__dldbtn=t[2];if(c.isOldApp(10,10300))this.__inOldApp=!0;if(this.__inOldApp){this.__dldbtn.innerText="确定";e._$addClassName(this.__close,"f-dn");this.__dldbtn.style.width="100%"}n._$addEvent(this.__close,"click",this.__onCloseClick._$bind(this));n._$addEvent(this.__dldbtn,"click",this.__onDownloadBtnClick._$bind(this))};t.__onCloseClick=function(){this._$hide();this.__mask._$recycle()};t.__onDownloadBtnClick=function(){if(this.__inOldApp)this.__onCloseClick();else{var t="kaola://"+location.host+location.pathname;d._$open({openUrl:t,DownloadUrl:"http://www.kaola.com/mobile/download.html"})}};return i._$$DownloadWindow},1,3,4,2,137,138,141,142,22,30,75,6);I$(136,'{{#if _imgUrl}} <a class="m-app-banner {{_type}} {{_hideClass}}" on-click={{this.download()}} target="_blank" style="margin:{{_margin}};" data-gatype="下载banner点击" data-gaop="{{_platform}}" data-gatag="{{_pageUrl}}"> 	<img src="{{_imgUrl||\'\'}}" alt="网易考拉海购应用下载" data-src="{{_imgUrl||\'\'}}" ref=\'banimg\'> 	{{#if _type !== \'\'}} 	<span class="closewrap" on-click={{this.close($event)}}> 		<span class="close u-close-solid" ></span> 	</span> 	 	{{/if}} </a> {{/if}}');I$(108,function(e,r,i,t,n,s,o){var a=Regular.extend({template:e,config:function(s){this.data._hideClass="";this.data._margin=s.margin||"";this.data._type=s.type||"";var e=t._$query2object(location.search.slice(1));if(e&&"1"===e.noklappbanner)this.shown(1);if(this._$shouldForbidShowBanner())this.shown(1);this.data._urlparams=e;this.data._needShow=this.shown()?!1:!0;if("7190"==window.sessionStorage.getItem("news_kaola_ActId"))this.data._needShow=!1;var i=n._$platform;this.data._platform="AOS"==i?"Android":"IOS"==i?"iOS":i;this.data._pageUrl=location.origin+location.pathname},init:function(){if(this.data._needShow)i("/ad/footer.html",{method:"GET",norest:!0,type:"json",onload:function(e){if(e&&t._$isObject(e)&&200===e.code)if(e.body&&e.body.footerAd&&e.body.footerAd.siteUrl&&e.body.footerAd.imageUrl){this.data._goUrl=e.body.footerAd.siteUrl;this.data._imgUrl=e.body.footerAd.imageUrl;this.addUrlsuffix();if(""===this.data._hideClass&&this.data._imgUrl)this.$emit("appbannerloaded",!0);this.$update();this.$refs.banimg.onload=this.$refs.banimg.onerror=function(){this.$emit("load")}._$bind(this)}}._$bind(this)})},download:function(){o.download()},close:function(t){t.stopPropagation();t.preventDefault();this.shown(1);this.hide()},hide:function(){this.$emit("appbannerloaded",!1);this.data._hideClass="hide";this.$update()},show:function(){var t=this.shown();if(!t){this.data._hideClass="";this.$emit("appbannerloaded",!!this.data._imgUrl);this.$update()}},shown:function(e){var t="NTES_KAOLA_APP_BANNER";if(!t)return null;try{if(arguments.length>0)return sessionStorage.setItem(t,e);else return sessionStorage.getItem(t)}catch(i){}},addUrlsuffix:function(){var e=location.pathname+"_"+document.title,t=this.data;t._goUrl=this.addParam2Url(t._goUrl,"from",e);if(t._urlparams&&t._urlparams.appChannel)t._goUrl=this.addParam2Url(t._goUrl,"appChannel",t._urlparams.appChannel)},addParam2Url:function(e,n,s){var t=e,i=n+"="+encodeURIComponent(s);if(!t)return t;if(e.indexOf("?")<0)return t+"?"+i;else return t.replace("?","?"+i+"&");

},_$shouldForbidShowBanner:function(){var t=s._$cookie("showWapBanner");if(t&&"0"===t[0])return!0;else return!1}});return a},136,66,69,2,6,44,75);I$(122,function(n,s,o,i,e,a,r,l){var t;e._$$Animation=s._$klass();t=e._$$Animation._$extend(o._$$EventTarget);t.__reset=function(t){this.__super(t);this.__end=t.to||a;this.__begin=t.from||{};this.__delay=Math.max(0,parseInt(t.delay)||0)};t.__destroy=function(){this.__super();this._$stop();if(this.__dtime){window.clearTimeout(this.__dtime);delete this.__dtime}delete this.__end;delete this.__begin};t.__onAnimationFrame=function(t){if(this.__begin){if((""+t).indexOf(".")>=0)t=+new Date;if(!this.__doAnimationFrame(t))this.__timer=i.requestAnimationFrame(this.__onAnimationFrame._$bind(this));else this._$stop()}};t.__doAnimationFrame=r;t._$play=function(){var t=function(){this.__dtime=window.clearTimeout(this.__dtime);this.__begin.time=+new Date;this.__timer=i.requestAnimationFrame(this.__onAnimationFrame._$bind(this))};return function(){this.__dtime=window.setTimeout(t._$bind(this),this.__delay)}}();t._$stop=function(){this.__timer=i.cancelAnimationFrame(this.__timer);this._$dispatchEvent("onstop")};if(!0)n.copy(n.P("nej.ut"),e);return e},8,1,21,54);I$(121,function(i,s,n,o,e,a,r,l){var t;e._$$AnimBezier=s._$klass();t=e._$$AnimBezier._$extend(o._$$Animation);t.__reset=function(t){this.__super(t);this.__duration=t.duration||200;this.__epsilon=1/(200*this.__duration);this.__doParseTiming(t.timing);this.__doCalPolynomialCoefficients()};t.__destroy=function(){this.__super();delete this.__pointer;delete this.__coefficient};t.__doParseTiming=function(){var e=/^cubic\-bezier\((.*?)\)$/i,i=/\s*,\s*/i,t={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]},s=function(t,e,i){i[e]=parseFloat(t)};return function(o){o=(o||"").toLowerCase();this.__pointer=t[o];if(e.test(o)){this.__pointer=RegExp.$1.split(i);n._$forEach(this.__pointer,s)}if(!this.__pointer)this.__pointer=t.ease}}();t.__doCalPolynomialCoefficients=function(){var t=this.__pointer,e=3*t[0],n=3*(t[2]-t[0])-e,o=1-e-n,i=3*t[1],s=3*(t[3]-t[1])-i,a=1-i-s;this.__coefficient={ax:o,ay:a,bx:n,by:s,cx:e,cy:i}};t.__doCalCubicBezierAtTime=function(){var t=function(t,e){return((e.ax*t+e.bx)*t+e.cx)*t},e=function(t,e){return((e.ay*t+e.by)*t+e.cy)*t},i=function(e,t){return(3*t.ax*e+2*t.bx)*e+t.cx},n=function(a,c,r){var n,s,e,o,l,h;for(e=a,h=0;8>h;h++){o=t(e,r)-a;if(Math.abs(o)<c)return e;l=i(e,r);if(Math.abs(l)<1e-6)break;e-=o/l}n=0;s=1;e=a;if(n>e)return n;if(e>s)return s;for(;s>n;){o=t(e,r);if(Math.abs(o-a)<c)return e;if(a>o)n=e;else s=e;e=.5*(s-n)+n}return e};return function(t){return e(n(t/this.__duration,this.__epsilon,this.__coefficient),this.__coefficient)}}();t.__doAnimationFrame=function(o){var t=o-this.__begin.time,e=this.__doCalCubicBezierAtTime(t),i=n._$fixed(this.__begin.offset*(1-e)+this.__end.offset*e,2),s=!1;if(t>=this.__duration){i=this.__end.offset;s=!0}this._$dispatchEvent("onupdate",{offset:1*i});return s};t._$stop=function(){this._$dispatchEvent("onupdate",{offset:this.__end.offset});this.__super()};if(!0)i.copy(i.P("nej.ut"),e);return e},8,1,2,122);I$(120,function(o,i,n,s,e,a,r,l){var t;e._$$Timing=i._$klass();t=e._$$Timing._$extend(s._$$AnimBezier);t.__reset=function(t){t=n._$merge({},t);this.__super(t);this.__polyfillRAF()};t.__onAnimationFrame=function(t){if(this.__begin){if((""+t).indexOf(".")>=0)t=+new Date;if(!this.__doAnimationFrame(t))this.__timer=this.__requestAnimationFrame(this.__onAnimationFrame._$bind(this));else this._$stop()}};t._$play=function(){var t=function(){this.__dtime=window.clearTimeout(this.__dtime);this.__begin.time=+new Date;this.__timer=this.__requestAnimationFrame(this.__onAnimationFrame._$bind(this))};return function(){this.__dtime=window.setTimeout(t._$bind(this),this.__delay)}}();t._$stop=function(){this.__timer=this.__cancelAnimationFrame(this.__timer);this._$dispatchEvent("onstop")};t.__polyfillRAF=function(){var n=0,i=["ms","moz","webkit","o"],t={};t.__requestAnimationFrame=window.requestAnimationFrame;t.__cancelAnimationFrame=window.cancelAnimationFrame;for(var e=0;e<i.length&&!t.__requestAnimationFrame;++e){t.__requestAnimationFrame=window[i[e]+"RequestAnimationFrame"];t.__cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"]}if(!t.__requestAnimationFrame)t.__requestAnimationFrame=function(i){var t=(new Date).getTime(),e=Math.max(0,16-(t-n)),s=window.setTimeout(function(){i(t+e)},e);n=t+e;return s};if(!t.__cancelAnimationFrame)t.__cancelAnimationFrame=function(t){clearTimeout(t)};this.__requestAnimationFrame=function(e){t.__requestAnimationFrame.apply(window,arguments)};this.__cancelAnimationFrame=function(e){t.__cancelAnimationFrame.apply(window,arguments)}};return e},8,1,2,121);I$(113,function(i,a,n,s,o){var t,e={};e._$$Slider=i._$klass();t=e._$$Slider._$extend(s._$$EventTarget);t.__reset=function(t){this.box=n(t.box);this.config=t||{};this.width=this.config.width||this.box._$children()._$get(0).scrollWidth||document.body.clientWidth;this.size=this.config.size||this.box._$children().length;this.loop=void 0===this.config.loop||this.config.loop;this.auto=void 0===this.config.auto||this.config.auto;this.slideInterval=this.config.slideInterval||3e3;this.scrollTime=this.config.scrollTime||300;this.minleft=-this.width*(this.size-1);this.maxleft=0;this.nowLeft=0;this.pointX=null;this.pointY=null;this.moveLeft=!1;this.index=0;this.busy=!1;this.__touching=!1;this.__action="";this.point0={x:0,y:0};this.timer;this.init()};t.init=function(){this.bind_event();this.init_loop();this.auto_scroll()};t.bind_event=function(){var t=this;t.box[0].parentNode.addEventListener("touchstart",function(e){t.__touching=!0;t.__touStartTime=+new Date;if(1==e.touches.length&&!t.busy){t.pointX=e.touches[0].screenX;t.pointY=e.touches[0].screenY;t.point0={x:t.pointX,y:t.pointY};t.__action=""}});t.box[0].parentNode.addEventListener("touchmove",function(e){if(1==e.touches.length&&!t.busy)if(t.move(e.touches[0].screenX,e.touches[0].screenY))e.preventDefault()});t.box[0].parentNode.addEventListener("touchend",function(e){t.__touching=!1;!t.busy&&"LR"===t.__action&&t.move_end();t.__action=""});t.box[0].parentNode.addEventListener("touchcancel",function(e){t.__touching=!1;t.__action=""});var e="onorientationchange"in window,i=e?"orientationchange":"resize";window.addEventListener(i,function(e){setTimeout(function(){t.width=t.box._$children()._$get(0).scrollWidth;t.nowLeft=-(t.index||0)*t.width;t.box[0].setAttribute("style",t.get_style(2));t.minleft=-t.width*(t.size-1)},200)})};t.init_loop=function(){if(this.box._$children().length==this.size&&this.loop){this.nowLeft=-this.width;this.minleft=-this.width*this.size;this.maxleft=-this.width;this.box._$insert(this.box._$children()._$get(this.size-1,!0)._$clone(!0),"top")._$insert(this.box._$children()._$get(1,!0)._$clone(!0),"bottom");this.box[0].setAttribute("style",this.get_style(2))}else this.loop=!1};t.shouldAutoScroll=function(){function t(){var t;if(window.innerHeight)t=window.innerHeight;else if(window.document.body)t=window.document.body.clientHeight;return t||0}function e(e,i){var t=e.getBoundingClientRect();if(t.bottom>=0&&t.top<=i)return!0;else return!1}return function(){return e(this.box[0],t())}}();t.auto_scroll=function(){var t=this;if(t.loop&&t.auto){clearTimeout(t.timer);t.timer=setTimeout(function(){if(t.__touching)t.auto_scroll();else if(t.shouldAutoScroll())t.go_index(t.index+1,null,!0);else t.auto_scroll()},t.slideInterval)}};t.go_index=function(e,a,r){var t=this;if(!t.busy){clearTimeout(t.timer);t.busy=!0;if(t.loop){e=0>e?-1:e;e=e>t.size?t.size:e}else{e=0>e?0:e;e=e>=t.size?t.size-1:e}if(!t.loop&&t.nowLeft==-(t.width*e))t.complete(e);else if(t.loop&&t.nowLeft==-t.width*(e+1))t.complete(e);else{var n=t.nowLeft;if(-1==e||e==t.size){t.index=-1==e?t.size-1:0;t.nowLeft=-1==e?0:-t.width*(t.size+1)}else{t.index=e;t.nowLeft=-(t.width*(t.index+(t.loop?1:0)))}var i=0;if(a&&t.__touStartTime)try{var l=+new Date-t.__touStartTime;i=.9*Math.abs(n-t.nowLeft)*l/(t.width-Math.abs(n-t.nowLeft)+1);i=t.width-Math.abs(n-t.nowLeft)+1<30?300:i;i=150>i?150:i;i=i>1.5*t.scrollTime?1.5*t.scrollTime:i}catch(c){i=0}var h=r?"cubic-bezier(.67,.17,.52,.97)":"easeout",s=o._$$Timing._$allocate({timing:h,from:{offset:n},to:{offset:t.nowLeft},duration:i||t.scrollTime,onupdate:function(e){t.nowLeft=e.offset;t.box[0].setAttribute("style",t.get_style(2))},onstop:function(){s._$recycle();t.complete(e)}});s._$play()}}};t.complete=function(e){var t=this;t.busy=!1;t.config.callback&&t.config.callback(t.index);if(-1==e)t.nowLeft=t.minleft;else if(e==t.size)t.nowLeft=t.maxleft;t.box[0].setAttribute("style",t.get_style(2));t.auto_scroll()};t.next=function(){if(!this.busy)this.go_index(this.index+1)};t.prev=function(){if(!this.busy)this.go_index(this.index-1)};t.move=function(t,e){var n=t-(null===this.pointX?t:this.pointX),a=(e-(null===this.pointY?e:this.pointY),this.nowLeft),i=!1;if("UD"===this.__action)return!1;else i=!0;this.nowLeft=a+n;this.moveLeft=0>n;if(!this.__action){var s=Math.abs(t-this.point0.x),o=Math.abs(e-this.point0.y);if(s>5||o>5)if(s>o){this.__action="LR";i=!0}else{this.__action="UD";return!1}else return!1}this.pointX=t;this.pointY=e;this.box[0].setAttribute("style",this.get_style(2));return i};t.move_end=function(){var t,e=this.nowLeft%this.width;if(this.nowLeft<this.minleft)t=this.index+1;else if(this.nowLeft>this.maxleft)t=this.index-1;else if(0!==e)if(this.moveLeft)t=this.index+1;else t=this.index-1;else t=this.index;this.pointX=this.pointY=null;this.go_index(t,!0)};t.get_style=function(i){var t=this.nowLeft,e=1==i?this.scrollTime:0;return"-webkit-transition:-webkit-transform "+e+"ms;-webkit-transform:translate3d("+t+"px,0,0);-webkit-backface-visibility;hidden;transition:transform "+e+"ms ease-out;transform:translate3d("+t+"px,0,0);"};return e._$$Slider},1,2,85,21,120);I$(123,'<div class="m-gotop-wrap {{_status||\'\'}} {{iconup}} {{_inapp?\'inapp\':\'\'}}" on-click={{this.gotop()}}> <div class="ic-gotop"> 	<i class="up"></i> 	<p class="desc">顶部</p> </div> </div>');

I$(114,function(e,o,i,n,s){var t=Regular.extend({template:e,init:function(){this.data._status="";this.data._inapp=this.__isinApp();var t=n.debounce(this.windowScroll._$bind(this),150,!1);i(window)._$on("scroll",t);t();this.$emit("show",this.data._status?1:0)},windowScroll:function(){var t=document.body.getBoundingClientRect();if(t.bottom<0&&!this.data._status){this.data._status="show";this.$emit("show",1);this.$update()}else if(t.bottom>=0&&this.data._status){this.data._status="";this.$emit("show",0);this.$update()}},isShown:function(){return"show"===this.data._status},$iconUp:function(){this.data.iconup="iconup";this.$update()},$iconDown:function(){this.data.iconup="";this.$update()},gotop:function(){var t=s._$$Timing._$allocate({timing:"easeout",from:{offset:200},to:{offset:0},duration:200,onupdate:function(t){window.scrollTo(0,t.offset)},onstop:function(){t._$recycle()}});window.scrollTo(0,200);t._$play()},__isinApp:function(){return 1===window.__isKaolaApp}});t._$create=function(){var e;return function(i){if(!e)e=new t;e.$inject(i);return e}}();return t},123,66,85,75,120);I$(124,'{{#if _fold}} <div class="m-activitynav-btn"  on-touchstart={{this.prevDefault($event)}} on-touchend={{this.toggleFold()}} on-click={{this.prevDefault($event)}} style="{{this.getRgbaBG(0)}}"> 	<p class="tit" r-html={{this.getParseName(_itemlist[0][0].config.enteryName)}}></p> 	<div class="arr"/> </div> {{#else}} <div class="m-activitynav" on-touchmove={{this.prevDefault($event)}} on-touchstart={{this.prevDefault($event)}} on-click={{this.prevDefault($event)}}> 	<div class="mask {{_contentShow? \'show\':\'\'}}" on-touchend={{this.toggleFold()}} /> 	<div class="conts {{_contentShow? \'show\':\'\'}}" style="{{this.getRgbaBG(1)}}; {{!!_itemlist[0][0].config.title?\'\':\'padding-top:30px;\'}}"> 		<div class="close" on-touchend={{this.toggleFold()}}> 			<div class="sk"></div> 			<div class="rect"></div> 			<div class="arr"></div> 		</div> 		{{#if !!_itemlist[0][0].config.title}} 		<div class="titwrap"> 			<div class="tit">{{_itemlist[0][0].config.title}}</div> 		</div> 		{{/if}} 		<div class="itemswrap" ref="items" style="max-height: {{_maxHeight}}px"> 		<div class="items"> 			{{#list _itemlist as item}} 			<div class="linewrap"> 			<ul class="line line-{{item[0].config.showType}}"> 				{{#list item as ad}} 				<li class="item"> 					<a class="u-img-wrapper"  on-click={{this.prevDefault($event)}} on-tap={{this.gotolink(ad.siteUrl, $event, ad.listIdx)}}> 						<img src="{{ad.imageUrl|thumbnail:600/ad.config.showType}}"> 					</a> 				</li> 				{{/list}} 			</ul> 			</div> 			{{/list}} 		</div> 		</div> 		<div class="action"> 			<a class="go" on-click={{this.prevDefault($event)}}  on-touchend={{this.gotolink(_itemlist[0][0].config.actionUrl, $event, 9999)}}>{{_itemlist[0][0].config.actionName||\'\'}}</a> 		</div> 	</div> </div> {{/if}}');I$(125,function(){function e(e,i){this.wrapper="string"==typeof e?document.querySelector(e):e;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in i)this.options[n]=i[n];this.translateZ=this.options.HWCompositing&&t.hasPerspective?" translateZ(0)":"";this.options.useTransition=t.hasTransition&&this.options.useTransition;this.options.useTransform=t.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"==typeof this.options.bounceEasing?t.ease[this.options.bounceEasing]||t.ease.circular:this.options.bounceEasing;this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling;if(this.options.tap===!0)this.options.tap="tap";if("scale"==this.options.shrinkScrollbars)this.options.useTransition=!1;this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function i(n,s,i){var t=document.createElement("div"),e=document.createElement("div");if(i===!0){t.style.cssText="position:absolute;z-index:9999";e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}e.className="iScrollIndicator";if("h"==n){if(i===!0){t.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";e.style.height="100%"}t.className="iScrollHorizontalScrollbar"}else{if(i===!0){t.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";e.style.width="100%"}t.className="iScrollVerticalScrollbar"}t.style.cssText+=";overflow:hidden";if(!s)t.style.pointerEvents="none";t.appendChild(e);return t}function n(n,e){this.wrapper="string"==typeof e.el?document.querySelector(e.el):e.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=n;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in e)this.options[i]=e[i];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){t.addEvent(this.indicator,"touchstart",this);t.addEvent(window,"touchend",this)}if(!this.options.disablePointer){t.addEvent(this.indicator,t.prefixPointerEvent("pointerdown"),this);t.addEvent(window,t.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){t.addEvent(this.indicator,"mousedown",this);t.addEvent(window,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[t.style.transform]=this.scroller.translateZ;this.wrapperStyle[t.style.transitionDuration]=t.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t=function(){function e(t){if(n===!1)return!1;if(""===n)return t;else return n+t.charAt(0).toUpperCase()+t.substr(1)}var t={},i=document.createElement("div").style,n=function(){for(var n,e=["t","webkitT","MozT","msT","OT"],t=0,s=e.length;s>t;t++){n=e[t]+"ransform";if(n in i)return e[t].substr(0,e[t].length-1)}return!1}();t.getTime=Date.now||function(){return(new Date).getTime()};t.extend=function(i,t){for(var e in t)i[e]=t[e]};t.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)};t.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)};t.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t};t.momentum=function(s,l,h,r,o,n){var t,a,i=s-l,e=Math.abs(i)/h;n=void 0===n?6e-4:n;t=s+e*e/(2*n)*(0>i?-1:1);a=e/n;if(r>t){t=o?r-o/2.5*(e/8):r;i=Math.abs(t-s);a=i/e}else if(t>0){t=o?o/2.5*(e/8):0;i=Math.abs(s)+t;a=i/e}return{destination:Math.round(t),duration:a}};var s=e("transform");t.extend(t,{hasTransform:s!==!1,hasPerspective:e("perspective")in i,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:e("transition")in i});t.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion);t.extend(t.style={},{transform:s,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")});t.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)};t.addClass=function(e,i){if(!t.hasClass(e,i)){var n=e.className.split(" ");n.push(i);e.className=n.join(" ")}};t.removeClass=function(e,i){if(t.hasClass(e,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");e.className=e.className.replace(n," ")}};t.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;){e-=t.offsetLeft;i-=t.offsetTop}return{left:e,top:i}};t.preventDefaultException=function(i,t){for(var e in t)if(t[e].test(i[e]))return!0;return!1};t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){if((t/=1)<1/2.75)return 7.5625*t*t;else if(2/2.75>t)return 7.5625*(t-=1.5/2.75)*t+.75;else if(2.5/2.75>t)return 7.5625*(t-=2.25/2.75)*t+.9375;else return 7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;if(0===t)return 0;if(1==t)return 1;else return i*Math.pow(2,-10*t)*Math.sin(2*(t-e/4)*Math.PI/e)+1}}});t.tap=function(e,i){var t=document.createEvent("Event");t.initEvent(i,!0,!0);t.pageX=e.pageX;t.pageY=e.pageY;e.target.dispatchEvent(t)};t.click=function(t){var i,e=t.target;if(!/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)){i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null);

i._constructed=!0;e.dispatchEvent(i)}};return t}();e.prototype={version:"5.1.3",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators)this._initIndicators();if(this.options.mouseWheel)this._initWheel();if(this.options.snap)this._initSnap();if(this.options.keyBindings)this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(t){if(t.target==this.scroller&&this.isInTransition){this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=!1;this._execEvent("scrollEnd")}}},_start:function(e){if(1!=t.eventType[e.type])if(0!==e.button)return;if(this.enabled&&(!this.initiated||t.eventType[e.type]===this.initiated)){if(this.options.preventDefault&&!t.isBadAndroid&&!t.preventDefaultException(e.target,this.options.preventDefaultException))e.preventDefault();var i,n=e.touches?e.touches[0]:e;this.initiated=t.eventType[e.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=t.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1;i=this.getComputedPosition();this._translate(Math.round(i.x),Math.round(i.y));this._execEvent("scrollEnd")}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=!1;this._execEvent("scrollEnd")}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=n.pageX;this.pointY=n.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&t.eventType[n.type]===this.initiated){if(this.options.preventDefault)n.preventDefault();var s,o,a,r,l=n.touches?n.touches[0]:n,e=l.pageX-this.pointX,i=l.pageY-this.pointY,h=t.getTime();this.pointX=l.pageX;this.pointY=l.pageY;this.distX+=e;this.distY+=i;a=Math.abs(this.distX);r=Math.abs(this.distY);if(!(h-this.endTime>300&&10>a&&10>r)){if(!this.directionLocked&&!this.options.freeScroll)if(a>r+this.options.directionLockThreshold)this.directionLocked="h";else if(r>=a+this.options.directionLockThreshold)this.directionLocked="v";else this.directionLocked="n";if("h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)n.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=!1;return}i=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)n.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}e=0}e=this.hasHorizontalScroll?e:0;i=this.hasVerticalScroll?i:0;s=this.x+e;o=this.y+i;if(s>0||s<this.maxScrollX)s=this.options.bounce?this.x+e/3:s>0?0:this.maxScrollX;if(o>0||o<this.maxScrollY)o=this.options.bounce?this.y+i/3:o>0?0:this.maxScrollY;this.directionX=e>0?-1:0>e?1:0;this.directionY=i>0?-1:0>i?1:0;if(!this.moved)this._execEvent("scrollStart");this.moved=!0;this._translate(s,o);if(h-this.startTime>300){this.startTime=h;this.startX=this.x;this.startY=this.y}}}},_end:function(n){if(this.enabled&&t.eventType[n.type]===this.initiated){if(this.options.preventDefault&&!t.preventDefaultException(n.target,this.options.preventDefaultException))n.preventDefault();var r,a,o=(n.changedTouches?n.changedTouches[0]:n,t.getTime()-this.startTime),i=Math.round(this.x),e=Math.round(this.y),c=Math.abs(i-this.startX),d=Math.abs(e-this.startY),l=0,h="";this.isInTransition=0;this.initiated=0;this.endTime=t.getTime();if(!this.resetPosition(this.options.bounceTime)){this.scrollTo(i,e);if(this.moved)if(!(this._events.flick&&200>o&&100>c&&100>d)){if(this.options.momentum&&300>o){r=this.hasHorizontalScroll?t.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:i,duration:0};a=this.hasVerticalScroll?t.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:e,duration:0};i=r.destination;e=a.destination;l=Math.max(r.duration,a.duration);this.isInTransition=1}if(this.options.snap){var s=this._nearestSnap(i,e);this.currentPage=s;l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(i-s.x),1e3),Math.min(Math.abs(e-s.y),1e3)),300);i=s.x;e=s.y;this.directionX=0;this.directionY=0;h=this.options.bounceEasing}if(i==this.x&&e==this.y)this._execEvent("scrollEnd");else{if(i>0||i<this.maxScrollX||e>0||e<this.maxScrollY)h=t.ease.quadratic;this.scrollTo(i,e,l,h)}}else this._execEvent("flick");else{if(this.options.tap)t.tap(n,this.options.tap);if(this.options.click)t.click(n);this._execEvent("scrollCancel")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(i){var t=this.x,e=this.y;i=i||0;if(!this.hasHorizontalScroll||this.x>0)t=0;else if(this.x<this.maxScrollX)t=this.maxScrollX;if(!this.hasVerticalScroll||this.y>0)e=0;else if(this.y<this.maxScrollY)e=this.maxScrollY;if(t==this.x&&e==this.y)return!1;this.scrollTo(t,e,i,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=t.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(t,e){if(!this._events[t])this._events[t]=[];this._events[t].push(e)},off:function(t,i){if(this._events[t]){var e=this._events[t].indexOf(i);if(e>-1)this._events[t].splice(e,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t;e=this.y+e;i=i||0;this.scrollTo(t,e,i,n)},scrollTo:function(n,s,i,e){e=e||t.ease.circular;this.isInTransition=this.options.useTransition&&i>0;if(!i||this.options.useTransition&&e.style){this._transitionTimingFunction(e.style);this._transitionTime(i);this._translate(n,s)}else this._animate(n,s,i,e.fn)},scrollToElement:function(i,n,s,o,a){i=i.nodeType?i:this.scroller.querySelector(i);if(i){var e=t.offset(i);e.left-=this.wrapperOffset.left;e.top-=this.wrapperOffset.top;if(s===!0)s=Math.round(i.offsetWidth/2-this.wrapper.offsetWidth/2);if(o===!0)o=Math.round(i.offsetHeight/2-this.wrapper.offsetHeight/2);e.left-=s||0;e.top-=o||0;e.left=e.left>0?0:e.left<this.maxScrollX?this.maxScrollX:e.left;e.top=e.top>0?0:e.top<this.maxScrollY?this.maxScrollY:e.top;n=void 0===n||null===n||"auto"===n?Math.max(Math.abs(this.x-e.left),Math.abs(this.y-e.top)):n;this.scrollTo(e.left,e.top,n,a)}},_transitionTime:function(e){e=e||0;this.scrollerStyle[t.style.transitionDuration]=e+"ms";if(!e&&t.isBadAndroid)this.scrollerStyle[t.style.transitionDuration]="0.001s";if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e)},_transitionTimingFunction:function(e){this.scrollerStyle[t.style.transitionTimingFunction]=e;if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTimingFunction(e)},_translate:function(e,i){if(this.options.useTransform)this.scrollerStyle[t.style.transform]="translate("+e+"px,"+i+"px)"+this.translateZ;else{e=Math.round(e);i=Math.round(i);this.scrollerStyle.left=e+"px";this.scrollerStyle.top=i+"px"}this.x=e;this.y=i;if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(n){var e=n?t.removeEvent:t.addEvent,i=this.options.bindToWrapper?this.wrapper:window;e(window,"orientationchange",this);e(window,"resize",this);if(this.options.click)e(this.wrapper,"click",this,!0);if(!this.options.disableMouse){e(this.wrapper,"mousedown",this);e(i,"mousemove",this);e(i,"mousecancel",this);e(i,"mouseup",this)}if(t.hasPointer&&!this.options.disablePointer){e(this.wrapper,t.prefixPointerEvent("pointerdown"),this);e(i,t.prefixPointerEvent("pointermove"),this);e(i,t.prefixPointerEvent("pointercancel"),this);e(i,t.prefixPointerEvent("pointerup"),this)}if(t.hasTouch&&!this.options.disableTouch){e(this.wrapper,"touchstart",this);e(i,"touchmove",this);e(i,"touchcancel",this);e(i,"touchend",this)}e(this.scroller,"transitionend",this);e(this.scroller,"webkitTransitionEnd",this);e(this.scroller,"oTransitionEnd",this);e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var i,n,e=window.getComputedStyle(this.scroller,null);if(this.options.useTransform){e=e[t.style.transform].split(")")[0].split(", ");i=+(e[12]||e[4]);n=+(e[13]||e[5])}else{i=+e.left.replace(/[^-\d.]/g,"");n=+e.top.replace(/[^-\d.]/g,"")}return{x:i,y:n}},_initIndicators:function(){function t(e){for(var t=r.indicators.length;t--;)e.call(r.indicators[t])}var e,o=this.options.interactiveScrollbars,a="string"!=typeof this.options.scrollbars,s=[],r=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){e={el:i("v",o,this.options.scrollbars),interactive:o,defaultScrollbars:!0,customStyle:a,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1};this.wrapper.appendChild(e.el);s.push(e)}if(this.options.scrollX){e={el:i("h",o,this.options.scrollbars),interactive:o,defaultScrollbars:!0,customStyle:a,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1};this.wrapper.appendChild(e.el);s.push(e)}}if(this.options.indicators)s=s.concat(this.options.indicators);for(var l=s.length;l--;)this.indicators.push(new n(this,s[l]));

if(this.options.fadeScrollbars){this.on("scrollEnd",function(){t(function(){this.fade()})});this.on("scrollCancel",function(){t(function(){this.fade()})});this.on("scrollStart",function(){t(function(){this.fade(1)})});this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})}this.on("refresh",function(){t(function(){this.refresh()})});this.on("destroy",function(){t(function(){this.destroy()});delete this.indicators})},_initWheel:function(){t.addEvent(this.wrapper,"wheel",this);t.addEvent(this.wrapper,"mousewheel",this);t.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){t.removeEvent(this.wrapper,"wheel",this);t.removeEvent(this.wrapper,"mousewheel",this);t.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();t.stopPropagation();var i,e,n,s,o=this;if(void 0===this.wheelTimeout)o._execEvent("scrollStart");clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd");o.wheelTimeout=void 0},400);if("deltaX"in t)if(1===t.deltaMode){i=-t.deltaX*this.options.mouseWheelSpeed;e=-t.deltaY*this.options.mouseWheelSpeed}else{i=-t.deltaX;e=-t.deltaY}else if("wheelDeltaX"in t){i=t.wheelDeltaX/120*this.options.mouseWheelSpeed;e=t.wheelDeltaY/120*this.options.mouseWheelSpeed}else if("wheelDelta"in t)i=e=t.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in t)i=e=-t.detail/3*this.options.mouseWheelSpeed;else return;i*=this.options.invertWheelDirection;e*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){i=e;e=0}if(!this.options.snap){n=this.x+Math.round(this.hasHorizontalScroll?i:0);s=this.y+Math.round(this.hasVerticalScroll?e:0);if(n>0)n=0;else if(n<this.maxScrollX)n=this.maxScrollX;if(s>0)s=0;else if(s<this.maxScrollY)s=this.maxScrollY;this.scrollTo(n,s,0)}else{n=this.currentPage.pageX;s=this.currentPage.pageY;if(i>0)n--;else if(0>i)n++;if(e>0)s--;else if(0>e)s++;this.goToPage(n,s)}}},_initSnap:function(){this.currentPage={};if("string"==typeof this.options.snap)this.options.snap=this.scroller.querySelectorAll(this.options.snap);this.on("refresh",function(){var s,l,r,a,n,e,t=0,o=0,i=0,h=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0){r=Math.round(h/2);a=Math.round(c/2);for(;i>-this.scrollerWidth;){this.pages[t]=[];s=0;n=0;for(;n>-this.scrollerHeight;){this.pages[t][s]={x:Math.max(i,this.maxScrollX),y:Math.max(n,this.maxScrollY),width:h,height:c,cx:i-r,cy:n-a};n-=c;s++}i-=h;t++}}else{e=this.options.snap;s=e.length;l=-1;for(;s>t;t++){if(0===t||e[t].offsetLeft<=e[t-1].offsetLeft){o=0;l++}if(!this.pages[o])this.pages[o]=[];i=Math.max(-e[t].offsetLeft,this.maxScrollX);n=Math.max(-e[t].offsetTop,this.maxScrollY);r=i-Math.round(e[t].offsetWidth/2);a=n-Math.round(e[t].offsetHeight/2);this.pages[o][l]={x:i,y:n,width:e[t].offsetWidth,height:e[t].offsetHeight,cx:r,cy:a};if(i>this.maxScrollX)o++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}}});this.on("flick",function(){var t=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(i,n){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var t=0,s=this.pages.length,e=0;if(Math.abs(i-this.absStartX)<this.snapThresholdX&&Math.abs(n-this.absStartY)<this.snapThresholdY)return this.currentPage;if(i>0)i=0;else if(i<this.maxScrollX)i=this.maxScrollX;if(n>0)n=0;else if(n<this.maxScrollY)n=this.maxScrollY;for(;s>t;t++)if(i>=this.pages[t][0].cx){i=this.pages[t][0].x;break}s=this.pages[t].length;for(;s>e;e++)if(n>=this.pages[0][e].cy){n=this.pages[0][e].y;break}if(t==this.currentPage.pageX){t+=this.directionX;if(0>t)t=0;else if(t>=this.pages.length)t=this.pages.length-1;i=this.pages[t][0].x}if(e==this.currentPage.pageY){e+=this.directionY;if(0>e)e=0;else if(e>=this.pages[0].length)e=this.pages[0].length-1;n=this.pages[0][e].y}return{x:i,y:n,pageX:t,pageY:e}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing;if(t>=this.pages.length)t=this.pages.length-1;else if(0>t)t=0;if(e>=this.pages[t].length)e=this.pages[t].length-1;else if(0>e)e=0;var s=this.pages[t][e].x,o=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(s-this.x),1e3),Math.min(Math.abs(o-this.y),1e3)),300):i;this.currentPage={x:s,y:o,pageX:t,pageY:e};this.scrollTo(s,o,i,n)},next:function(i,n){var t=this.currentPage.pageX,e=this.currentPage.pageY;t++;if(t>=this.pages.length&&this.hasVerticalScroll){t=0;e++}this.goToPage(t,e,i,n)},prev:function(i,n){var t=this.currentPage.pageX,e=this.currentPage.pageY;t--;if(0>t&&this.hasVerticalScroll){t=0;e--}this.goToPage(t,e,i,n)},_initKeys:function(n){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings){for(e in this.options.keyBindings)if("string"==typeof this.options.keyBindings[e])this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0)}else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];t.addEvent(window,"keydown",this);this.on("destroy",function(){t.removeEvent(window,"keydown",this)})},_key:function(a){if(this.enabled){var s,e=this.options.snap,i=e?this.currentPage.pageX:this.x,n=e?this.currentPage.pageY:this.y,o=t.getTime(),r=this.keyTime||0,l=.25;if(this.options.useTransition&&this.isInTransition){s=this.getComputedPosition();this._translate(Math.round(s.x),Math.round(s.y));this.isInTransition=!1}this.keyAcceleration=200>o-r?Math.min(this.keyAcceleration+l,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll)i+=e?1:this.wrapperWidth;else n+=e?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll)i-=e?1:this.wrapperWidth;else n-=e?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=e?this.pages.length-1:this.maxScrollX;n=e?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0;n=0;break;case this.options.keyBindings.left:i+=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=e?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=e?1:5+this.keyAcceleration>>0;break;default:return}if(!e){if(i>0){i=0;this.keyAcceleration=0}else if(i<this.maxScrollX){i=this.maxScrollX;this.keyAcceleration=0}if(n>0){n=0;this.keyAcceleration=0}else if(n<this.maxScrollY){n=this.maxScrollY;this.keyAcceleration=0}this.scrollTo(i,n,0);this.keyTime=o}else this.goToPage(i,n)}},_animate:function(i,n,o,c){function a(){var _,f,p,u=t.getTime();if(!(u>=d)){u=(u-h)/o;p=c(u);_=(i-r)*p+r;f=(n-l)*p+l;e._translate(_,f);if(e.isAnimating)s(a)}else{e.isAnimating=!1;e._translate(i,n);if(!e.resetPosition(e.options.bounceTime))e._execEvent("scrollEnd")}}var e=this,r=this.x,l=this.y,h=t.getTime(),d=h+o;this.isAnimating=!0;a()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":if(!t._constructed){t.preventDefault();t.stopPropagation()}}}};n.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){if(this.options.interactive){t.removeEvent(this.indicator,"touchstart",this);t.removeEvent(this.indicator,t.prefixPointerEvent("pointerdown"),this);t.removeEvent(this.indicator,"mousedown",this);t.removeEvent(window,"touchmove",this);t.removeEvent(window,t.prefixPointerEvent("pointermove"),this);t.removeEvent(window,"mousemove",this);t.removeEvent(window,"touchend",this);t.removeEvent(window,t.prefixPointerEvent("pointerup"),this);t.removeEvent(window,"mouseup",this)}if(this.options.defaultScrollbars)this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=t.getTime();if(!this.options.disableTouch)t.addEvent(window,"touchmove",this);if(!this.options.disablePointer)t.addEvent(window,t.prefixPointerEvent("pointermove"),this);if(!this.options.disableMouse)t.addEvent(window,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(e){{var n,s,o,a,i=e.touches?e.touches[0]:e;t.getTime()}if(!this.moved)this.scroller._execEvent("scrollStart");this.moved=!0;n=i.pageX-this.lastPointX;this.lastPointX=i.pageX;s=i.pageY-this.lastPointY;

this.lastPointY=i.pageY;o=this.x+n;a=this.y+s;this._pos(o,a);e.preventDefault();e.stopPropagation()},_end:function(i){if(this.initiated){this.initiated=!1;i.preventDefault();i.stopPropagation();t.removeEvent(window,"touchmove",this);t.removeEvent(window,t.prefixPointerEvent("pointermove"),this);t.removeEvent(window,"mousemove",this);if(this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-e.x),1e3),Math.min(Math.abs(this.scroller.y-e.y),1e3)),300);if(this.scroller.x!=e.x||this.scroller.y!=e.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=e;this.scroller.scrollTo(e.x,e.y,n,this.scroller.options.bounceEasing)}}if(this.moved)this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;this.indicatorStyle[t.style.transitionDuration]=e+"ms";if(!e&&t.isBadAndroid)this.indicatorStyle[t.style.transitionDuration]="0.001s"},transitionTimingFunction:function(e){this.indicatorStyle[t.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY)this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none";else if(this.options.listenY&&!this.options.listenX)this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none";else this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){t.addClass(this.wrapper,"iScrollBothScrollbars");t.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle)if(this.options.listenX)this.wrapper.style.right="8px";else this.wrapper.style.bottom="8px"}else{t.removeClass(this.wrapper,"iScrollBothScrollbars");t.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle)if(this.options.listenX)this.wrapper.style.right="2px";else this.wrapper.style.bottom="2px"}this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else this.indicatorWidth=this.indicator.clientWidth;this.maxPosX=this.wrapperWidth-this.indicatorWidth;if("clip"==this.options.shrink){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else this.indicatorHeight=this.indicator.clientHeight;this.maxPosY=this.wrapperHeight-this.indicatorHeight;if("clip"==this.options.shrink){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY}this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,i=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(e<this.minBoundaryX){if("scale"==this.options.shrink){this.width=Math.max(this.indicatorWidth+e,8);this.indicatorStyle.width=this.width+"px"}e=this.minBoundaryX}else if(e>this.maxBoundaryX)if("scale"==this.options.shrink){this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";e=this.maxPosX+this.indicatorWidth-this.width}else e=this.maxBoundaryX;else if("scale"==this.options.shrink&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}if(i<this.minBoundaryY){if("scale"==this.options.shrink){this.height=Math.max(this.indicatorHeight+3*i,8);this.indicatorStyle.height=this.height+"px"}i=this.minBoundaryY}else if(i>this.maxBoundaryY)if("scale"==this.options.shrink){this.height=Math.max(this.indicatorHeight-3*(i-this.maxPosY),8);this.indicatorStyle.height=this.height+"px";i=this.maxPosY+this.indicatorHeight-this.height}else i=this.maxBoundaryY;else if("scale"==this.options.shrink&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}this.x=e;this.y=i;if(this.scroller.options.useTransform)this.indicatorStyle[t.style.transform]="translate("+e+"px,"+i+"px)"+this.scroller.translateZ;else{this.indicatorStyle.left=e+"px";this.indicatorStyle.top=i+"px"}},_pos:function(t,e){if(0>t)t=0;else if(t>this.maxPosX)t=this.maxPosX;if(0>e)e=0;else if(e>this.maxPosY)e=this.maxPosY;t=this.options.listenX?Math.round(t/this.sizeRatioX):this.scroller.x;e=this.options.listenY?Math.round(e/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(t,e)},fade:function(e,i){if(!i||this.visible){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var n=e?250:500,s=e?0:300;e=e?"1":"0";this.wrapperStyle[t.style.transitionDuration]=n+"ms";this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t;this.visible=+t}.bind(this,e),s)}}};e.utils=t;return e});I$(115,function(t,e,i,s){var n=e.extend({template:t,config:function(t){this.data._fold=!0;this.prepareData();this.listenViewportChange();this.setMaxItemsHeight()},init:function(){},prepareData:function(){function o(i){for(var n=i[0].config.showType,t=[],e=0;e<i.length;e++)if(e%n===0){if(t.length)s.push(t);t=[i[e]]}else t.push(i[e]);if(t.length){s.push(t);t=null}}var t=this.data.rawList,a=-1,s=[],e=[];if(t&&t.length){for(var n=0;n<t.length;n++)t[n].listIdx=n;for(var i=0;i<t.length;i++)if(t[i].config.showType!==a){a=t[i].config.showType;if(e.length)o(e);e=[t[i]]}else e.push(t[i]);if(e.length){o(e);e=null}this.data._itemlist=s}},toggleFold:function(e,t){if(!this.data._fold){if(!this.data._contentShow)return;this.__iscroll&&this.__iscroll.destroy();this.__iscroll=null;this.data._contentShow=!1;if(!t)setTimeout(function(){this.data._fold=!this.data._fold;this.$update()}._$bind(this),450);else this.data._fold=!this.data._fold;this.$update()}else{this.data._fold=!this.data._fold;this.$update();setTimeout(function(){this.data._contentShow=!0;this.$update()}._$bind(this),50);setTimeout(function(){if(this.$refs.items&&!this.__iscroll)this.__iscroll=new i(this.$refs.items,{tap:!0})}._$bind(this),550)}},prevDefault:function(t){t.preventDefault()},listenViewportChange:function(){var t=this,e="onorientationchange"in window,i=e?"orientationchange":"resize";window.addEventListener(i,function(e){setTimeout(function(){t.setMaxItemsHeight(e)},100)})},setMaxItemsHeight:function(i){var t=160,e=document.body.clientHeight-t;this.$update("_maxHeight",e);this.__iscroll&&this.__iscroll.refresh()},getRgbaBG:function(e){var t=this.data._itemlist;if(!t||!t.length)return"";if(0===e&&t[0][0].config.enteryBgColor)return"background-color: rgba("+this.hexToRgb(t[0][0].config.enteryBgColor)+", 0.86);";else if(1===e&&t[0][0].config.titleBgColor)return"background-color: rgba("+this.hexToRgb(t[0][0].config.titleBgColor)+", 0.86);";else return""},hexToRgb:function(e){var t=parseInt(e.slice(1),16),i=t>>16&255,n=t>>8&255,s=255&t;return i+","+n+","+s},getParseName:function(t){return(t+"").replace("-","<br>")},gotolink:function(e,s,n){if(this.data._lastclick)if(+new Date-this.data._lastclick<1e3)return;this.data._lastclick=+new Date;if(e){this.toggleFold(null,!0);var t=e,i="zname=navigation&zposition="+n+"&zlocation=navigation";if(e.indexOf("?")>0)t=t.replace("?","?"+i+"&");else if(e.indexOf("#")>0)t=t.replace("#","?"+i+"#");else t=t+"?"+i;location.href=t}}});return n},124,24,125,75);I$(131,function(){function r(t){var e;if(!t.changedTouches)e=t;else e=t.changedTouches[0];return e}function l(e){for(var t=e.currentTarget;!t.id;)t=t.parentNode;return t}var s,o,a,i={},t={},e=function(e){var t=e.id;if(!t){t=Math.round(1e7*Math.random());e.id=t}return t},n=(function(){var t=document.getElementById("result");return function(e){if(t)t.innerHTML+=e+"<br/>"}}(),function(n,h){var i=e(n);if(!t[i]["touchstart"]){var c=function(t){var e=r(t);s=e.pageX,o=e.pageY;a=+new Date;t.preventDefault()};t[i]["touchstart"]=h;n.addEventListener("touchstart",c,!1);n.addEventListener("mousedown",c,!1)}if(!t[i]["touchend"]){var d=function(n){var e=r(n),l=e.pageX-s,h=e.pageY-o,d=+new Date;n.preventDefault();if(300>(d-a)/1e3)if(Math.abs(l)<10&&Math.abs(h)<10)try{var c=document.createEvent("Event");c.initEvent("click",!1,!0);n.target.dispatchEvent(c)}catch(n){console.log(n.message)}else{if(l>0)t[i]["swiperight"]&&t[i]["swiperight"]({target:n.target,pagX:e.pageX,pagY:e.pageY,distX:l,distY:h,type:"swiperight"});else t[i]["swipeleft"]&&t[i]["swipeleft"]({target:n.target,pagX:e.pageX,pagY:e.pageY,distX:l,distY:h,type:"swipeleft"});if(0>h)t[i]["swipeup"]&&t[i]["swipeup"]({target:n.target,pagX:e.pageX,pagY:e.pageY,distX:l,distY:h,type:"swipeup"});else t[i]["swipedown"]&&t[i]["swipedown"]({target:n.target,pagX:e.pageX,pagY:e.pageY,distX:l,distY:h,type:"swipedown"})}else t[i]["move"]&&t[i]["move"]({target:n.target,pagX:e.pageX,pagY:e.pageY,distX:l,distY:h,type:"moved"});s=null;o=null;a=null};t[i]["touchend"]=h;n.addEventListener("touchend",d,!1);n.addEventListener("mouseup",d,!1)}var u=function(n){if(a){var i=r(n),c=l(n),h=e(c);t[h]["touchmove"]&&t[h]["touchmove"]({target:n.target,pagX:i.pageX,pagY:i.pageY,distX:i.pageX-s,distY:i.pageY-o,type:"move"})}};if(!t[i]["touchmove"]){t[i]["touchmove"]=h;n.addEventListener("touchmove",u,!1);n.addEventListener("mousemove",u,!1)}});i.swipeLeft=function(s,o){
var i=e(s);t[i]=t[i]||{};t[i]["swipeleft"]=o;n(s,o)};i.swipe=function(o,s){var i=e(o);t[i]=t[i]||{};t[i]["swipeleft"]=s;t[i]["swiperight"]=s;t[i]["swipedown"]=s;t[i]["swipeup"]=s;n(o,s)};i.swipeRight=function(s,o){var i=e(s);t[i]=t[i]||{};t[i]["swiperight"]=o;n(s,o)};i.swipeUp=function(s,o){var i=e(s);t[i]=t[i]||{};t[i]["swipeup"]=o;n(s,o)};i.swipeDown=function(s,o){var i=e(s);t[i]=t[i]||{};t[i]["swipedown"]=o;n(s,o)};return i});I$(132,function(e,n,s,o,t,a,r,l){var i;t._$$AnimEaseInOut=n._$klass();i=t._$$AnimEaseInOut._$extend(o._$$AnimBezier);i.__reset=function(t){t=s._$merge({},t);t.timing="easeinout";this.__super(t)};if(!0)e.copy(e.P("nej.ut"),t);return t},8,1,2,121);I$(128,function(r,a,u,n,s,o,i,e,h,c,d,t){var l=function(t,e){for(;t.tagName!=e;)t=t.parentNode;return t};e._$$Swipe=r._$klass();t=e._$$Swipe._$extend(s._$$EventTarget);t.__reset=function(t){this.__super(t);this.__box=t.box;this.__width=t.width||document.body.clientWidth;this.__children=n._$getChildren(this.__box);this.__tagName=this.__children[0].tagName;o.swipe(this.__box.parentNode,this.__onSwipe._$bind(this))};t.__onSwipe=function(t){var e=a._$indexOf(this.__children,l(t.target,this.__tagName)),s=e;if("move"===t.type){console.log(t.distX);{parseInt(this.__box.style.left)||0}this.__box.style.left=-e*this.__width+t.distX+"px"}else{var n;if("swipeleft"==t.type){console.log("from:"+t.distX+",to:"+(this.__width-Math.abs(t.distX)));if(e==this.__children.length-1)n=0;else{n=-this.__width;s++}}else if("swiperight"==t.type){console.log("from:"+t.distX+",to:"+(this.__width-Math.abs(t.distX)));if(0==e)n=0;else{n=this.__width;s--}}var o=i._$$AnimEaseInOut._$allocate({from:{offset:t.distX},to:{offset:n},duration:200,onupdate:function(t){console.log(t.offset);this.__box.style.left=-(e*this.__width)+t.offset+"px"}._$bind(this),onstop:function(){o._$recycle();this._$dispatchEvent("onchange",s)}._$bind(this)});o._$play()}};t.__destroy=function(){this.__super()};return e._$$Swipe},1,2,3,4,21,131,132);I$(129,function(s,a,o,n,e,r,i,l,h,c){var t;i._$$Tab=a._$klass();t=i._$$Tab._$extend(r._$$EventTarget);t.__reset=function(t){this.__super(t);this.__name=t.event||"click";this.__selected=t.selected||"js-selected";this.__disabled=t.disabled||"js-disabled";this.__inversed=!!t.inverse;this.__doTabListCheck(t.list);this._$go(t.index||0)};t.__destroy=function(){var t=function(t){this.__doTabItemSelect(t,!1)};return function(){this.__super();n._$forEach(this.__list,t,this);delete this.__list;delete this.__name;delete this.__index;delete this.__disabled;delete this.__selected;delete this.__inversed}}();t.__doTabListCheck=function(){var t=function(e){if(e){this.__list.push(e);var i=this.__list.length-1,t=this.__cblist[i];if(!t){t=this._$go._$bind(this,i);this.__cblist[i]=t}this.__doInitDomEvent([[e,this.__name,t]])}};return function(e){this.__list=[];if(!this.__cblist)this.__cblist=[];n._$forEach(e,t,this)}}();t.__doTabItemSelect=function(t,i){i&&!this.__inversed?e._$addClassName(t,this.__selected):e._$delClassName(t,this.__selected)};t._$go=function(i,s){var t=this.__list[i];if(1!=s&&(i==this.__index||!t||e._$hasClassName(t,this.__disabled)))o._$stopDefault(arguments[1]);var n={stopped:!0,index:i,last:this.__index,list:this._$getList(),data:e._$dataset(t,"value")};this.__index=i;t=this.__list[n.last];if(t)this.__doTabItemSelect(t,!1);t=this.__list[this.__index];this.__doTabItemSelect(t,!0);this._$dispatchEvent("onchange",n);if(n.stopped)o._$stopDefault(arguments[1])};t._$getIndex=function(){return this.__index};t._$getList=function(){return this.__list};if(!0)s.copy(s.P("nej.ut"),i);return i},8,1,3,2,4,21);I$(130,function(s,e,o,n,i,a,r,l,t){i._$$Sticky=s._$klass();t=i._$$Sticky._$extend(o._$$EventTarget);t.__reset=function(t){this.__super(t);if(t.node){this.__node=t.node;this.__anchor=this.__node.parentNode.parentNode;this.__anchorHost=this.__anchor.parentNode;this.__stickyNode=e(this.__node.parentNode);this.__cssStickySupport=this.__checkStickySupport();this.__nodeHeight=this.__node.clientHeight;this.__fixedClass=t.fixedClass;this.__top=parseInt(t.top,10)||0;this.__zIndex=parseInt(t.zIndex)||1;this.__setStickyCss();this.__isfixed=!1;this.__onscrollCb=n.throttle(function(){n.nextFrame(this._$sticky._$bind(this))}._$bind(this),50,{leading:!1});this.__initCss=this.__getInitCss();this.__fixedCss=this.__getFixedCss();this.__addEvent()}};t.__getInitCss=function(){if(0!==this.__stickyNode.length){var t=this.__stickyNode[0];return"position:"+t.style.position+";top:"+t.style.top+"px;z-index:"+t.style.zIndex+";"}return""};t.__getFixedCss=function(){return"position:fixed;top:"+this.__top+"px;z-index:"+this.__zIndex+";"};t.__setFixedCss=function(t){if(!this.__cssStickySupport)if(0!==this.__stickyNode.length)this.__stickyNode[0].style.cssText=t};t.__checkStickySupport=function(){if(window.CSS&&window.CSS.supports)return window.CSS.supports("(position: sticky) or (position: -webkit-sticky)");var t=document.createElement("div");t.style.position="sticky";if("sticky"===t.style.position)return!0;t.style.position="-webkit-sticky";if("-webkit-sticky"===t.style.position)return!0;t=null;return!1};t.__setStickyCss=function(){if(this.__cssStickySupport)this.__anchor.style.cssText="position:-webkit-sticky;position:sticky;top:"+this.__top+"px;z-index:"+this.__zIndex+";"};t.__addEvent=function(){e(window)._$on("scroll",this.__onscrollCb)._$trigger("scroll")};t._$sticky=function(i){var t=this.__anchor.getBoundingClientRect(),e=this.__anchorHost.getBoundingClientRect();if(t.top<=this.__top&&!this.__isfixed&&e.bottom>this.__nodeHeight){this.__setFixedCss(this.__fixedCss);this.__fixedClass&&this.__stickyNode._$addClassName(this.__fixedClass);this.__isfixed=!0;this._$dispatchEvent("onsticky",!0)}else if((t.top>this.__top||e.bottom<=this.__nodeHeight)&&this.__isfixed){this.__setFixedCss(this.__initCss.replace(/position:[^;]*/,"position:static"));setTimeout(function(){this.__setFixedCss(this.__initCss)}._$bind(this),30);this.__fixedClass&&this.__stickyNode._$delClassName(this.__fixedClass);this.__isfixed=!1;this._$dispatchEvent("onsticky",!1)}};t.__destory=function(){e(window)._$off("scroll",this.__onscrollCb);this.__node=null;this.__anchor=null;this.__fixedClass=null;this.__top=null;this.__onscrollCb=null};return i},1,85,21,75);I$(126,function(n,l,c,t,s,h,r,a,o,i,d,u,p,e){i._$$StickyTab=n._$klass();e=i._$$StickyTab._$extend(s._$$EventTarget);e.__reset=function(e){this.__tabNode=e.tab;var n=t._$dataset(this.__tabNode,"selectedbg"),i=t._$dataset(this.__tabNode,"unselectedbg");if(""!=n||""!=i){if(-1==n.indexOf("#")&&n)n="#"+n;if(-1==i.indexOf("#")&&i)i="#"+i;else if(!i)i="transparent";var s=[".#<uispace> .tab{background-color:"+i+"}"];s.push(".#<uispace> .curr{background-color:"+n+"}");this.__seed_css=t._$pushCSSText(s.join(""));t._$dumpCSSText();t._$addClassName(this.__tabNode,this.__seed_css)}this.__tab=a._$$Tab._$allocate({list:t._$getChildren(this.__tabNode),index:0,event:e.event||"click",selected:e.selected,onchange:e.onchange||function(t){}});this.__sticky=o._$$Sticky._$allocate({node:this.__tabNode,fixedClass:e.fixedClass||"",zIndex:parseInt(e.zIndex,10)||1,top:e.top,onsticky:e.onsticky})};e.__destory=function(){this.__tab._$recycle();this.__sticky._$recycle();this.__tab=null;this.__sticky=null};return i},1,2,3,4,21,128,85,129,130);I$(133,'<div class="m-dropdown {{_show}}" on-touchmove={{this.forbidTouchmove($event)}} on-click={{this.maskClicked($event)}}>     <span class="select-btn" on-click={{this.hide(1, $event)}}><span class="ic"></span></span>     <div class="tit">切换楼层</div>     <ul class="floors">         {{#list tabs as tab}}             <li style="color:{{tab.isSelected?tab.selectedColor:tab.unSelectedColor}};" on-click={{this.tabClick(tab_index,tab, $event)}}>{{tab.name}}</li>         {{/list}}     </ul> </div> ');I$(127,function(t,e,n){var i=e.extend({template:t,config:function(t){t._show=""},init:function(){},tabClick:function(e,i,t){if(t&&t.stopPropagation)t.stopPropagation();else if(t)window.event.cancelBubble=!0;this.tabSelect(e);this.$emit("tabselect",e,i);this.hide()},tabSelect:function(e){for(var t=0;t<this.data.tabs.length;t++)if(t==e)this.data.tabs[t].isSelected=!0;else this.data.tabs[t].isSelected=!1},hide:function(e,t){if(!(+new Date-this.data._showTime<500)){if(t&&t.stopPropagation)t.stopPropagation();else if(t)window.event.cancelBubble=!0;if(e){this.$update({_show:"show"});setTimeout(function(){this.$update({_show:""})}._$bind(this),300)}else this.$update({_show:""})}},show:function(){this.data._showTime=+new Date;this.$update({_show:"show"});setTimeout(function(){this.$update({_show:"show mask"})}._$bind(this),34)},toggleShow:function(t){if("number"==typeof t)this.tabSelect(t);if(this.data._show)this.hide();else this.show()},forbidTouchmove:function(t){t.preventDefault()},maskClicked:function(t){var e=new RegExp("(\\s|^)m\\-dropdown(\\s|$)");if(e.test(t.target.className))this.hide(1,t)}});return i},133,24,3);I$(116,function(s,a,o,c,i,e,d,r,l,h){var n=s._$klass(),t=n._$extend(a._$$EventTarget);t.__reset=function(i){this.__super(i);this.__tabbar=i.tabbar;this.__fixbar=e(this.__tabbar.parentNode);this.__anchor=this.__fixbar._$parent(".m-nav-wrap",!0);this.__dropdownBtn=this.__fixbar._$children(".select-btn",!0);var t=e(this.__tabbar)._$children("span",!0).length,n=this.__tabbar.parentNode.getAttribute("data-type");if(t>0){d._$$StickyTab._$allocate({tab:this.__tabbar,index:0,zIndex:1e3,top:0,fixedClass:"nav-fixed",event:t>5?"tap":"click",onchange:this.__tabchange._$bind(this),onsticky:function(t){this.__isTabFixed=t}._$bind(this)})}"lift"===n&&this.__bindLiftScroll(this.__tabbar);if(t>5)this.__iscroll=new h(this.__tabbar.parentNode,{tap:!0,scrollX:!0,scrollY:!1});this.__addEvent()};t.__addEvent=function(){var t=this.__tabbar.querySelectorAll(".tab"),i=new RegExp("(\\s|^)curr(\\s|$)");if(this.__dropdownBtn.length)this.__dropdownBtn._$on("tap",function(){if(!this.__dropdown){for(var o=[],n=0;n<t.length;n++)o.push({selectedColor:t[n].getAttribute("data-actClr")||"#D22147",unSelectedColor:t[n].getAttribute("data-norClr")||"#333",
name:t[n].innerText,isSelected:i.test(t[n].className)});this.__dropdown=new l({data:{tabs:o}});this.__dropdown.$inject(document.body)}if(!this.__isTabFixed)this.__anchor._$scrollTo();for(var a=0,s=0;s<t.length;s++)if(i.test(t[s].className)){a=s;break}this.__dropdown.toggleShow(a);this.__dropdown.$on("tabselect",function(i,n){if(t[i])e(t[i])._$trigger("tap");this.__dropdown.$off("tabselect")}._$bind(this))}._$bind(this))};t.__tabchange=function(t){var e=t.list[0].parentNode;if(!this.__isTabFixed&&"number"==typeof t.last)this.__anchor._$scrollTo();this.__switchTabStyle(t.list,t.list[t.index]);var i=e.parentNode.getAttribute("data-type")||"lift";"lift"===i&&this.__liftTabChange(t,e);"switch"===i&&this.__switchTabChange(t,e)};t.__switchTabStyle=function(){var t=function(e,i){var o=(i.style.color,i.getAttribute("data-actClr")),s="curr",n=new RegExp("(\\s|^)"+s+"(\\s|$)");if(!n.test(i.className)){for(var t=e.length-1;t>=0;t--){var a=e[t].getAttribute("data-norclr");if(i!=e[t]){e[t].style.color=a;if(n.test(e[t].className))e[t].className=e[t].className.replace(n," ")}}i.style.color=o;i.className+=" "+s;this.__scrolltoTabPosition(i)}};return i.throttle(t,100,{leading:!1})}();t.__scrolltoTabPosition=function(){var t=function(t){if(this.__iscroll)this.__iscroll.scrollToElement(t,120,!0,!0)};return i.debounce(t,150,!1)}();t.__getRelBlocks=function(t){var e=t.getAttribute("data-blocks");return document.querySelectorAll('.m-block[data-navid="'+e+'"]')};t.__bindLiftScroll=function(n){n=e(n);var s=n._$children("span",!0),t=[],a=this,r=n[0].getBoundingClientRect().height;s._$forEach(function(i){var e=a.__getRelBlocks(i),n=i.getAttribute("data-blocks");if(e&&e.length>0&&n)t.push({tab:i,blk:e[0],blkTop:e[0].getBoundingClientRect().top})});t.sort(function(t,e){return t.blkTop-e.blkTop});var l=i.throttle(function(){if(!a.__isLiftScrolling){for(var e,i=0;i<t.length&&t[i].blk.getBoundingClientRect().top<=r+1;i++)e=t[i].tab;!!e&&a.__switchTabStyle(s,e);!e&&a.__switchTabStyle(s,s[0])}},100,{leading:!1});window.addEventListener("scroll",l);o._$dispatchEvent(window,"scroll")};t.__liftTabChange=function(t,i){var e=this.__getRelBlocks(t.list[t.index]),n=this;if(e&&0!==e.length)if("number"==typeof t.last){this.__isLiftScrolling=!0;this.__scrollToTab(e[0],i,!0,function(){setTimeout(function(){n.__isLiftScrolling=!1},200)})}};t.__switchTabChange=function(t,n){{var i=this.__getRelBlocks(t.list[t.index]);t.list[t.index].getAttribute("data-blocks")}if(t.last!==t.index){e(document.querySelectorAll(".m-block.show[data-navid]"))._$delClassName("show");Array.prototype.forEach.call(i,function(t){e(t)._$addClassName("show")});if(c._$isNumber(t.last))this.__scrollToTab(i[0],n,!1)}else this.__scrollToTab(i[0],n,!1)};t.__scrollToTab=function(o,n,a,i){var l=(parseInt(n.style.top,10)||0)+n.getBoundingClientRect().height,h=o.getBoundingClientRect().top,t=h-l+document.body.scrollTop;if(a){var e=document.body.scrollTop;if(t>e+200)e=t-200;else if(e-200>t)e=t+200;var s=r._$$Timing._$allocate({timing:"easeout",from:{offset:e},to:{offset:t},duration:200,onupdate:function(t){window.scrollTo(0,t.offset)},onstop:function(){s._$recycle();i&&i()}});window.scrollTo(0,e);s._$play()}else{window.scrollTo(0,t);i&&i()}};t.__destory=function(){};return n},1,21,3,2,75,85,126,120,127,125);I$(117,function(s,o,a,i,r,l,e){var t,n={};n._$$Polls=s._$klass();t=n._$$Polls._$extend(o._$$EventTarget);t.__init=function(){this.__working=!1;this.__LSKEY="KLPLKS";this.__ACTID=window.__klActivityShowId;this.__initPollStatus();var t=i(".m-qa-select,.m-qa-pk");t._$on("click",".j-btn",this.__onPollOptClick._$bind(this))};t.__onPollOptClick=function(r){var t,s=i(r.target);if(!s._$hasClassName("j-btn"))t=s._$parent(".j-btn",!0);else t=s;var n=t._$parent(".m-qa-pk, .m-qa-select",!0),a=n._$parent(".m-block",!0)._$attr("data-block"),o=t._$attr("data-idx"),l=n._$hasClassName("m-qa-pk")?"pk":"poll",h="pk"===l?"支持":"投票";if(!n._$hasClassName("selected")&&!this.__working){this.__working=!0;setTimeout(function(){this.__working=!1}._$bind(this),3e3);e.show(h+"成功！");this.__pageUpdate(t,n,o,1);this.__savePoll2Server(this.__getOptionKey(a),o);this.__savePoll2LS(a,o)}};t.__initPollStatus=function(){var e=this.__getPollResults(),n=this.__ACTID,t=e[n];if(t){var s=Object.keys(t);s.forEach(function(s){var e=t[s],n=i('.m-block[data-block="'+s+'"] .j-btn[data-idx="'+e+'"]');if(n&&e){var o=n._$parent(".m-qa-pk, .m-qa-select",!0);this.__pageUpdate(n,o,e,0)}}._$bind(this))}};t.__savePoll2LS=function(e,i){var t=this.__getPollResults();actId=this.__ACTID;if(!t[actId])t[actId]={};t[actId][e]=i;try{localStorage.setItem(this.__LSKEY,JSON.stringify(t))}catch(n){}};t.__getPollResults=function(){try{return JSON.parse(localStorage.getItem(this.__LSKEY)||"{}")}catch(t){return{}}};t.__getOptionKey=function(t){var e=this.__ACTID;return e+"_"+t};t.__pageUpdate=function(l,t,n,o){var e,i=0,s=0;t._$addClassName("selected");l._$addClassName("my");if(t._$hasClassName("m-qa-pk")){t._$addClassName("selected-"+("0"===n?"l":"r"));var a=0;e=t._$children(".text .num",!0);e._$forEach(function(e,s){var t=parseFloat(e.getAttribute("data-poll"))||0;if(e.getAttribute("data-idx")===n){t+=o;e.innerText=t;e.setAttribute("data-poll",t)}i+=t;if(1===s)a=t});setTimeout(function(){t._$children(".bar i",!0)._$style("width",Math.round(a/i*1e3)/10+"%")},20)}else if(t._$hasClassName("m-qa-select")){e=t._$children("dd",!0);e._$forEach(function(e,a){var t=parseFloat(e.getAttribute("data-poll"))||0;if(e.getAttribute("data-idx")===n){t+=o;e.setAttribute("data-poll",t)}i+=t;s+=0>=t?0:1});var r=0;setTimeout(function(){e._$forEach(function(e,o){var n=parseFloat(e.getAttribute("data-poll"))||0,t=0;if(n>0){s--;if(0===s)t=100-r;else{t=Math.floor(100*n/i);r+=t}}e.querySelector(".rect").style.width=t+"%";e.querySelector(".ct").innerText=t+"%"})},20);t[0].querySelector(".count b").innerText=i}};t.__savePoll2Server=function(i,n){var s=a._$query2object(document.URL.split("?")[1]||""),t={pollKey:i,optionIndex:n};l.extend(t,s);r("/activity/h5/poll.html",{data:t,method:"POST",norest:!0,type:"json",onload:function(t){if(t&&200==t.code);else{e.clear();setTimeout(function(){e.show("网络连接错误")},1e3)}},onerror:function(t){e.clear();setTimeout(function(){e.show("网络连接错误")},1e3)}})};return n._$$Polls},1,21,2,85,69,75,26);I$(118,function(n,s,a,r,e,o){var t,i={};i._$$LazyImg=n._$klass();t=i._$$LazyImg._$extend(s._$$LazyImage);t.__reset=function(t){this.__lazyClass=t.lazyClass||"";this.__loadingClass=t.loadingClass||"";this.__loaddedClass=t.loaddedClass||"";this.__LoadErrorClass=t.loadErrorClass||"";this.__fadeIn=!!t.fadeIn;this.__container=t.container||document;this.__tolerance=t.tolerance||10;this.__preloadDist=t.preloadDist||0;this.__super(t);this.__fadeInClassInit="u-lazyimg-preload";this.__fadeInClassLoad="u-lazyimg-loaded";if(this.__lazyClass)this.__lazyClassReg=new RegExp("(\\s|^)"+this.__lazyClass+"(\\s|$)");if(this.__loadingClass)this.__loadingClassReg=new RegExp("(\\s|^)"+this.__loadingClass+"(\\s|$)");if(this.__fadeIn)this.__fadeInInitReg=new RegExp("(\\s|^)"+this.__fadeInClassInit+"(\\s|$)");if(this.__lazyClass||this.__loadingClass||this.__LoadErrorClass||this.__loaddedClass||this.__fadeIn)this._$addEvent("onappend",this.__appendImg._$bind(this));this.__onImgLoadHandle=this.__onImgLoad._$bind(this)};t.__getResourceList=function(t){if(!this.__nodeList)this.__nodeList=this.__container.querySelectorAll("img"+(this.__lazyClass?"."+this.__lazyClass:""));return this.__nodeList};t.__doCheckScrollPosition=function(t){this.__throtteScroll(t)};t.__throtteScroll=function(){var t=!!navigator.userAgent.match(/(iPhone|iPod|iPad)/i);return e.throttle(function(t){var i=this;e.nextFrame(function(){i.__doCheckScroll(t)})},160,{leading:t})}();t.__doCheckScroll=function(){var t={"-1":"onremove",1:"onappend"};return function(s){var n=this.__getResourceList(),i=this.__batchCheckImg(n);if(i&&i.nodes)e.nextFrame(function(){Array.prototype.forEach.call(i.nodes,function(n,a){var e={target:n,config:""};this._$dispatchEvent("oncheck",e);var s=e.value;if(!s)s=i.results[a];var o=t[s];if(o){e={target:n,config:this.__getSettingInfo(n)};this._$dispatchEvent(o,e);if(!e.stopped)if(-1==s)this.__doRemoveResource(n);else this.__doAppendResource(n,e.config)}},this)}._$bind(this))}}();t.__getWinHeight=function(){var t;if(window.innerHeight)t=window.innerHeight;else if(window.document.body)t=window.document.body.clientHeight;return t||0};t.__isInViewport=function(e,i){var t=e.getBoundingClientRect();if(t.bottom>=0&&t.top<=i)return!0;else return!1};t.__getPreloadDist=function(){function t(){return o.network}var e={wifi:3,cellular:1,"4g":2,"3g":1,"2g":1};return function(){if("auto"===this.__preloadDist){var n=t(),i=e[n];if("number"==typeof i)return i}else if("number"==typeof this.__preloadDist)return this.__preloadDist;return 1}}();t.__batchCheckImg=function(e){if(e&&0!==e.length){var n=this.__getWinHeight();n+=this.__getPreloadDist()*n;var t,l=e.length,i=-1;if(this.__isInViewport(e[0],n))i=0;if(l>30&&-1===i)for(var o,a=0,r=l-1,h=0;;){t=Math.floor((r+a)/2);o=e[t].getBoundingClientRect();if(o.bottom>=0&&o.top<=n){i=t;break}if(o.top<0)a=t;else r=t;if(1>=r-a){i=t;break}h++;if(h>1e3)break}var s,c=[],d=[],u=this.__tolerance,p=this.__tolerance;if(i>=0){for(t=i;t>=0;t--)if(this.__isInViewport(e[t],n))c.push(e[t]);else{u--;if(0===u)break}for(t=i+1;l>t;t++)if(this.__isInViewport(e[t],n))d.push(e[t]);else{p--;if(0===p)break}s=c.reverse().concat(d)}else s=e;var _=[];for(t=0;t<s.length;t++)_.push(this.__doCheckResource(s[t],n,i>=0?!0:!1));return{nodes:s,results:_}}};t.__doCheckResource=function(t,n,e){var i=this.__getSettingInfo(t),s=!t.src||t.src.indexOf(this.__holder)>=0||t.src.indexOf(i.src)<0;if(!i.src)return 0;if(!e)e=this.__isInViewport(t,n);if(s&&e)return 1;else return 0};t.__getSettingInfo=function(e){var t={};this.__name.split(",").forEach(function(i){t[i]=e.getAttribute("data-"+i)});t.src=this.__getWebpSrc(t.src);return t};t.__appendImg=function(e){var t=e.target.className;if(this.__lazyClassReg)t=t.replace(this.__lazyClassReg," ");

if(this.__loadingClass&&!this.__loadingClassReg.test(t))t=t+" "+this.__loadingClass;if(this.__fadeIn&&!this.__fadeInInitReg.test(t))t=t+" "+this.__fadeInClassInit;e.target.className=t;if(this.__loadingClass||this.__loaddedClass||this.__fadeIn)e.target.addEventListener("load",this.__onImgLoadHandle,!1);if(this.__LoadErrorClass)e.target.addEventListener("error",this.__onImgLoadHandle,!1)};t.__onImgLoad=function(e){var t=e.target.className;if(this.__loadingClassReg)t=t.replace(this.__loadingClassReg," ");if("load"==e.type&&this.__loaddedClass)t=t+" "+this.__loaddedClass;if(this.__fadeIn)t=t.replace(this.__fadeInInitReg," "+this.__fadeInClassLoad+" ");if(this.__LoadErrorClass&&"error"===e.type)t=t+" "+this.__LoadErrorClass;e.target.className=t;e.target.removeEventListener("load",this.__onImgLoadHandle,!1);e.target.removeEventListener("error",this.__onImgLoadHandle,!1)};t.__doAppendResource=function(t,e){t.src=e.src||this.__holder};t.__getWebpSrc=function(t){var s=10;if(e._$supportWebp()&&t)if(t.indexOf("imageView")>0&&t.indexOf("thumbnail=")>0&&t.indexOf("type=webp")<0){t=t.replace("thumbnail=","type=webp&thumbnail=");var i=t.match(/[\?&]+quality=[0-9]+/);if(i&&1===i.length){var n=parseInt(i[0].split("=")[1],10);if("number"==typeof n&&n-s>0)t=t.replace(/([\?&]+quality=)[0-9]+/,"$1"+(n-s))}}return t};t._$refresh=function(){this.__nodeList=null;this.__doCheckScrollPosition()};return i},1,71,4,2,75,76);I$(135,'<div class="u-loginWin" r-class=\'{"show": show == true}\'> 	<div class="m-topnav" id="topbar-box"> 		<div class="m-topnavbar" id="auto-id-1454071688247"> 			<span id="backbtn" class="u-icn18 backbtn" on-click={{this.show(false)}}></span> 			<span class="tit" id="toptitle">登录</span> 		</div> 	</div> 	<div class="body"> 	<div class="logo"> 		<img src="http://haitao.nos.netease.com/b0a8ba76352b4d6d92d1c2df308d3819.jpg?imageView&thumbnail=300x0&quality=100"> 	</div> 	<p class="tip">{{text}}</p> 	<div class="form-login"> 		<form ref=loginform action="https://reg.163.com/logins.jsp" autocomplete="off" method="post" {{#if loginType==1}}target="loginIframeAgent"{{#else}}target="_self"{{/if}}> 			<div class="fitm"> 			    <div class="u-suggest"> 			    	<input ref=username r-model={{username}} class="u-ipt" type="text" name="username" autocomplete="off" data-required="true" placeholder="网易邮箱"/><i ref=namedel class="u-icn6" style="display:none;" on-click={{this.namedelete($event)}}>&nbsp;</i> 			    </div> 			</div> 			<div class="fitm"> 				<input ref=pwd class="u-ipt" type="password" name="password" autocomplete="off" data-required="true" placeholder="密码"/> 			</div> 			<div class="fitm fitm-1"> 			  <a class="submit u-btn u-btn-1 s-fc5" href="javascript: void(0);" on-click={{this.login()}}>登录</a> 			</div> 			{{#if loginType==1}} 			<input type="hidden" value="http://global.163.com/urs/redirect.html?target=http%3A%2F%2Fm.kaola.com%2Fagent%2FloginAgent.htm%3Ffrom%3DiframeLogin" name="url" /> 			<input type="hidden" value="http://m.kaola.com/agent/loginAgent.htm" name="url2" /> 			<input type="hidden" name="append" value="1"/> 			{{#else}} 			<input type="hidden" value="http://global.163.com/urs/redirect.html?target={{encodeURIComponent(backUrl)}}" name="url" /> 			{{#if backUrl2}} 			<input type="hidden" value="http://global.163.com/urs/redirect.html?target={{encodeURIComponent(backUrl2)}}" name="url2" /> 			{{/if}} 			<input type="hidden" name="noRedirect" value="1"/> 			{{/if}} 			<input type="hidden" value="1" name="savelogin" /> 			<input type="hidden" value="kaola" name="product" /> 			<input type="hidden" value="kaola.com,163.com" name="domains" /> 		</form> 		<div class="fitm fitm-2"> 			<a class="forgot f-fl" href="http://reg.163.com/getpasswd/RetakePassword.jsp">忘记密码?</a><span class="f-fr">没有网易邮箱？<a class="regis" href="http://reg.163.com/reg/regClient.jsp?product=kaola&url={{loginredirect}}&loginurl={{loginredirect}}">快速注册&gt;</a></span> 		</div> 	</div> 	<div class="thirdpart"> 		<p class="tit"><span class="txt">或从以下方式登录</span></p> 		<div class="lnk"> 			<a class="u-icn4" href="http://reg.163.com/outerLogin/oauth2/connect.do?product=kaola&url2={{encodeURIComponent(backUrl2)}}&domains=global.163.com&target=3&url={{loginredirect}}">&nbsp;</a> 			<a class="u-icn4 u-icn4-1" href="http://reg.163.com/outerLogin/oauth2/connect.do?product=kaola&url2={{encodeURIComponent(backUrl2)}}&domains=global.163.com&target=1&url={{loginredirect}}">&nbsp;</a> 			<a class="u-icn4 u-icn4-2" href="http://reg.163.com/outerLogin/oauth2/aliPayFastLogin.do?product=kaola&redirect_error=http%3A%2F%2Fglobal.163.com%2Furs%2Fredirect.html%3Ftarget%3Dhttp%253A%252F%252Fm.kaola.com%252Flogin.html&redirect_url={{loginredirect}}">&nbsp;</a> 		</div> 	</div> 	</div> </div> {{#if loginType==1 && !!show}} <iframe id="loginIframeAgent" name="loginIframeAgent" frameborder="0" width="0" height="0" src="" ></iframe> {{/if}}');I$(134,function(t,a,e,i,n,s){var o=e.extend({template:i,data:{loginType:2,backUrl:"",backUrl2:location.href,show:!1,username:"",text:"网易考拉海购是网易旗下产品，您可以直接使用网易邮箱账号登录："},errorText:{412:"您尝试的次数已经太多，请过一段时间再试。",414:"您的IP登录失败次数过多，请稍后再试。",415:"您今天登录错误次数已经太多，请明天再试。",416:"您的IP今天登录过于频繁，请稍后再试。",417:"您的IP今天登录次数过多，请明天再试。",418:"您今天登录次数过多，请明天再试。",419:"您的登录操作过于频繁，请稍候再试。",422:"帐号被锁定，请您解锁后再登录！",424:"该靓号服务已到期，请您续费！",500:"系统繁忙，请您稍后再试！",503:"系统维护，请您稍后再试！",425:"账号不存在！",426:"账号不存在！",420:"账号不存在！",460:"登录密码错误！",x:"系统繁忙，请您稍后再试！"},config:function(t){this.supr(t);t.backUrl=t.backUrl||location.href;t.loginredirect=encodeURIComponent("http://global.163.com/urs/redirect.html?target="+encodeURIComponent(t.backUrl));this.$watch("username",function(t,e){if(t)this.$refs.namedel.style.display="";else this.$refs.namedel.style.display="none"}._$bind(this))},init:function(){window.loginCallback=this.loginCb._$bind(this);setTimeout(this.show._$bind(this,!0),100)},reset:function(e){t.extend(this.data,e)},loginCb:function(t,i,o){if(!(t>0)){var e=s();e._$refresh(function(t){if(t&&t.account){this.show(!1,1);this.$emit("logincallback",t)}}._$bind(this))}else n.show(this.errorText[t]||this.errorText.x)},login:function(){var t=this.$refs.username,e=this.$refs.pwd;if(t.value&&e.value)this.$refs.loginform.submit()},usernamefocus:function(t){if(t)this.$refs.namedel.style.display="";else setTimeout(function(){this.$refs.namedel.style.display="none"}._$bind(this),100)},namedelete:function(t){this.data.username=""},show:function(t,e){this.data.show=!!t;this.$update();this.$emit("hide",!0);if(!t&&!e)this.$emit("logincallback",!1)}});return o},75,2,24,135,26,28);I$(119,function(i,e,n,s){var t={};t.isLogin=function(t){if(1===window.__isPageCached)i()._$getProfile(function(e){t(e&&e.account)});else t(!!window.__isKaolaLogin||!!nej.j._$cookie("NTES_SESS"))};t.toLogin=function(o,s,a){var r=n(),l=i(),t=o||window.location.href;if(a&&t.indexOf("afterlogininvoke=1")<0)if(t.indexOf("?")>0)t=t.replace("?","?afterlogininvoke=1&");else if(t.indexOf("#")>0)t=t.replace("#","?afterlogininvoke=1#");else t+="?afterlogininvoke=1";if(e.isApp)if(e._$isAppVerEqOver("2.4"))r._$openLoginForm(function(t){if(t&&t.token&&t.ursId)l._$refresh(function(t){if(t&&t.account)s(!0,t);else s(!1)},{ursToken:t.token,ursId:t.ursId});else s(!1)});else window.location.href="/login.html?target="+window.encodeURIComponent(t);else this.showLoginWin(function(t){if(t)s(!0,t);else s(!1)})};t.afterLogin=function(t){this.isLogin(function(e){if(e)t();else this.toLogin("",function(e){if(e)t()})}._$bind(this))};t.isInPageLoginAvailable=function(){if(e.isApp&&!e._$isAppVerEqOver("2.4"))return!1;else return!0};t.afterLoginRefresh=function(n){function e(t){var e="afterlogininvoke";try{if(void 0!=t)return sessionStorage.setItem(e,t);else return sessionStorage.getItem(e)}catch(i){return null}}var s=e();e("");if(!t.isInPageLoginAvailable()){var o=location.href.match(/(\&|\?)afterlogininvoke=1/);if("1"!==s||!o)e("1");else{var a=i();a._$getProfile(function(t){if(t&&t.account)n()})}}};t.showLoginWin=function(t){if(this.__loginWin)this.__loginWin.show(!0);else{this.__loginWin=new s({data:{loginType:1}});this.__loginWin.$inject(document.body);this.__loginWin.$on("logincallback",function(e){t(e);this.__dispatchLoginEvt()}._$bind(this))}};t.__dispatchLoginEvt=function(){var t=document.createEvent("Event");t.initEvent("asyncLogin",!1,!0);document.dispatchEvent(t)};return t},28,76,29,134);I$(107,function(m,c,f,a,e,i,r,n,l,s,g,d,u,p,_,h,o,v,y,b,t){o._$$Tpl=m._$klass();t=o._$$Tpl._$extend(c._$$EventTarget);t.__init=function(o){this.__supInit(o);this.__setLazyload();this.__tabs=n(".js-navbox");this.__tabs._$forEach(function(t,e){u._$allocate({tabbar:t})}._$bind(this));this.__myFavorite=e._$get("myFavorites");this.__setAdImgOfItemBlock();this.__setBrandDescToggle();this.__addEvent();var t=e._$get("outdatejumpurl");if(t){var s=Number(i.getUrlParam("redCount")||0);if(s>2)t.href="/index.html";else{s++;t.href=i.insertParamIntoUrl(t.href,"redCount="+s)}}p._$allocate();setTimeout(function(){this.__removeParamFromCouponUrl();if(window.__kaolaNavEnt&&window.__kaolaNavEnt.length){var t=new d({data:{rawList:__kaolaNavEnt}});t.$inject(document.body)}else g._$create(document.body);this.__slides=n(".m-slide");this.__slides._$forEach(function(e,i){var t=e.parentNode.querySelectorAll(".imgpagebox li");r._$allocate({box:e,loop:!0,auto:!0,width:document.body.clientWidth,scrollTime:300,slideInterval:3e3,callback:function(i){for(var e=t.length-1;e>=0;e--){if("active"===t[e].className&&e!==i)t[e].className="";if("active"!==t[e].className&&e===i)t[e].className="active"}}})});this.__brandWalls=n(".m-brand-wall .slide-scroll");this.__brandWalls._$forEach(function(e,i){var t=e.parentNode.querySelectorAll(".imgpagebox li");r._$allocate({box:e,loop:!1,auto:!1,width:document.body.clientWidth,scrollTime:300,callback:function(i){for(var e=t.length-1;e>=0;e--){if("active"===t[e].className&&e!==i)t[e].className="";if("active"!==t[e].className&&e===i)t[e].className="active"}}})});this.__sendStatics()}._$bind(this),300);this.__hideMore()};t.__hideMore=function(){var e=1==i.isGteKaolaVer(2.4);

if(!e){var t=document.querySelector(".m-worth-last .more");if(t)t.style.display="none"}};t.__addEvent=function(){var t="onorientationchange"in window,e=t?"orientationchange":"resize";window.addEventListener(e,function(t){setTimeout(function(){this.__setAdImgOfItemBlock()}._$bind(this),200)}._$bind(this));a._$addEvent("box","click",this.__onBoxClick._$bind(this));n(".m-share .icon")._$on("click",this.__onShareBtnClick._$bind(this));n(".j-sendCard img")._$on("click",this.__onWarmCardShareBtnClick._$bind(this))};t.__onBoxClick=function(n){var i,t=a._$getElement(n);i=e._$dataset(t,"gid");if(e._$hasClassName(t,"js-favor")&&!e._$hasClassName(t,"z-favored"))h.afterLogin(function(){this.__doFavorite({goodsId:i},t)}._$bind(this))};t.__doFavorite=function(t,i){var n=this;t=t||{};t.status=1;l("/activity/h5/goods/favor.html",{data:t,method:"POST",type:"json",norest:!0,onload:function(t){if(461!=t.retcode)if(200==t.retcode||491==t.retcode){var o=200==t.retcode?"收藏成功":"已收藏，可在“我的收藏”里查看";s.show({message:o,singleMsg:!0});if(i){i.innerText="已收藏";e._$addClassName(i,"z-favored")}if(n.__myFavorite&&200==t.retcode)n._$plus()}else s.show({message:t.retdesc||"请求出错，请稍后再试！",singleMsg:!0});else h.toLogin()},onerror:function(t){s.show({message:t||"请求出错，请稍后再试！",singleMsg:!0})}})};t._$plus=function(){e._$addClassName(this.__myFavorite,"z-plus");setTimeout(function(){e._$addClassName(this.__myFavorite,"z-hide");e._$delClassName(this.__myFavorite,"z-plus");setTimeout(function(){e._$delClassName(this.__myFavorite,"z-hide")}._$bind(this),1500)}._$bind(this),1500)};t.__setLazyload=function(){function t(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")}function i(e){for(var t=e;t&&"body"!=t.tagName.toLowerCase();){if(s.test(t.className))return t;t=t.parentNode}return null}function n(n){var t=i(n.target);if(t&&e.test(t.className))t.className=t.className.replace(e," ");n.target.onload=n.target.onerror=null}var e=t("m-img-block-loading"),s=t("m-block"),o=t("u-item-img"),a=t("j-ignorlazy");_._$$LazyImg._$allocate({attr:"src",tolerance:5,preloadDist:"auto",fadeIn:!0,container:document.querySelector("#box"),onremove:function(t){t.stopped=!0},oncheck:function(t){if(a.test(t.target))t.value=2},onappend:function(t){if(!o.test(t.target.className))t.target.onload=t.target.onerror=n}})};t.__removeParamFromCouponUrl=function(){var n,t,e=document.querySelectorAll('a[href^="http://www.kaola.com/app/coupon/"]'),s=/https?:\/\/(www|m)\.kaola\.com\/app\/coupon\/[^\/]+\.html\?/;if(e&&e.length)for(var i=e.length-1;i>=0;i--){t=null;n=e[i].getAttribute("href");if(s.test(n)){t=n.split("?");if(t&&t.length)e[i].setAttribute("href",t[0])}}};t.__setAdImgOfItemBlock=function(){var t=document.querySelectorAll(".m-avg2item-lst");Array.prototype.forEach.call(t,function(n){var i,e,s,o=n.querySelector(".m-2avg-item"),t=n.querySelectorAll(".m-2avg-img .ad");if(o){if(t&&t.length)i=o.getBoundingClientRect().height}else if(t&&t.length){i=t[0].getBoundingClientRect().width*(parseFloat(t[0].getAttribute("data-imgh"))||0)/(parseFloat(t[0].getAttribute("data-imgw"))||1);s=!0}for(e=0;e<t.length;e++){if(s)t[e].parentNode.style.height=i+"px";t[e].parentNode.style.height=i+"px"}})};t.__setBrandDescToggle=function(){function n(t){if(s.test(this.className))this.className=this.className.replace("open","fold");else if(o.test(this.className))this.className=this.className.replace("fold","open")}var t=document.querySelectorAll(".m-brand-head .descwrap");if(t&&t.length)for(var i,s=new RegExp("(\\s|^)open(\\s|$)"),o=new RegExp("(\\s|^)fold(\\s|$)"),e=t.length-1;e>=0;e--){i=t[e].querySelector(".desc");if(i.clientHeight<i.scrollHeight){t[e].className+=" open";t[e].addEventListener("click",n)}}};t.__onShareBtnClick=function(e){if(i.isOldApp(12,10400))s.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge){var t=i.extend(window.newShareConfig||{},window.shareConfig);WeixinJSBridge.invoke("shareKaolaAppMessage",t||null,function(t){if(t.share_result);else;})}};t.__onWarmCardShareBtnClick=function(e){if(i.isOldApp(12,10400))s.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge){var t=i.extend({},window.shareConfig),n=e.target.parentNode.getAttribute("data-warmcard");t.imgOnlyUrlList=[n];WeixinJSBridge.invoke("shareKaolaAppMessage",t,function(t){})}};t.__sendStatics=function(){function t(){var t=f._$query2object(document.URL.split("?")[1]||""),e=i.extend({activityRefer:document.referrer,activityShowId:window.__klActivityShowId||""},t);l("/stat/activity.html",{data:e,method:"POST",type:"json",norest:!0,onload:function(t){},onerror:function(t){}})}t()};return o},1,21,2,3,4,75,113,85,69,26,114,115,116,117,118,119);I$(101,'<div class="m-dialog {{custClass}}" on-touchmove={{this.preventMove($event)}} ref=dialog> 	{{#if !!confirm}} 	<div class="confirm {{_aniClass}}"> 		<div class="txt {{confirm.textClass||\'\'}}" r-html="{{confirm.text}}"></div> 		<div class="btns {{confirm.btns.length===1?\'btns-1\':\'btns-2\'}}"> 			{{#list confirm.btns as btn}} 			<span class="btn" on-click={{this.btnClick(btn.action, $event)}}>{{btn.text}}</span> 			{{/list}} 		</div> 	</div> 	{{#else}} 	<div class="content  {{_aniClass}}"> 		{{#include content}} 	</div> 	{{/if}} </div>');I$(98,function(t,e){"use strict";var i=e.extend({template:t,config:function(t){t._aniClass=""},init:function(){this.show();this.$emit("init")},show:function(){setTimeout(function(){this.data._aniClass="show";this.$update()}._$bind(this),0)},hide:function(){this.data._aniClass="";this.$update()},remove:function(){this.hide();setTimeout(function(){this.destroy()}._$bind(this),200)},preventMove:function(t){t.preventDefault()},btnClick:function(t,e){switch(t){case"close":this.$emit("close",e);this.remove();break;default:this.$emit(t,e)}}});return i},101,24);I$(161,'<div class="m-mz-seckill"> 	<div class="hd"> 		<div class="border"> 			<div class="left"></div> 			<div class="center"></div> 			<div class="right"></div> 		</div> 		<p class="dates">11.27-11.29</p> 		<p class="desc">每天3场，每场15台</p> 	</div> 	<div class="timeline"> 		<span class="line"></span> 		<span class="dot dot1 {{dots[0].status||\'\'}}"></span> 		<span class="dot dot2 {{dots[1].status||\'\'}}"></span> 		<span class="dot dot3 {{dots[2].status||\'\'}}"></span> 		<span class="text dot1-text {{texts[0].status}}">{{texts[0].text}}</span> 		<span class="text dot2-text {{texts[1].status}}">{{texts[1].text}}</span> 		<span class="text dot3-text {{texts[2].status}}">{{texts[2].text}}</span> 	</div> 	<p class="msg">{{desc}}</p> 	{{#if countdownText}} 	<p class="countdown"> 		距离下一场还剩 <span class="time">{{countdownText}}</span> 	</p> 	{{/if}} 	<div class="go {{btn.status}}" on-click={{this.buyBtnClick()}}> 		{{btn.text}} 	</div> </div>');I$(159,function(e,i,a,t,n,r,s){var o=i.extend({template:e,config:function(t){this.data.info=window.__seckillInfo;this.data.timePoints=window.__seckillPoints;this.data.dots=[{status:""},{status:""},{status:""}];this.data.texts=[{status:"",text:"10:00"},{status:"",text:"15:00"},{status:"",text:"21:00"}];this.data.desc="活动尚未开始！";this.data.countdownText="";this.data.btn={status:"disable",text:"敬请期待..."};this.fixPageLoadTime();if(this.data.timePoints&&this.data.timePoints.length>=3){this.tick();setTimeout(this.tick.bind(this),500)}},init:function(){if(1!=t.isGteKaolaVer(2)&&1===window.__isKaolaApp)this.showVerTooLowDiaolog()},fixPageLoadTime:function(){var t=window.pageLoadTime;try{if(sessionStorage.getItem("mzServerTime")===window.serverTime+"")t=parseFloat(sessionStorage.getItem("mzPageLoadTime"));else{sessionStorage.setItem("mzServerTime",window.serverTime);sessionStorage.setItem("mzPageLoadTime",window.pageLoadTime)}}catch(e){}window.pageLoadTime=t},now:function(){return+new Date-window.pageLoadTime+window.serverTime},getCurrStage:function(){var i=this.now(),t=this.data.timePoints;if(!this.data.info.isDacuStart||t.length<3)return-1;if(i<t[0].startTime)return 0;if(i>t[t.length-1].startTime)return t.length-3;for(var e=0;e<t.length;e+=3){if(t[e].startTime<=i&&t[e+2].startTime+18e5>i)return e;if(i<t[e].startTime)return e}return 0},setPointsStatus:function(){for(var i=this.now(),e=this.data.timePoints,t=0;t<e.length;t++)if(e[t].startTime+18e5<i)e[t].status=-1;else if(e[t].startTime+18e5>i&&e[t].startTime<i)e[t].status=0;else e[t].status=1},setTimeline:function(o){var t,i,s,a=this.data.timePoints,e=this.data;for(t=0;3>t;t++){i=a[t+o];s=n._$format(new Date(i.startTime),"HH:mm");if(-1===i.status){e.dots[t].status="";e.texts[t].status="";e.texts[t].text=s+" 已结束"}else if(0===i.status){e.dots[t].status="active";e.texts[t].status="active";e.texts[t].text=s+" 进行中"}else{e.dots[t].status="";e.texts[t].status="";e.texts[t].text=s}}},setBuyBtnAndCountdown:function(){var n,o=this.data.timePoints,e=this.data;e.btn.status="disable";e.btn.text="敬请期待...";e.countdownText="";if(e.info.isDacuStart)e.btn.text="立即抢购";var i,a;for(n=0;n<o.length;n++){i=o[n];a=o[n+1]||{};if(-1===i.status&&1===a.status||0===n&&1===i.status){var s=(1!==i.status?a.startTime:i.startTime)-this.now();s=0>s?0:s;var r=this.getTimeObj(s);e.countdownText=r.hh+":"+r.mm+":"+r.ss}if(0===i.status){e.btn.status="";e.currTimepoint=i}}if(e.info.soldout||!e.info.obtained||e.info.seckilled)e.btn.status="disable";if(!t.isLogin()){e.btn.status="";e.btn.text="立即登录"}if(t.isLogin()&&!e.info.obtained){e.btn.status="";e.btn.text="立即去凑单"}if(1!==window.__isKaolaApp){this.data.desc="请在考拉海购手机客户端进行秒杀！";e.btn.status="";e.btn.text="下载客户端"}},setDescText:function(){var e=(this.data.timePoints,this.data);if(e.info.isDacuStart)if(t.isLogin()){if(e.info.obtained)if(e.info.seckilled)e.desc="啊哦！您已抢过1台，把机会留给别人吧！";else{e.desc="恭喜！您已获得1元抢购机会！";if(e.info.soldout)e.desc="本场已抢光！"}else if(!e.info.obtained)e.desc="您再买"+e.info.balance+"元，就能参加1元抢购了！";if(1!==window.__isKaolaApp)this.data.desc="请在考拉海购手机客户端进行秒杀！"}else e.desc="请先登录查看是否有抢购机会";else e.desc="活动尚未开始!"},tick:function(){{var t=(this.data.timePoints,this.getCurrStage());this.data}if(!(0>t)){this.setPointsStatus();this.setTimeline(t);this.setBuyBtnAndCountdown();this.setDescText();this.$update();setTimeout(this.tick.bind(this),500);

}},getTimeObj:function(){var t=function(t){return(10>t?"0":"")+t},n=6e4,e=60*n,i=24*e;return function(h,d){var s=+h>0?+h:0,o=parseInt(s/i,10),a=parseInt(s%i/e,10),r=parseInt(s%i%e/n,10),l=parseInt(s%i%e%n/1e3,10),c=parseInt(s%i%e%n%1e3,10);if(1===o&&0===a){o=0;a=24}[t(o),t(a),t(r),t(l)];return{d:o,h:a,m:r,s:l,ms:c,dd:t(o),hh:t(a),mm:t(r),ss:t(l)}}}(),buyBtnClick:function(){var e=this.data.btn,i=this.data.info;if("disable"!==e.status)if(1===window.__isKaolaApp)if(t.isLogin())if(i.obtained)this.bookOrder();else location.href=this.data.buyurl;else t.toLogin();else if(navigator.userAgent.match(/MicroMessenger/i))location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.kaola";else location.href="http://www.kaola.com/mobile/download.html"},bookOrder:function(){var e=this.data.currTimepoint;if(1==t.isGteKaolaVer(2))t.exec({method:"openOrderConfirm",args:{goods:[{goodsId:e.goodsId,innerSource:"OTHER",selected:"1",skuId:e.skuId,tempBuyAmount:1,tempCurrentPrice:1,tempGoodsActivityType:""}],type:"",s:"2"}});else this.showVerTooLowDiaolog()},showVerTooLowDiaolog:function(){var e=[{text:"我知道了",action:"close"}];if(1!==window.__isKaolaApp)e.push({text:"下载APP",action:"app"});var t=new s({data:{confirm:{text:"抱歉，本活动只支持在最新版手机APP中购买哦，立即去更新或下载网易考拉海购APP吧",btns:e}}});if(1!==window.__isKaolaApp){t.$on("app",function(e){t.$off("app");t.$off("close");t.remove();location.href="http://www.kaola.com/mobile/download.html"});t.$on("close",function(e){t.$off("app");t.$off("close")})}t.$inject(document.body)}});return o},161,24,26,75,2,69,98);I$(169,function(r,p,m,s,h,d,f,o,_,g,u,t){function c(t){var i=parseInt(t/1e3/60/60/24,10),n=parseInt(t/1e3/60/60%24,10),s=parseInt(t/1e3/60%60,10),o=parseInt(t/1e3%60,10);i=e(i);n=e(n);s=e(s);o=e(o);return i+n+s+o}function e(t){return 10>t?"0"+t:""+t}o._$$Timer=r._$klass();t=o._$$Timer._$extend(d);var l="距疯抢开始还有",a="距疯抢结束还有",n=14471712e5,i=14474304e5;t.__init=function(t){this.__supInit(t);this.__timerNode=s._$get("timerBox");if(this.__timerNode){this.__txtNode=s._$get("clocktxt");this.__numArr=s._$getByClassName(this.__timerNode,"j-num");this.__serverTime=window.serverTime||+new Date;this.__initClock()}};t.__initClock=function(){var t=this.__serverTime;if(t>=i){this.__txtNode.innerText="活动已结束";this.__setEndTime()}if(i>t&&t>=n){this.__txtNode.innerText=a;this.__setTimer(1)}if(n>t){this.__txtNode.innerText=l;this.__setTimer(2)}};t.__setTimer=function(e){var t=1==e?i:n;this.__timer=null;this.__timer=setInterval(function(){this.__serverTime+=1e3;if(this.__serverTime>t){clearInterval(this.__timer);this.__initClock()}else this.__refreshTime(t-this.__serverTime)}._$bind(this),1e3)};t.__refreshTime=function(e){for(var i=c(e),t=0;8>t;t++)this.__numArr[t].innerText=i[t]||"0"};t.__setEndTime=function(){h(this.__numArr)._$text("*")};return o},1,2,3,4,85,5,26);I$(170,function(n,s,e,o,a){function i(t){this.listarea=t.listarea;if(this.listarea){this.list=this.listarea.querySelector(".slider .info ul");if(this.list){setTimeout(function(){this.getData(this.dataProcess._$bind(this))}._$bind(this),0);this.bindEvents();this.couponUtil=new a({data:{isBindLink:!1}})}}}var t=i.prototype;t.bindEvents=function(){var t=this.listarea.querySelector(".sharebtn");if(t)t.addEventListener("click",function(n){if(this.couponId)if(e.isOldApp(12,10400))o.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge)if(window.shareConfig){var t;if(this.buyCount>0)t="我在网易考拉全球狂欢节买了"+this.buyCount+"件商品！越买越省！太赚啦";else t="别人赚翻了你却还在围观！快来网易考拉全球狂欢节扫货吧";var i={img_url:"http://haitao.nos.netease.com/fe911b6bb3ca4769a9f242b4d5479c22.jpg?imageView&thumbnail=100x0&",link:document.URL.split("?")[0]+"?from=appshare",desc:t,title:document.title,wbpost:t+"  "+document.URL.split("?")[0]+"?from=appshare @网易考拉海购"};WeixinJSBridge.invoke("shareKaolaAppMessage",i,function(t){if(t&&t.share_result+""!="false")setTimeout(function(){this.couponUtil.getCoupon(this.couponId)}._$bind(this),1600);else;}._$bind(this))}}._$bind(this));var i=this.listarea.querySelector(".login");if(i)i.addEventListener("click",function(){e.toLogin()})};t.getData=function(t){n("/activity/save_money/getSaveMoneyRankList.html",{method:"GET",norest:!0,type:"json",onload:function(e){if(e&&200==e.code)t(0,e);else t(1,e)},onerror:function(e){t(1,e)}})};t.dataProcess=function(e,t){if(!e){this.rankList=t.rankList||[];if(this.rankList.length)this.rankList.push(this.rankList[0]);this.buyCount=t.currentUserBuyCount;this.saveAmount=t.currentUserSave;this.couponId=t.couponid;this.updatePage()}else this.listarea.parentNode.removeChild(this.listarea)};t.updatePage=function(){var r=this.bulidLines(this.rankList);this.list.innerHTML=r;if(e.isLogin()){var s=this.listarea.querySelector(".count");if(s)s.innerHTML=this.buyCount||0;var o=this.listarea.querySelector(".num");if(o&&this.saveAmount){var t="",i=""+Math.floor(this.saveAmount);if(i.length>3)for(var n=1;n<=i.length;n++){t=i[i.length-n]+t;if(n%3===0&&n!==i.length)t=","+t}else t=i;tail=(""+this.saveAmount).split(".")[1];t+=tail?"."+tail:"";o.innerHTML=t||0}else{var a=document.querySelector(".my");if(a)a.innerHTML="您在考拉双11上还没有下过单，先去逛逛吧"}}else;if(this.rankList.length>2)this.startScroll()};t.bulidLines=function(t){var i="";if(document.body.clientWidth<350)i="line-height:14px;padding-top:4px;";if(!t||!t.length)return'<li class="f-els-1">暂无数据</li>';for(var e,s=[],n=0;n<t.length;n++){e=t[n];s.push('<li class="f-els-1" style="'+i+'">用户 '+e.accountId+" "+e.paySuccessTime+"，"+(i?"<br>":"")+"小考拉为他省了"+(e.savedMoneyAmount||0)+"元</li>")}return s.join("")};t.startScroll=function(){function e(){if(t>0&&t%(n-1)===0)t=0;s.doScroll(t*i,(t+1)*i);setTimeout(e,3800);t++}var t=0,n=this.rankList.length,i=35,s=this;setTimeout(e,3e3)};t.doScroll=function(e,i){var t=s._$$Timing._$allocate({timing:"cubic-bezier(0.86, 0, 0.07, 1)",from:{offset:e},to:{offset:i},duration:800,onupdate:function(e){var t="translateY(-"+e.offset+"px) translateZ(0);";this.list.setAttribute("style","-webkit-transform:"+t+"-ms-transform:"+t+"transform:"+t+"-webkit-transition: -webkit-transform 0 0 ease;transition: transform 0 0 ease;")}._$bind(this),onstop:function(){t._$recycle()}});t._$play()};return i},69,120,75,26,109);I$(177,'<div class="imgbox f-pr"> 	<img class="u-img" src="http://haitao.nos.netease.com/c6b113d0ad5b41618995e2039491aef9.jpg"> 	<p class="textbox"> 		{{text200}} 	</p> 	<p class="btnbox"> 		<a class="u-wbtn {{pd200==1 ? \'f-pdl8\' : \'\'}} {{enable200 == 0 ? \'u-wbtn-1\' : \'\'}}" {{#if enable200 == 1}}on-click={{this.getcoupon(200)}}{{/if}}>{{btn200}}</a> 	</p> </div> <div class="imgbox f-pr"> 	<img class="u-img" src="http://haitao.nos.netease.com/c3840785af5646f28121e4d1fd705ee8.jpg"> 	<p class="textbox"> 		{{text399}} 	</p> 	<p class="btnbox"> 		<a class="u-wbtn {{pd399==1 ? \'f-pdl8\' : \'\'}} {{enable399 == 0 ? \'u-wbtn-1\' : \'\'}}" {{#if enable399 == 1}}on-click={{this.getcoupon(399)}}{{/if}}>{{btn399}}</a> 	</p> </div>');I$(175,function(a,r,i,n,s,e,t){var o=s.extend({name:"christcoupon",template:n,init:function(){this.supr();this.initCoupon()},initCoupon:function(){var i=this;e("/christmas/retcoupon/detail.html",{method:"GET",onload:function(t){if(200==t.code)i.showCoupon(t.body);else if(461==t.code){i.data.text200="请先登录查看是否有领券资格";i.data.btn200="立即登录";i.data.enable200=1;i.data.text399="请先登录查看是否有领券资格";i.data.btn399="立即登录";i.data.enable399=1}i.$update()},onerror:function(e){t.show("获取优惠券信息失败！")}})},showCoupon:function(t){if(t.retCouponDetail.rec200Coupon){this.data.text200="您已领取了该优惠券，快去买买买！";this.data.btn200="已领取";this.data.enable200=0}else if(t.retCouponDetail.canRec200Coupon)if(t.retCouponDetail.hasCoupon200){this.data.text200="恭喜！您已足满领取200返200优惠券资格！";this.data.btn200="立即领券！";this.data.pd200=1;this.data.enable200=1}else{this.data.text200="抱歉！您来晚拉！";this.data.btn200="立即领券！";this.data.pd200=1;this.data.enable200=0}else{this.data.text200="您再买"+(t.retCouponDetail.difference200||200)+"元，就能领取优惠券了，快去凑单吧！";this.data.btn200="立即领券！";this.data.pd200=1;this.data.enable200=0}if(t.retCouponDetail.rec399Coupon){this.data.text399="您已领取了该优惠券，快去买买买！";this.data.btn399="已领取";this.data.enable399=0}else if(t.retCouponDetail.canRec399Coupon)if(t.retCouponDetail.hasCoupon399){this.data.text399="恭喜！您已足满领取399返399优惠券资格！";this.data.btn399="立即领券！";this.data.pd399=1;this.data.enable399=1}else{this.data.text399="抱歉！您来晚拉！";this.data.btn399="立即领券！";this.data.pd399=1;this.data.enable399=0}else{this.data.text399="您再买"+(t.retCouponDetail.difference399||399)+"元，就能领取优惠券了，快去凑单吧！";this.data.btn399="立即领券！";this.data.pd399=1;this.data.enable399=0}},getcoupon:function(s){var o="/christmas/"+s+"/retcoupon.html",n=this;e(o,{method:"GET",onload:function(e){if(200==e.code){t.show("领券成功！请到我的优惠券中查询");if(200==s){n.data.text200="您已领取了该优惠券，快去买买买！";n.data.btn200="已领取";n.data.pd200=0;n.data.enable200=0}else if(399==s){n.data.text399="您已领取了该优惠券，快去买买买！";n.data.btn399="已领取";n.data.pd399=0;n.data.enable399=0}n.$update()}else if(461==e.code)i.toLogin();else if(e.msg)t.show(e.msg);else t.show("领取失败！")},onerror:function(e){t.show("领取失败！")}})}});return o},3,4,75,177,24,69,26);I$(187,'<div class="prdlist f-front" ref=frontbox> 	{{#list frontlist as item}} 	<li class="item f-cb" on-click={{this.onPrdClick(item)}}> 		<img class="u-img f-fl" src="{{item.imageUrl}}"> 		<div class="textinfo f-fl"> 			<p class="title f-els-1">{{item.title}}</p> 			<p> 				<span class="price">¥<i class="num">{{item.actualCurrentPrice}}</i></span> 				<span class="count">已售<i class="num">{{item.sales}}</i>件</span> 			</p> 		</div> 	</li> 	{{/list}} </div> <div class="prdlist f-back" ref=backbox> 	{{#list backlist as item}} 	<li class="item f-cb" on-click={{this.onPrdClick(item)}}> 		<img class="u-img f-fl" src="{{item.imageUrl}}"> 		<div class="textinfo f-fl"> 			<p class="title f-els-1">{{item.title}}</p> 			<p> 				<span class="price">¥<i class="num">{{item.actualCurrentPrice}}</i></span> 				<span class="count">已售<i class="num">{{item.sales}}</i>件</span> 			</p> 		</div> 	</li> 	{{/list}} </div>');I$(185,function(r,t,i,n,s,o,e){var a=s.extend({name:"reportbox",template:n,
config:function(t){i.extend(t,{frontlist:[],backlist:[],count:-1,isShowFront:1})},init:function(){this.supr();this.getList()},getList:function(){var t=this;o("/hotsale/goods_list.html",{method:"get",onload:function(i){if(200==i.code){t.data.list=i.body.goodsList;t.initList();t.$update();t.setLeftTime()}else e.show(i.msg)},onerror:function(t){e.show(t.msg)}})},initList:function(){if(1==this.data.list.length){this.data.frontlist.push(this.data.list[0]);this.data.frontlist.push(this.data.list[0]);this.data.backlist.push(this.data.list[0]);this.data.backlist.push(this.data.list[0]);this.data.count=0}else if(2==this.data.list.length){this.data.frontlist.push(this.data.list[0]);this.data.frontlist.push(this.data.list[1]);this.data.backlist.push(this.data.list[0]);this.data.backlist.push(this.data.list[1]);this.data.count=1}else if(3==this.data.list.length){this.data.frontlist.push(this.data.list[0]);this.data.frontlist.push(this.data.list[1]);this.data.backlist.push(this.data.list[2]);this.data.backlist.push(this.data.list[0]);this.data.count=0}else{this.data.frontlist.push(this.data.list[0]);this.data.frontlist.push(this.data.list[1]);this.data.backlist.push(this.data.list[2]);this.data.backlist.push(this.data.list[3]);this.data.count=3}},getNextPrds:function(){var e=this.data.list.length,i=this,t=[];if(1==e){t.push(this.data.list[0]);t.push(this.data.list[0]);this.data.count=0}else if(this.data.count==e-1){t.push(this.data.list[0]);t.push(this.data.list[1]);this.data.count=1}else if(this.data.count==e-2){t.push(this.data.list[e-1]);t.push(this.data.list[0]);this.data.count=0}else{t.push(this.data.list[this.data.count+1]);t.push(this.data.list[this.data.count+2]);this.data.count+=2}window.setTimeout(function(){if(i.data.isShowFront)i.data.backlist=t;else i.data.frontlist=t},1e3)},change:function(){if(!t._$hasClassName(this.$refs.frontbox,"f-rotateout")){t._$delClassName(this.$refs.backbox,"f-front");t._$delClassName(this.$refs.frontbox,"f-back");t._$addClassName(this.$refs.backbox,"f-back");t._$addClassName(this.$refs.frontbox,"f-front");t._$delClassName(this.$refs.frontbox,"f-rotatein");t._$delClassName(this.$refs.backbox,"f-rotateout");t._$addClassName(this.$refs.frontbox,"f-rotateout");t._$addClassName(this.$refs.backbox,"f-rotatein");this.data.isShowFront=0}else{t._$delClassName(this.$refs.frontbox,"f-front");t._$delClassName(this.$refs.backbox,"f-back");t._$addClassName(this.$refs.frontbox,"f-back");t._$addClassName(this.$refs.backbox,"f-front");t._$delClassName(this.$refs.frontbox,"f-rotateout");t._$delClassName(this.$refs.backbox,"f-rotatein");t._$addClassName(this.$refs.frontbox,"f-rotatein");t._$addClassName(this.$refs.backbox,"f-rotateout");this.data.isShowFront=1}this.getNextPrds()},setLeftTime:function(){var t=this;this.leftseconds=5;this.tag=window.setInterval(function(){if(1==t.leftseconds){t.leftseconds=5;t.change()}else t.leftseconds-=1;t.$emit("setTime",t.leftseconds);t.$update()},1e3)},onPrdClick:function(t){window.location.href="/product/"+t.goodsId+".html"}});return a},3,4,75,187,24,69,26);I$(191,'<ul ref="parent" class="prdbox"> {{#list list as item}} <li class="item f-cb">    <div class="animatebox j-flag"> 		<div class="animateitem f-frontitm{{item_index}} f-front f-front{{item_index}}" ref=frontbox> 			<div class="category f-fl {{item.titclass}}">{{item.category}}</div> 			<div class="f-fl proinfo" on-click={{this.onPrdClick(item.frontobj)}}> 				<img class="f-fl u-wimg" src="{{item.frontobj.img||\'/res/images/124x124.png\'}}" /> 				<div class="f-fl textinfo"> 					<p class="title f-els-1">{{item.frontobj.shortTitle}}</p> 					<p> 						<span class="price">¥<i class="num">{{item.frontobj.price}}</i></span> 						<span class="salenum">已售{{item.frontobj.saleNum}}件</span> 					</p> 					<p class="reason f-els-1"> 						<span class="name">上榜理由</span> 						<span>{{item.frontobj.reason}}</span> 					</p> 				</div> 			</div> 		</div> 		<div class="animateitem f-backitm{{item_index}} f-back f-back{{item_index}}" ref=backbox> 			<div class="category f-fl {{item.titclass}}">{{item.category}}</div> 			<div class="f-fl proinfo" on-click={{this.onPrdClick(item.backobj)}}> 				<img class="f-fl u-wimg" src="{{item.backobj.img||\'/res/images/124x124.png\'}}" /> 				<div class="f-fl textinfo"> 					<p class="title f-els-1">{{item.backobj.shortTitle}}</p> 					<p> 						<span class="price">¥<i class="num">{{item.backobj.price}}</i></span> 						<span class="salenum">已售{{item.backobj.saleNum}}件</span> 					</p> 					<p class="reason f-els-1"> 						<span class="name">上榜理由</span> 						<span>{{item.backobj.reason}}</span> 					</p> 				</div> 			</div> 		</div> 	</div> </li> {{/list}} </ul>');I$(189,function(o,t,e,i,n,a,r){var s=n.extend({name:"reportbox",template:i,config:function(i){e.extend(i,{count:-1,isShowFront:1});for(var n=0,s=i.list.length;s>n;n++){var t=i.list[n];if(1==t.data.length){t.frontobj=t.data[0];t.backobj=t.data[0];t.count=0}else{t.frontobj=t.data[0];t.backobj=t.data[1];t.count=1}}},init:function(){this.supr();this.setLeftTime()},getNextPrds:function(){for(var i=0,s=this.data.list.length;s>i;i++){var t=this.data.list[i],n=t.data.length,e={};if(1==n){e=t.data[0];t.count=0}else if(t.count==n-1){e=t.data[0];t.count=0}else{e=t.data[t.count+1];t.count+=1}{window.setTimeout(this.setBackItem._$bind(this,t,e),1e3)}}},setBackItem:function(t,e){if(this.data.isShowFront)t.backobj=e;else t.frontobj=e},change:function(){if(t._$hasClassName(this.$refs["parent"],"m-rotatein")){t._$delClassName(this.$refs["parent"],"m-rotatein");this.data.isShowFront=1}else{t._$addClassName(this.$refs["parent"],"m-rotatein");this.data.isShowFront=0}this.getNextPrds()},setLeftTime:function(){var t=this;this.leftseconds=5;this.tag=window.setInterval(function(){if(1==t.leftseconds){t.leftseconds=5;t.change()}else t.leftseconds-=1;t.$emit("setTime",t.leftseconds);t.$update()},1e3)},onPrdClick:function(t){window.location.href="/product/"+t.goodsId+".html"}});return s},3,4,75,191,24,69,26);I$(196,'<div class="m-wmodal"> 	<img class="u-wimg" src="/res/images/activity/201512/timemachine/success.png" /> 	<p class="result">恭喜，领券成功</p> 	<p class="remind">请在个人中心我的优惠券中查看</p> 	<a class="u-wbtn" on-click={{this.confirm()}}>确定</a> 	<div on-click={{this.confirm()}} class="u-close"></div> </div>');I$(198,'<div class="m-layermsk {{layermskClass||\'\'}}" on-touchmove={{this.preventMove($event)}}> 	<div class="m-window" on-click={{this.close($event)}}> 		<div class="{{winbodyClass||\'winbody\'}}"> 			{{#include this.content}} 		</div> 	</div> </div>');I$(197,function(o,t,i,n,s,a){var e=n.extend({template:s,init:function(){this.supr()},close:function(e){var n=i._$getElement(e);if(t._$hasClassName(n,"m-window"))this.hide()},hide:function(){this.$emit("hide",this.data);this.destroy()},preventMove:function(t){t.preventDefault()}});e.directive("animate",function(e){var i=this.data.animate;if(i){t._$addClassName(e,"animated");t._$addClassName(e,i)}});return e},75,4,3,24,198);I$(193,function(n,s,o,t,e,a){var i=e.extend({content:t,init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()},close:function(){this.$emit("confirm",this.data);this.destroy()}});return i},75,4,3,196,197);I$(199,'<div class="m-wmodal"> 	<img class="u-wimg u-wimg-1" src="/res/images/activity/201512/timemachine/fail.png" /> 	<p class="result result-1">啊哦，您已领过该券，不能再领~</p> 	<a class="u-wbtn" on-click={{this.confirm()}}>确定</a> 	<div on-click={{this.confirm()}} class="u-close"></div> </div>');I$(194,function(n,s,o,t,e,a){var i=e.extend({content:t,config:function(t){},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()},close:function(){this.$emit("confirm",this.data);this.destroy()}});return i},75,4,3,199,197);I$(203,'<div class="m-exchangewin"> 	<div class="txt"> 		<p class="title">消耗{{count}}考拉豆，确定兑换？</p> 	    <p class="desc">该券只能在购买本商品时使用</p> 	</div> 	<div class="btns"> 		<div class="u-favorbtn" on-click=close>取消</div> 		<div class="u-favorbtn" on-click=ok>确定</div> 	</div> </div>');I$(210,'<ul ref="parent" class="reportbox"> 	{{#list showList as item}} 	<li class="item"> 		<div class="animatebox"> 			<div class="animateitem f-frontitm{{item_index}} f-front f-cb"> 				<img on-click={{this.onPrdClick(item.frontobj)}} class="u-wimg f-fl" src="{{item.frontobj.imageUrl||\'/res/images/124x124.png\'}}" /> 				<div on-click={{this.onPrdClick(item.frontobj)}} class="infobox f-fl"> 					<p class="title f-els-2">{{item.frontobj.title}}</p> 					<p> 						<span class="price">¥<i class="num">{{item.frontobj.actualCurrentPrice}}</i></span> 						<span class="salenum">已售<i class="total">{{item.frontobj.sales}}</i>件</span> 					</p> 				</div> 				<div on-click={{this.onCatgClick(item.flink)}} class="{{item.ftitclass}} brandbox f-fr f-pr" > 					{{item.fcategory}} 					<span class="icon"></span> 				</div> 			</div> 			<div class="animateitem f-frontitm{{item_index}} f-back f-cb"> 				<img on-click={{this.onPrdClick(item.backobj)}} class="u-wimg f-fl" src="{{item.backobj.imageUrl||\'/res/images/124x124.png\'}}" /> 				<div on-click={{this.onPrdClick(item.backobj)}} class="infobox f-fl"> 					<p class="title f-els-2">{{item.backobj.title}}</p> 					<p> 						<span class="price">¥<i class="num">{{item.backobj.actualCurrentPrice}}</i></span> 						<span class="salenum">已售<i class="total">{{item.backobj.sales}}</i>件</span> 					</p> 				</div> 				<div on-click={{this.onCatgClick(item.blink)}} class="{{item.btitclass}} brandbox f-fr f-pr"> 					{{item.bcategory}} 					<span class="icon"></span> 				</div> 			</div> 		</div> 	</li> 	{{/list}} </ul>');I$(208,function(o,t,e,i,n,a,r){var s=n.extend({name:"reportbox",template:i,config:function(t){e.extend(t,{frontList:[],backList:[],showList:[],isShowFront:1});for(var n=0,s=t.list.length;s>n;n++)if(t.list[n].listTag)t.frontList.push(t.list[n]);else t.backList.push(t.list[n]);if(t.frontList.length>t.backList.length)var o=t.backList.length;else var o=t.frontList.length;for(var i=0,a=o;a>i;i++){
var r={frontobj:t.frontList[i].data[0],backobj:t.backList[i].data[0],ftitclass:t.frontList[i].titclass,fcategory:t.frontList[i].category,btitclass:t.backList[i].titclass,bcategory:t.backList[i].category,blink:t.backList[i].link,flink:t.frontList[i].link};t.showList.push(r)}},init:function(){this.supr();this.setLeftTime()},getNextPrds:function(){var n={};if(this.data.isShowFront)for(var t=0,o=this.data.showList.length;o>t;t++){for(var i=this.data.backList[t].data,a=this.data.showList[t].backobj.goodsId,e=0,s=i.length;s>e;e++)if(a==i[e].goodsId)if(s-1>e)n=i[e+1];else n=i[0];{window.setTimeout(this.setBackItem._$bind(this,this.data.showList[t],n),1e3)}}else for(var t=0,o=this.data.showList.length;o>t;t++){for(var i=this.data.frontList[t].data,a=this.data.showList[t].frontobj.goodsId,e=0,s=i.length;s>e;e++)if(a==i[e].goodsId)if(s-1>e)n=i[e+1];else n=i[0];{window.setTimeout(this.setBackItem._$bind(this,this.data.showList[t],n),1e3)}}},setBackItem:function(t,e){if(this.data.isShowFront)t.backobj=e;else t.frontobj=e},change:function(){if(t._$hasClassName(this.$refs["parent"],"m-rotatein")){t._$delClassName(this.$refs["parent"],"m-rotatein");this.data.isShowFront=1}else{t._$addClassName(this.$refs["parent"],"m-rotatein");this.data.isShowFront=0}this.getNextPrds()},setLeftTime:function(){var t=this;this.leftseconds=5;this.tag=window.setInterval(function(){if(1==t.leftseconds){t.leftseconds=5;t.change()}else t.leftseconds-=1;t.$emit("setTime",t.leftseconds);t.$update()},1e3)},onPrdClick:function(t){window.location.href="/product/"+t.goodsId+".html"},onCatgClick:function(t){window.location.href=t}});return s},3,4,75,210,24,69,26);!function(t,e){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return e(t)}):e(t,!0)}(this,function(o,N){function t(t,i,e){o.WeixinJSBridge?WeixinJSBridge.invoke(t,S(i),function(i){k(t,i,e)}):g(t,e)}function h(e,i,t){o.WeixinJSBridge?WeixinJSBridge.on(e,function(n){t&&t.trigger&&t.trigger(n),k(e,n,i)}):t?g(e,t):g(e,i)}function S(t){return t=t||{},t.appId=i.appId,t.verifyAppId=i.appId,t.verifySignType="sha1",t.verifyTimestamp=i.timestamp+"",t.verifyNonceStr=i.nonceStr,t.verifySignature=i.signature,t}function A(t){return{timeStamp:t.timestamp+"",nonceStr:t.nonceStr,"package":t["package"],paySign:t.paySign,signType:t.signType||"SHA1"}}function k(o,t,e){var n,s,a;switch(delete t.err_code,delete t.err_desc,delete t.err_detail,n=t.errMsg,n||(n=t.err_msg,delete t.err_msg,n=I(o,n),t.errMsg=n),e=e||{},e._complete&&(e._complete(t),delete e._complete),n=t.errMsg||"",i.debug&&!e.isInnerInvoke&&alert(JSON.stringify(t)),s=n.indexOf(":"),a=n.substring(s+1)){case"ok":e.success&&e.success(t);break;case"cancel":e.cancel&&e.cancel(t);break;default:e.fail&&e.fail(t)}e.complete&&e.complete(t)}function I(o,e){var t,n,i=o,s=f[i];return s&&(i=s),t="ok",e&&(n=e.indexOf(":"),t=e.substring(n+1),"confirm"==t&&(t="ok"),"failed"==t&&(t="fail"),-1!=t.indexOf("failed_")&&(t=t.substring(7)),-1!=t.indexOf("fail_")&&(t=t.substring(5)),t=t.replace(/_/g," "),t=t.toLowerCase(),("access denied"==t||"no permission to execute"==t)&&(t="permission denied"),"config"==i&&"function not exist"==t&&(t="ok"),""==t&&(t="fail")),e=i+":"+t}function x(t){var e,s,o,i;if(t){for(e=0,s=t.length;s>e;++e)o=t[e],i=n[o],i&&(t[e]=i);return t}}function g(e,t){if(!(!i.debug||t&&t.isInnerInvoke)){var n=f[e];n&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function P(){0!=e.preVerifyState&&(C||E||i.debug||"6.0.2">p||e.systemType<0||v||(v=!0,e.appId=i.appId,e.initTime=r.initEndTime-r.initStartTime,e.preVerifyTime=r.preVerifyEndTime-r.preVerifyStartTime,c.getNetworkType({isInnerInvoke:!0,success:function(n){var t,i;e.networkType=n.networkType,t="http://open.weixin.qq.com/sdk/report?v="+e.version+"&o="+e.preVerifyState+"&s="+e.systemType+"&c="+e.clientVersion+"&a="+e.appId+"&n="+e.networkType+"&i="+e.initTime+"&p="+e.preVerifyTime+"&u="+e.url,i=new Image,i.src=t}})))}function u(){return(new Date).getTime()}function T(t){y&&(o.WeixinJSBridge?t():m.addEventListener&&m.addEventListener("WeixinJSBridgeReady",t,!1))}function L(){c.invoke||(c.invoke=function(t,e,i){o.WeixinJSBridge&&WeixinJSBridge.invoke(t,S(e),i)},c.on=function(t,e){o.WeixinJSBridge&&WeixinJSBridge.on(t,e)})}var n,f,m,d,l,w,C,E,y,_,$,p,v,b,r,e,i,s,a,c;if(!o.jWeixin)return n={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},f=function(){var t,e={};for(t in n)e[n[t]]=t;return e}(),m=o.document,d=m.title,l=navigator.userAgent.toLowerCase(),w=navigator.platform.toLowerCase(),C=!(!w.match("mac")&&!w.match("win")),E=-1!=l.indexOf("wxdebugger"),y=-1!=l.indexOf("micromessenger"),_=-1!=l.indexOf("android"),$=-1!=l.indexOf("iphone")||-1!=l.indexOf("ipad"),p=function(){var t=l.match(/micromessenger\/(\d+\.\d+\.\d+)/)||l.match(/micromessenger\/(\d+\.\d+)/);return t?t[1]:""}(),v=!1,b=!1,r={initStartTime:u(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},e={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",preVerifyState:1,systemType:$?1:_?2:-1,clientVersion:p,url:encodeURIComponent(location.href)},i={},s={_completes:[]},a={state:0,data:{}},T(function(){r.initEndTime=u()}),c={config:function(o){i=o,g("config",o);var l=i.check===!1?!1:!0;T(function(){var h,o,c;if(l)t(n.config,{verifyJsApiList:x(i.jsApiList)},function(){s._complete=function(t){r.preVerifyEndTime=u(),a.state=1,a.data=t},s.success=function(){e.preVerifyState=0},s.fail=function(t){s._fail?s._fail(t):a.state=-1};var t=s._completes;return t.push(function(){P()}),s.complete=function(){for(var e=0,i=t.length;i>e;++e)t[e]();s._completes=[]},s}()),r.preVerifyStartTime=u();else{for(a.state=1,h=s._completes,o=0,c=h.length;c>o;++o)h[o]();s._completes=[]}}),i.beta&&L()},ready:function(t){0!=a.state?t():(s._completes.push(t),!y&&i.debug&&t())},error:function(t){"6.0.2">p||b||(b=!0,-1==a.state?t(a.data):s._fail=t)},checkJsApi:function(e){var i=function(n){var t,i,e=n.checkResult;for(t in e)i=f[t],i&&(e[i]=e[t],delete e[t]);return n};t("checkJsApi",{jsApiList:x(e.jsApiList)},function(){return e._complete=function(t){if(_){var e=t.checkResult;e&&(t.checkResult=JSON.parse(e))}t=i(t)},e}())},onMenuShareTimeline:function(e){h(n.onMenuShareTimeline,{complete:function(){t("shareTimeline",{title:e.title||d,desc:e.title||d,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){h(n.onMenuShareAppMessage,{complete:function(){t("sendAppMessage",{title:e.title||d,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){h(n.onMenuShareQQ,{complete:function(){t("shareQQ",{title:e.title||d,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){h(n.onMenuShareWeibo,{complete:function(){t("shareWeiboApp",{title:e.title||d,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){h(n.onMenuShareQZone,{complete:function(){t("shareQZone",{title:e.title||d,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){t("startRecord",{},e)},stopRecord:function(e){t("stopRecord",{},e)},onVoiceRecordEnd:function(t){h("onVoiceRecordEnd",t)},playVoice:function(e){t("playVoice",{localId:e.localId},e)},pauseVoice:function(e){t("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){t("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(t){h("onVoicePlayEnd",t)},uploadVoice:function(e){t("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){t("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){t("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){t("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(t){if(_){var e=t.localIds;e&&(t.localIds=JSON.parse(e))}},e}())},previewImage:function(e){t(n.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){t("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){t("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var i=function(t){var e,i,n,s=t.errMsg;if(t.errMsg="getNetworkType:ok",e=t.subtype,delete t.subtype,e)t.networkType=e;else switch(i=s.indexOf(":"),n=s.substring(i+1)){case"wifi":case"edge":case"wwan":t.networkType=n;break;default:t.errMsg="getNetworkType:fail"}return t};t("getNetworkType",{},function(){return e._complete=function(t){t=i(t)},e}())},openLocation:function(e){t("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},t(n.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(t){delete t.type},e}())},hideOptionMenu:function(e){t("hideOptionMenu",{},e)},showOptionMenu:function(e){t("showOptionMenu",{},e)},closeWindow:function(e){e=e||{},t("closeWindow",{},e)},hideMenuItems:function(e){t("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){t("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){t("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){t("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){e=e||{},t("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){
return e._complete=function(i){var e,t;$&&(e=i.resultStr,e&&(t=JSON.parse(e),i.resultStr=t&&t.scan_code&&t.scan_code.scan_result))},e}())},openProductSpecificView:function(e){t(n.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(i){var e,o,s,a,r=i.cardList,l=[];for(e=0,o=r.length;o>e;++e)s=r[e],a={card_id:s.cardId,card_ext:s.cardExt},l.push(a);t(n.addCard,{card_list:l},function(){return i._complete=function(n){var i,s,t,e=n.card_list;if(e){for(e=JSON.parse(e),i=0,s=e.length;s>i;++i)t=e[i],t.cardId=t.card_id,t.cardExt=t.card_ext,t.isSuccess=t.is_succ?!0:!1,delete t.card_id,delete t.card_ext,delete t.is_succ;n.cardList=e,delete n.card_list}},i}())},chooseCard:function(e){t("chooseCard",{app_id:i.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(t){t.cardList=t.choose_card_info,delete t.choose_card_info},e}())},openCard:function(s){var e,o,i,a,r=s.cardList,l=[];for(e=0,o=r.length;o>e;++e)i=r[e],a={card_id:i.cardId,code:i.code},l.push(a);t(n.openCard,{card_list:l},s)},chooseWXPay:function(e){t(n.chooseWXPay,A(e),e)}},N&&(o.wx=o.jWeixin=c),c;else return void 0});I$(214,'<div class="body">     <ul class="m-cards clearfix">         {{#list cards as item}}             <li r-class="{\'card\':item_index != 4,\'blank\':item_index==4, \'turnover\':item.turnover, \'shuffle\':item.shuffle}" cardIndex={{item_index}} on-click={{this.reqPlay(item, item_index)}}>                 {{#if item_index != 4}}                 <div class="front">                     <img src="{{item.imgUrl}}" width="100%" alt="翻牌奖品图" />                 </div>                 <div class="back"></div>                 {{/if}}             </li>         {{/list}}         <li r-class="{\'btn\':true, \'disabled1\':StateServ.hasShuffle() || StateServ.hasSharedAct() || StateServ.outOfTimes()}" on-click={{this.onBtnClick()}}>             <div class="table">                 <div class="cell">                     {{#if StateServ.notLogin()}}                         <span class="btntxt">开始<br/>翻牌</span>                     {{#elseif StateServ.notPlayToday()}}                         <span class="btntxt">开始<br/>翻牌</span>                         <p class="s-fs-12 s-fw-normal">还有{{leftCount}}次机会</p>                     {{#elseif StateServ.hasShuffle() }}                         <p>赐我<br />好运</p>                         <p class="s-fs-12 s-fw-normal">你还有{{leftCount}}次机会</p>                     {{#elseif StateServ.canPlayAgain()}}                         <span class="btntxt">                             分享给<br />小伙伴                         </span>                         <p class="s-fs-12 s-fw-normal">再得1次机会</p>                     {{#elseif StateServ.hasSharedAct()}}                         <p>赐我<br />好运</p>                         <p class="s-fs-12 s-fw-normal">你还有{{leftCount}}次机会</p>                     {{#elseif StateServ.outOfTimes()}}                         明天再<br/>来吧！                     {{/if}}                 </div>             </div>         </li>     </ul>      {{#if !shared && !StateServ.notLogin() }}         <div class="u-sharebtn10 s-fs-16 s-fc-f" on-click="{{this.shareAct(true)}}">             分享给小伙伴<br>             <span class="s-fs-12">再得1次翻牌机会</span>         </div>     {{#else}}          <div class="u-sharebtn11 s-fs-16 s-fc-f" on-click={{this.shareAct(true)}}>             分享给小伙伴<br>         </div>     {{/if}} </div> <broadcast list={{broadcastList}}></broadcast>');I$(223,'<div class="m-modal s-fs-14 s-fc-3">     {{#include message}}     <a class="u-btn10" on-click={{this.confirm()}}>{{btntxt}}</a>     <div on-click={{this.hide()}} class="u-close10"></div> </div>');I$(215,function(n,s,o,t,e,a){var i=e.extend({content:t,config:function(t){},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()},hide:function(t){this.destroy()},close:function(){}});return i},75,4,3,223,197);I$(224,'<div class="m-modal s-fs-14 s-fc-3" animate>     <h3 class="s-fw-bold">恭喜！翻到如下奖品</h3>     {{#if GIFTTYPE.COUPON_10.indexOf(gift.type) != -1}}         <div class="coupon10"></div>     {{#elseif GIFTTYPE.KAOLAPOINT.indexOf(gift.type) != -1}}         <div class="kaolapoint">             <span class="pointicon"></span><br/>             <span class="s-fc-red">{{gift.price}}</span>考拉豆         </div>     {{#elseif GIFTTYPE.COUPON_300.indexOf(gift.type) != -1}}         <div class="coupon300"></div>     {{#elseif GIFTTYPE.GOODS_COUPON.indexOf(gift.type) != -1}}         <div class="couponwrap">             <div class="couponbg s-fs-26 s-fc-f f-tal">                 <span class="s-fs-12">￥</span>{{gift.price}}             </div>         </div>         <p class="s-fs-12 s-fc-9 f-tal ruletip1">             使用此券可以抵用如下商品，<br/>             此券7天内有效         </p>         <div class="goodsImg">             <img src="{{gift.goodsImg}}" alt="商品图片" width="85px" height="85px" />             <div class="goodsPrice s-fs-12 s-fc-0">                 券后<br/>￥<span class="price">{{gift.goodsPrice}}</span>             </div>         </div>         <p class="title f-ellipsis">{{gift.shortTitle}}</p>         <a href="/product/{{gift.goodsId}}.html" class="link">立即购买&gt;</a>     {{#elseif GIFTTYPE.GOODS_FREE.indexOf(gift.type) != -1}}         <div class="goodsImg">             <img src="{{gift.goodsImg}}" alt="商品图片" width="85px" height="85px" />             <div class="freeprice s-fs-14 s-fc-0">                 免费             </div>         </div>         <input type="tel" class="numinput" placeholder="请输入手机号" r-model={{mobile}} />         <p class="ruletip3 s-fc-9 s-fs-12">客服会在24小时内联系你</p>     {{/if}}     <a class="u-btn10" on-click={{this.confirm()}}>         {{#if GIFTTYPE.GOODS_FREE.indexOf(gift.type) != -1}}             确定         {{#else}}             {{btntxt}}         {{/if}}     </a>     {{#if GIFTTYPE.GOODS_FREE.indexOf(gift.type) == -1 }}         <div on-click={{this.hide()}} class="u-close10"></div>     {{/if}} </div>');I$(216,function(n,s,o,t,e,a){var i=e.extend({content:t,config:function(t){},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data)},hide:function(t){this.destroy()},close:function(){}});return i},75,4,3,224,197);I$(225,'<div class="m-modal s-fs-14 s-fc-3">     {{#include message}}     <a class="u-btn10" href={{url}}>{{btntxt}}</a> </div>');I$(217,function(n,s,o,t,e,a){var i=e.extend({content:t,config:function(t){},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()},hide:function(t){this.destroy()},close:function(){}});return i},75,4,3,225,197);I$(226,'<div class="m-broadcast">     <h2 class="s-fs-16 s-fw-bold f-tac">实时播报</h2>     <div class="wrap">         <ul scroll class="s-fs-12 scrollview">         {{#list list as item}}             <li class="item f-tac"><span class="txt"><span class="account f-ellipsis f-tar">{{item.accountId}}</span>刚刚中了<span class="desc f-ellipsis f-tal">{{item.giftDesc}}</span></span></li>         {{/list}}          </ul>     </div> </div>');I$(218,function(s,t,o,i,n){var e=n.extend({name:"broadcast",template:i,config:function(t){t.list=t.list||[];this.supr(t)}});e.directive("scroll",function(e){this.$watch("list.length",function(i){if(i>6){e.addEventListener("transitionend",function(){t._$delClassName(e,"scroll");var i=this.data.list;i.push(i.splice(0,1)[0]);this.$update()}._$bind(this));setInterval(function(){t._$addClassName(e,"scroll")},4e3)}})});return e},75,4,3,226,24);I$(220,function(i,n,s,o){var t={USER_NOTLOGIN:0,HAS_NOTPLAY_TODAY:1,SHUFFLE_DONE:2,CAN_PLAY_AGAIN:3,HAS_SHARE_ACT:4,HAS_PLAY_TWICE:5},e={state:2,init:function(n){{var i=0,e=n.body.turnCardMainPage;n.code}if(!e.isLogin)i=t.USER_NOTLOGIN;else if(e.userSurplusChanceCount>=1&&!e.isShuffleTheCards&&!e.userTodayReceiveCardList)i=t.HAS_NOTPLAY_TODAY;else if(e.userSurplusChanceCount>=1&&e.isShuffleTheCards&&!e.userTodayReceiveCardList)i=t.SHUFFLE_DONE;else if(e.userSurplusChanceCount>=1&&e.userTodayReceiveCardList)i=t.HAS_SHARE_ACT;else if(e.userSurplusChanceCount<1&&!e.isUserShareTurnCardActivity)i=t.CAN_PLAY_AGAIN;else if(e.userSurplusChanceCount<1&&e.isUserShareTurnCardActivity)i=t.HAS_PLAY_TWICE;this.state=i},getState:function(){return this.state},notLogin:function(){return this.state==t.USER_NOTLOGIN},notPlayToday:function(){return this.state==t.HAS_NOTPLAY_TODAY},hasShuffle:function(){return this.state==t.SHUFFLE_DONE},hasSharedAct:function(){return this.state==t.HAS_SHARE_ACT},canPlayAgain:function(){return this.state==t.CAN_PLAY_AGAIN},outOfTimes:function(){return this.state==t.HAS_PLAY_TWICE},notShuffleYet:function(){return this.state<t.SHUFFLE_DONE},hasPlayed:function(){return this.canPlayAgain()||this.outOfTimes()},update:function(i){var e=this.state;if(e==t.HAS_NOTPLAY_TODAY)this.state=t.SHUFFLE_DONE;else if(e==t.SHUFFLE_DONE)if(i>0)this.state=t.HAS_SHARE_ACT;else this.state=t.CAN_PLAY_AGAIN;else if(e==t.CAN_PLAY_AGAIN)this.state=t.HAS_SHARE_ACT;else if(e==t.HAS_SHARE_ACT)this.state=t.HAS_PLAY_TWICE}};return e},4,3,26,75);I$(227,function(i,t,n,s){var e=Regular.extend({data:{url:"/wxConfig.html",isDebug:!0,isReady:!1,shareTitle:"",shareContent:"",shareImgUrl:"",shareUrl:"",successCallback:null,cancelCallback:null,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","showMenuItems"]},config:function(t){},init:function(){var e=this;t(this.data.url,{data:{url:location.href},method:"get",type:"json",onload:function(t){e.__initWxConfig(t)},onerror:function(t){}})},__initWxConfig:function(t){if(t.body){wx.config({debug:this.data.isDebug,appId:t.body.appId,timestamp:t.body.timestamp,nonceStr:t.body.nonceStr,signature:t.body.signature,jsApiList:this.data.jsApiList});wx.ready(function(){wx.hideOptionMenu();wx.showMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:timeline"]});this.addShareEvents();this.data.isReady=!0;this.$emit("apiIsReady")}.bind(this));

}},isApiReady:function(){return this.data.isReady},addShareEvents:function(){var t=this.data,e=this;wx.onMenuShareTimeline({title:t.timeLineTitle?t.timeLineTitle:t.shareTitle,link:t.shareUrl,imgUrl:t.shareImgUrl,success:function(){t.successCallback&&t.successCallback();e.$emit("shareResult",{result:!0,channel:"timeline"})},cancel:function(){t.cancelCallback&&t.cancelCallback();e.$emit("shareResult",{result:!1,channel:"timeline"})}});wx.onMenuShareAppMessage({title:t.shareTitle,desc:t.shareContent,link:t.shareUrl,imgUrl:t.shareImgUrl,type:"",dataUrl:"",success:function(){t.successCallback&&t.successCallback();e.$emit("shareResult",{result:!0,channel:"appMessage"})},cancel:function(){t.cancelCallback&&t.cancelCallback();e.$emit("shareResult",{result:!1,channel:"appMessage"})}})},setShareData:function(i){for(var n=this.data,e=["shareTitle","shareContent","timeLineTitle","shareImgUrl","shareUrl"],t=0;t<e.length;t++)if(void 0!=i[e[t]])n[e[t]]=i[e[t]];this.addShareEvents()}});return e},66,69,26,75,179);I$(228,function(i,o,n,s){var t,e=i._$klass();t=e._$extend(n._$$EventTarget);t.__reset=function(t){this.__super(t);var e=navigator.userAgent.toLowerCase();if(e.match(/yixin/i)){this.__shareData={};this.__jsbridgeReady=!1;document.addEventListener("YixinJSBridgeReady",function(){this.__NJ=YixinJSBridge;if(this.__NJ){this.__jsbridgeReady=!0;this.__initShareEvents();this._$dispatchEvent("onready")}}._$bind(this))}};t.__init=function(){this.__super()};t._$setShareData=function(t){if(t&&t.imgUrl){this.__shareData=s.extend({},t);window.shareData=t}};t.__initShareEvents=function(){this.__NJ.on("menu:share:appmessage",function(t){this.__NJ.invoke("sendAppMessage",{img_url:this.__shareData.imgUrl,link:this.__shareData.sendFriendLink,desc:this.__shareData.fContent,title:this.__shareData.fTitle},function(t){this._$dispatchEvent("onshareChannelClick",{channel:"appmessage"})}._$bind(this))}._$bind(this));this.__NJ.on("menu:share:timeline",function(t){this.__NJ.invoke("shareTimeline",{img_url:this.__shareData.imgUrl,link:this.__shareData.timeLineLink,desc:this.__shareData.tContent,title:this.__shareData.tTitle},function(t){this._$dispatchEvent("onshareChannelClick",{channel:"timeline"})}._$bind(this))}._$bind(this))};t.__afterReady=function(t,e){if(this.__jsbridgeReady)t.apply(e);else{var i=function(){t.apply(e);setTimeout(function(){this._$delEvent("onready",i)}._$bind(this),100)};this._$addEvent("onready",i)}};return function(){var t;return function(){if(!t)t=e._$allocate();return t}}()},1,2,21,75);I$(222,function(i,a,n,r,s,o){var t,e=i._$klass();t=e._$extend(n._$$EventTarget);t.__reset=function(i){this.__super(i);var t=navigator.userAgent.toLowerCase();if(t.match(/yixin|micromessenger/i)){this.__platform=t.match(/yixin|micromessenger/i)[0];var e=this.__getDefaultShareData();if("micromessenger"===this.__platform){this.__wx=new s({data:{isDebug:!1,shareTitle:"",shareContent:"",timeLineTitle:"",shareImgUrl:"",shareUrl:""}});this.__setWeixinShareData(e)}else if("yixin"===this.__platform){this.__yx=o();this.__setYixinShareData(e)}}};t.__init=function(){this.__super()};t.__getDefaultShareData=function(){var e=document.URL,i="今天在传说中最靠谱的网易考拉海购发现了一件不错的东东!",t=window.shareConfig;if(t&&t.img_url)return t;else return{img_url:"http://haitao.nos.netease.com/87299fe51d0a4d43a6befd89c8ff1cc5.jpg?imageView&thumbnail=400x0",link:e,desc:i,title:document.title,wbpost:i+" "+e+" @网易考拉海购"}};t._$openShare=function(t,e,i){t=t||{};if("micromessenger"===this.__platform)this.__openWeixinShare(t,e,i);else if("yixin"===this.__platform)this.__openYixinShare(t,e,i)};t.__openYixinShare=function(e,i,t){this.__setYixinShareData(e);this.__yx._$delEvent("onshareChannelClick");if(t)this.__yx._$addEvent("onshareChannelClick",function(i){var e=i||{};e.shareApp="yixin";t(e)})};t.__setYixinShareData=function(t){this.__yx._$setShareData({imgUrl:t.img_url,tImgUrl:t.img_url,fImgUrl:t.img_url,wImgUrl:t.img_url,timeLineLink:t.link,sendFriendLink:t.link,weiboLink:t.link,tTitle:t.timeLineTitle||t.title,tContent:t.desc,fTitle:t.title,fContent:t.desc,wContent:t.wbpost})};t.__openWeixinShare=function(e,t,i){this.__setWeixinShareData(e);this.__wx.$off("shareResult");if(t)this.__wx.$on("shareResult",function(i){var e=i||{};e.shareApp="weixin";t(e)})};t.__setWeixinShareData=function(t){this.__wx.setShareData({shareTitle:t.title,shareContent:t.desc,timeLineTitle:t.timeLineTitle||t.desc,shareImgUrl:t.img_url,shareUrl:t.link})};return function(){var t;return function(){if(!t)t=e._$allocate();return t}}()},1,2,21,75,227,228);I$(219,function(t,o,e,i,n,s,a){var r={timerId:null,share:function(t,e){if(window.__isKaolaApp)this.shareActInKaola(t,e);else this.shareAct(t,e)},shareAct:function(h,s){var r=navigator.userAgent,i=t._$get("mask");o._$addEvent(i,"click",function(){t._$addClassName(i,"f-dn")});var l=this.__prepare(h);if(r.match(/MicroMessenger/i)||r.match(/YiXin/i)){t._$delClassName(i,"f-dn");var c=a();c._$openShare(l);document.title=l.desc;this.__reqShare();if(!n.notLogin()){if(this.timerId)return;this.timerId=setTimeout(function(){s&&s()},1e4)}}else e.show({message:"亲爱哒，只能在微信、考拉、易信内分享哦~",singleMsg:!0})},__reqShare:function(t){var e="/turncard/share.html",i={data:{isAsync:t||!1},onload:function(t){}};s._$request(e,i)},__cancalShare:function(i){var t="/turncard/cancelshare.html",e={data:{isAsync:!1},onload:function(t){}};s._$request(t,e)},init:function(t){},__prepare:function(e){var t={title:"考拉翻牌100%中奖",desc:"我在考拉翻牌拿到了神秘大奖，100%中奖，一起来玩吧"};if(e&&e.desc)t.desc=e.desc;t.link="http://m.kaola.com/activity/h5/6982.html";t.wbpost=t.desc+t.link+" @网易考拉海购";t.img_url="http://haitao.nos.netease.com/b88d0a37d4974002a88fd565f9248631.jpg";return t},isRefreshNeeded:function(){var t=(new Date).getTime();return window.__isKaolaApp&&this.timerId&&t-this.timerId>12e4},shareActInKaola:function(s,t){if(!n.notLogin()){var o=this.__prepare(s);if(i.isOldApp(12,10400))e.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge){this.__reqShare(!0);WeixinJSBridge.invoke("shareKaolaAppMessage",o,function(e){if(!e.share_result||"false"===e.share_result)this.__cancalShare();else{this.__reqShare(!1);t&&t()}this.timerId=null}._$bind(this));var a=(new Date).getTime();this.timerId=a}}else i.toLogin()}};return r},4,3,26,75,220,33,222);I$(221,function(i,n,s,o,t){var e={parseQrCode:function(){var e=window.location.search.split(""),i="";if(e.length){e[0]="";var n=t._$query2object(e.join(""));if(n.qrcode)i=n.qrcode}return i}};return e},4,3,26,75,2);I$(212,function(e,p,h,l,i,n,a,u,r,_,o,t,c,d){var s=h.extend({template:l,config:function(e){e.GIFTTYPE={COUPON_10:[1],KAOLAPOINT:[2,3,4],COUPON_300:[5],GOODS_COUPON:[6,7],GOODS_FREE:[8]};e.StateServ=t;e.lastGift=null;e.shared=!1;var i=this.initCards();this.parseCardList(i);this.onPageLoad();this.supr(e)},init:function(){d()},removeMask:function(){var t=e._$get("loadMask");e._$addClassName(t,"hide");setTimeout(function(){t.parentNode.removeChild(t)},450)},initCards:function(){for(var t=[],i={imgUrl:"http://haitao.nos.netease.com/98cae1b346194f959ebe0ec4ca77c9d1.png"},e=0;8>e;e++)t.push(JSON.parse(JSON.stringify(i)));return t},onPageLoad:function(){var n=c.parseQrCode(),s=n?{qrcode:n}:{};if(n)window._dapush&&window._dapush("_trackEvent","fanpai","share_pc","weixin",{userAccount:window.userId,userId:window.userId});var o="/turncard/enter.html",a={data:s,type:"json",onload:function(o){var s=this.data,n=o.body.turnCardMainPage,a=o.code;if(!n||!n.gotoUrlWhenActivityFinished){if(200==a){s.runout=!n.isHasPrizeSurplus;s.shared=n.isUserShareTurnCardActivity;s.leftCount=n.userSurplusChanceCount;s.broadcastList=n.realTimePlay||[];t.init(o);if(n.isShuffleTheCards)this.parseTurnedCardList(n.userTodayReceiveCardList||[]);else this.parseCardList(n.cardList)}else i.show({message:"玩的人太多，请稍后再试",singleMsg:!0});setTimeout(function(){this.removeMask()}._$bind(this),500)}else{var l=n.gotoUrlWhenActivityFinished;new r({data:{btntxt:"去主会场逛逛吧!",message:'<p class="message">啊哦~活动过期啦~</p>',url:l}}).$inject(e._$get("modal"))}}._$bind(this)};this.$request(o,a)},parseCardList:function(e){e.splice(4,0,{});e.map(function(e){e.shuffle=!1;e.turnover=t.notShuffleYet()});this.data.cards=e},parseTurnedCardList:function(e){var i=this.data.cards,t=null,s=[];e.map(function(o){var a=o.position||0,e=i[a];e.turnover=!0;s.push(a);n.extend(e,o,!0);t=e});this.data.lastGift=t;this.$update()},onBtnClick:function(){if(t.notLogin())n.toLogin();else if(this.data.runout){var e='<p class="s-fw-bold message">抱歉~今天的奖品送<br/>完了~<br/><span class="s-fs-12">活动时间：1.15~1.17</span></p><span class="kaola10"></span>';this.showFailWin(e,"我知道了")}else if(t.notPlayToday()){window._dapush&&window._dapush("_trackEvent","fanpai","click_app","start_btn",{userAccount:window.userId,userId:window.userId});this.reqShuffle()}else if(t.hasShuffle()||t.hasSharedAct())i.show({message:"选择你要的牌",singleMsg:!0});else if(t.canPlayAgain())this.shareAct(!0);else if(t.outOfTimes())this.showFailWin('<p class="s-fw-bold message f-tal">今天的翻牌机会已经<br/>用完了！明天再来吧~</p><p class="ruletip s-fs-12">2016.1.15-2016.1.17<br/>每天<span class="s-fc-red">&nbsp;1&nbsp;</span>次翻牌机会<br/>分享给好友再翻<span class="s-fc-red">1</span>次</p>',"分享给小伙伴")},reqShuffle:function(){var t="/turncard/shuffle.html",e={data:{},type:"json",onload:function(t){if(200==t.code&&t.body.canShuffle)this.shuffle()}._$bind(this)};this.$request(t,e)},shuffle:function(){var t=this.data.cards;t.map(function(t){t.turnover=!1});setTimeout(function(){t.map(function(t){t.shuffle=!0});this.$update()}._$bind(this),1e3);setTimeout(function(){this.updateState()}._$bind(this),2e3)},reqPlay:function(e,a){if(4!=a)if(!o.isRefreshNeeded()){var s=this.data;if(!e.turnover||-1==s.GIFTTYPE.GOODS_COUPON.indexOf(e.type)){if(!e.turnover&&!t.notShuffleYet())if(!s.runout)if(s.leftCount||!s.shared){var r="/turncard/luckdraw.html",l={data:{position:a},onload:function(o){var s=o.body?o.body.luckDraw:{};if(200==o.code&&s&&200==s.code){n.extend(e,s.card,!0);this.turnover(e);setTimeout(function(){this.showGiftWin(s.card||{});if(this.data.leftCount>0)this.data.leftCount--;

this.updateState()}._$bind(this),1e3)}else if(1003==s.code&&t.outOfTimes()){this.data.leftCount=0;this.showFailWin('<p class="s-fw-bold message f-tal">今天的翻牌机会已经<br/>用完了！明天再来吧~</p><p class="ruletip s-fs-12">2016.1.15-2016.1.17<br/>每天<span class="s-fc-red">&nbsp;1&nbsp;</span>次翻牌机会<br/>分享给好友再翻<span class="s-fc-red">1</span>次</p>',"分享给小伙伴")}else if(1003==s.code){this.data.leftCount=0;this.showFailWin('<p class="message f-tal">啊哦，暂时不能翻牌~ <br/>分享再得<span class="s-fc-red">1</span>次翻牌机会!</p>',"分享再翻1次")}else i.show({message:"玩的人太多，请稍后再试",singleMsg:!0})}._$bind(this)};this.$request(r,l)}else{var h='<p class="s-fw-bold message f-tal">今天的翻牌机会已经<br/>用完了！明天再来吧~</p><p class="ruletip s-fs-12">2016.1.15-2016.1.17<br/>每天<span class="s-fc-red">&nbsp;1&nbsp;</span>次翻牌机会<br/>分享给好友再翻<span class="s-fc-red">1</span>次</p>';this.showFailWin(h,"分享给小伙伴")}else{var c='<p class="s-fw-bold message">抱歉~今天的奖品送<br/>完了~<br/><span class="s-fs-12">活动时间：1.15~1.17</span></p><span class="kaola10"></span>';this.showFailWin(c,"我知道了")}}else window.location.href="/product/"+e.goodsId+".html"}else window.location.href=window.location.href},showFailWin:function(t,e){this.notify(t,e)},notify:function(i,t){var n=new a({data:{message:i,btntxt:t}}).$inject(e._$get("modal"));if("我知道了"!=t)n.$on("confirm",function(){this.shareAct()}._$bind(this))},showGiftWin:function(n){var s=this.data,t=new u({data:{gift:n,GIFTTYPE:s.GIFTTYPE,btntxt:s.shared?"立即炫耀":"分享再翻1次"}}).$inject(e._$get("modal"));if(-1!=s.GIFTTYPE.GOODS_FREE.indexOf(n.type))t.$on("confirm",function(n){var e=n.mobile;if(!/^[1][3578][0-9]{9}$/.test(e))i.show({message:"请正确填入11位手机号",singleMsg:!0});else this.sendMobileNum(e,function(){var e=this.data,i='<p class="s-fw-bold message">快来炫一下超级大奖吧！</p><span class="kaola11"></span>',n=e.shared?"立即炫耀":"分享再翻1次";this.notify(i,n);t.destroy()}._$bind(this))}._$bind(this));else t.$on("confirm",function(){this.shareAct();t.destroy()}._$bind(this));this.data.lastGift=n},turnover:function(t){t.shuffle=!1;setTimeout(function(){t.turnover=!0;this.$update()}._$bind(this),300)},sendMobileNum:function(e,t){var n="/turncard/mobile.html",s={data:{mobile:e},onload:function(e){if(200==e.code)t&&t();else i.show({message:"网络错误， 请重试~",singleMsg:!0})}};this.$request(n,s)},updateState:function(){if(t.canPlayAgain())this.data.shared=!0;t.update(this.data.leftCount);this.$update()},updateLeftCount:function(){var e=this.data.leftCount;if(2>e&&!this.data.shared){i.show("获得1次翻牌机会");this.data.leftCount++;if(t.canPlayAgain())this.updateState();this.$update()}this.data.shared=!0},shareAct:function(t){var e=this.data.lastGift;window._dapush&&window._dapush("_trackEvent","fanpai","share_app",t?"home":"window",{userAccount:window.userId,userId:window.userId});o.share(e,function(){this.updateLeftCount()}._$bind(this))}});s.directive("cardIndex",function(i,n){var t=this.$get(n)||0;if(4>t)e._$addClassName(i,"card-"+(t+1));else if(t>4)e._$addClassName(i,"card-"+t)});return s},4,3,24,214,26,75,215,216,217,218,219,220,221,222);I$(236,function(h,c,g,a,n,o,r,e,l,i,m,d,u,p,_,f,s,v,y,b,t){s._$$Tpl=h._$klass();t=s._$$Tpl._$extend(c._$$EventTarget);t.__init=function(t){this.__supInit(t);this.__setLazyload();this.__tabs=e(".js-navbox");this.__tabs._$forEach(function(t,e){u._$allocate({tabbar:t})}._$bind(this));this.__myFavorite=n._$get("myFavorites");this.__setAdImgOfItemBlock();this.__setBrandDescToggle();this.__appbridge=_();this.__appbridge._$addEvent("ondefaultMenuShareResult",function(t){alert("defaultMenuShareResult:"+JSON.stringify(t))});this.__appbridge._$addEvent("ondefaultMenuShareChannel",function(t){alert("defaultMenuShareChannel:"+JSON.stringify(t))});this.__addEvent();setTimeout(function(){this.__removeParamFromCouponUrl();if(window.__kaolaNavEnt&&window.__kaolaNavEnt.length){var t=new d({data:{rawList:__kaolaNavEnt}});t.$inject(document.body)}else m._$create(document.body);this.__slides=e(".m-slide");this.__slides._$forEach(function(e,i){var t=e.parentNode.querySelectorAll(".imgpagebox li");r._$allocate({box:e,loop:!0,auto:!0,width:document.body.clientWidth,scrollTime:300,slideInterval:3e3,callback:function(i){for(var e=t.length-1;e>=0;e--){if("active"===t[e].className&&e!==i)t[e].className="";if("active"!==t[e].className&&e===i)t[e].className="active"}}})});this.__brandWalls=e(".m-brand-wall .slide-scroll");this.__brandWalls._$forEach(function(e,i){var t=e.parentNode.querySelectorAll(".imgpagebox li");r._$allocate({box:e,loop:!1,auto:!1,width:document.body.clientWidth,scrollTime:300,callback:function(i){for(var e=t.length-1;e>=0;e--){if("active"===t[e].className&&e!==i)t[e].className="";if("active"!==t[e].className&&e===i)t[e].className="active"}}})})}._$bind(this),300)};t.__addEvent=function(){var t="onorientationchange"in window,i=t?"orientationchange":"resize";window.addEventListener(i,function(t){setTimeout(function(){this.__setAdImgOfItemBlock()}._$bind(this),200)}._$bind(this));a._$addEvent("box","click",this.__onBoxClick._$bind(this));var n=e(".m-qa-select,.m-qa-pk");n._$on("click","dd,.btn",this.__onPollOptClick);e(".m-share .icon")._$on("click",this.__onShareBtnClick._$bind(this));e(".j-sendCard img")._$on("click",this.__onWarmCardShareBtnClick._$bind(this));e("button#login")._$on("click",this.__loginTestBtnClick._$bind(this));e("button#submitorder")._$on("click",this.__submitTestBtnClick._$bind(this));e("button#closewebview")._$on("click",this.__closeWebviewClick._$bind(this));e("button#shareopt")._$on("click",this.__shareOptClick._$bind(this))};t.__onBoxClick=function(i){var e,t=a._$getElement(i);e=n._$dataset(t,"gid");if(n._$hasClassName(t,"js-favor")&&!n._$hasClassName(t,"z-favored"))if(!isLogin)location.href="/login.html?target="+encodeURIComponent(location.href);else this.__doFavorite({goodsId:e},t)};t.__doFavorite=function(t,e){t=t||{};t.status=1;l("/activity/h5/goods/favor.html",{data:t,method:"POST",type:"json",norest:!0,onload:function(t){if(461!=t.retcode)if(200==t.retcode||491==t.retcode)alert("已经用收藏功能确认登陆好了");else i.show({message:t.retdesc||"请求出错，请稍后再试！",singleMsg:!0});else alert("没有登陆成功")},onerror:function(t){i.show({message:t||"请求出错，请稍后再试！",singleMsg:!0})}})};t._$plus=function(){n._$addClassName(this.__myFavorite,"z-plus");setTimeout(function(){n._$addClassName(this.__myFavorite,"z-hide");n._$delClassName(this.__myFavorite,"z-plus");setTimeout(function(){n._$delClassName(this.__myFavorite,"z-hide")}._$bind(this),1500)}._$bind(this),1500)};t.__setLazyload=function(){function t(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")}function i(e){for(var t=e;t&&"body"!=t.tagName.toLowerCase();){if(s.test(t.className))return t;t=t.parentNode}return null}function n(n){var t=i(n.target);if(t&&e.test(t.className))t.className=t.className.replace(e," ");n.target.onload=n.target.onerror=null}var e=t("m-img-block-loading"),s=t("m-block"),o=t("u-item-img"),a=t("j-ignorlazy");p._$$LazyImg._$allocate({attr:"src",tolerance:5,preloadDist:"auto",fadeIn:!0,container:document.querySelector("#box"),onremove:function(t){t.stopped=!0},oncheck:function(t){if(a.test(t.target))t.value=2},onappend:function(t){if(!o.test(t.target.className))t.target.onload=t.target.onerror=n}})};t.__removeParamFromCouponUrl=function(){var n,t,e=document.querySelectorAll('a[href^="http://www.kaola.com/app/coupon/"]'),s=/https?:\/\/(www|m)\.kaola\.com\/app\/coupon\/[^\/]+\.html\?/;if(e&&e.length)for(var i=e.length-1;i>=0;i--){t=null;n=e[i].getAttribute("href");if(s.test(n)){t=n.split("?");if(t&&t.length)e[i].setAttribute("href",t[0])}}};t.__setAdImgOfItemBlock=function(){var t=document.querySelectorAll(".m-avg2item-lst");Array.prototype.forEach.call(t,function(n){var i,e,s,o=n.querySelector(".m-2avg-item"),t=n.querySelectorAll(".m-2avg-img .ad");if(o){if(t&&t.length)i=o.getBoundingClientRect().height}else if(t&&t.length){i=t[0].getBoundingClientRect().width*(parseFloat(t[0].getAttribute("data-imgh"))||0)/(parseFloat(t[0].getAttribute("data-imgw"))||1);s=!0}for(e=0;e<t.length;e++){if(s)t[e].parentNode.style.height=i+"px";t[e].parentNode.style.height=i+"px"}})};t.__setBrandDescToggle=function(){function n(t){if(s.test(this.className))this.className=this.className.replace("open","fold");else if(o.test(this.className))this.className=this.className.replace("fold","open")}var t=document.querySelectorAll(".m-brand-head .descwrap");if(t&&t.length)for(var i,s=new RegExp("(\\s|^)open(\\s|$)"),o=new RegExp("(\\s|^)fold(\\s|$)"),e=t.length-1;e>=0;e--){i=t[e].querySelector(".desc");if(i.clientHeight<i.scrollHeight){t[e].className+=" open";t[e].addEventListener("click",n)}}};t.__onShareBtnClick=function(t){if(o.isOldApp(12,10400))i.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge)WeixinJSBridge.invoke("shareKaolaAppMessage",window.shareConfig||null,function(t){if(t.share_result);else;})};t.__onWarmCardShareBtnClick=function(e){if(o.isOldApp(12,10400))i.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge){var t=o.extend({},window.shareConfig),n=e.target.parentNode.getAttribute("data-warmcard");t.imgOnlyUrlList=[n];WeixinJSBridge.invoke("shareKaolaAppMessage",t,function(t){})}};t.__onPollOptClick=function(p){function c(){t._$addClassName("selected");a._$addClassName("my");if(t._$hasClassName("m-qa-pk")){t._$addClassName("selected-"+("0"===o?"l":"r"));var e=0;n=t._$children(".text .num",!0);n._$forEach(function(i,n){var t=parseFloat(i.getAttribute("data-poll"))||0;if(i.getAttribute("data-idx")===o){t++;i.innerText=t;i.setAttribute("data-poll",t)}s+=t;if(1===n)e=t});setTimeout(function(){t._$children(".bar i",!0)._$style("width",Math.round(e/s*1e3)/10+"%")},20)}else if(t._$hasClassName("m-qa-select")){n=t._$children("dd",!0);n._$forEach(function(e,i){var t=parseFloat(e.getAttribute("data-poll"))||0;if(e.getAttribute("data-idx")===o){t++;e.setAttribute("data-poll",t)}s+=t;r+=0>=t?0:1});var i=0;setTimeout(function(){n._$forEach(function(e,o){var n=parseFloat(e.getAttribute("data-poll"))||0,t=0;if(n>0){r--;if(0===r)t=100-i;else{t=Math.floor(100*n/s);i+=t}}e.querySelector(".rect").style.width=t+"%";e.querySelector(".ct").innerText=t+"%"})},20);

t[0].querySelector(".count b").innerText=s}}var n,a=e(this),t=a._$parent(".m-qa-pk, .m-qa-select",!0),h=t._$parent(".m-block",!0)._$attr("data-block"),o=a._$attr("data-idx"),s=0,r=0,u=t._$hasClassName("m-qa-pk")?"pk":"poll",d="pk"===u?"支持":"投票";if(!t._$hasClassName("selected")&&!t._$hasClassName("js-working")){t._$addClassName("js-working");setTimeout(function(){t._$delClassName("js-working")},3e3);i.show(d+"成功！");c();l("/activity/h5/poll.html",{data:{pollKey:__klActivityShowId+"_"+h,optionIndex:o},method:"POST",norest:!0,type:"json",onload:function(t){if(t&&200==t.code);else{i.clear();setTimeout(function(){i.show("网络连接错误")},1e3)}},onerror:function(t){i.clear();setTimeout(function(){i.show("网络连接错误")},1e3)}})}};t.__loginTestBtnClick=function(t){t.preventDefault();{var e=this;this.__appbridge}f.toLogin("",function(i,t){alert("logged status:"+i);if(t&&t.account)document.querySelector("#username").value=t.account;if(i)e.__doFavorite({goodsId:5021},null)})};t.__submitTestBtnClick=function(t){t.preventDefault();var e=this.__appbridge,i={goods:[{goodsId:parseFloat(document.querySelector("#goodsId").value)||0,innerSource:"DETAIL",selected:"1",skuId:document.querySelector("#skuId").value,tempBuyAmount:parseFloat(document.querySelector("#qty").value)||0,tempCurrentPrice:parseFloat(document.querySelector("#price").value)||0,tempGoodsActivityType:null}],type:"",s:"2"};e._$openOrderConfirm(i,function(t){alert("pay_result: "+(t.pay_result?"支付成功":"支付失败或取消"))})};t.__closeWebviewClick=function(t){t.preventDefault();var e=this.__appbridge;e._$closeWebviewWindow()};t.__shareOptClick=function(i){i.preventDefault();var n=this.__appbridge,e=parseInt(document.querySelector("#shareselect").value,10),s=document.querySelector("#shareurl").value,t={img_url:"http://haitao.nosdn2.127.net/ii8mxeca52_800_800.jpg?imageView&thumbnail=400x0&quality=85",link:s,desc:"分享测试，看看点击了哪个分享渠道",title:document.title,wbpost:"分享测试，看看点击了哪个分享渠道  @网易考拉海购"};if(1===e){{Math.floor(2*Math.random())}t.imgOnlyUrlList=["http://haitao.nosdn2.127.net/ii8mxeca52_800_800.jpg","http://haitao.nosdn4.127.net/testief1495s10001.jpg"]}else if(2===e){t.share_type=2;t.imgOnlyUrlList=["http://haitao.nosdn4.127.net/testief1495s10001.jpg"];t.share_textlist=["图+二维码模板1 的第一行文字","图+二维码模板1 的第二行文字，的第二行文字3，的第二行文字4，的第二行文字5"]}else if(3===e){t.share_type=3;t.imgOnlyUrlList=["http://haitao.nos.netease.com/testi5hkl6gf10007.jpg"];t.share_textlist=["图+二维码模板2 的第一行文字","图+二维码模板2 的第二行文字，的第二行文字3，的第二行文字4，的第二行文字5"]}n._$openShare(t,function(t){alert("分享结果回调："+JSON.stringify(t))},function(t){alert("分享渠道选择回调："+JSON.stringify(t))})};return s},1,21,2,3,4,75,113,85,69,26,114,115,116,118,29,119);I$(243,'<div class="m-wmodal"> 	<p class="result">{{text}}</p> 	<a class="u-wbtn" on-click={{this.confirm()}}>{{btntext}}</a> 	{{#if !!sharebtn}} 	<a class="u-wsharebtn" on-click={{this.share()}}>{{sharebtn}}</a> 	{{/if}} 	<div on-click={{this.hide()}} class="u-wclose"></div> </div>');I$(240,function(t,s,o,e,i,a){var n=i.extend({content:e,config:function(e){t.extend(e,{text:e.text||"哎呀，慢了一步，这个新年礼被抢了！请重新收礼",btntext:e.okbtn||"我知道了"})},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()},share:function(){this.$emit("share",this.data);this.destroy()}});return n},75,4,3,243,197);I$(242,'<div class="m-sharemodal f-tac" on-click={{this.hide()}}> 	<img class="u-wimg"{{#if !!imgWidth}} width="{{imgWidth}}"{{/if}} src="{{imgUrl}}"> </div>');I$(239,function(t,s,o,e,i,a){var n=i.extend({content:e,config:function(e){t.extend(e,{winbodyClass:"winbodytop",imgUrl:e.imgUrl||"http://haitao.nos.netease.com/23ef418845c64f36bebfee6d8d8425a1.png"})},init:function(){this.supr()}});return n},75,4,3,242,197);I$(257,function(n,e,s,o,a,i,r,l,h,t){i._$$SeckillWidget=n._$klass();t=i._$$SeckillWidget._$extend(o._$$EventTarget);t.__reset=function(t){this.__super(t);this.__options=t||{};this.__dateTabs=e._$getChildren(t.dateTabWrap);this.__timeTabs=e._$getChildren(t.timeTabWrap);this.__listWrap=t.listWrap;this.__noScroll=!0;this.__currDateIndex=t.currDateIndex;this.__currTimeIndex=t.currTimeIndex;this.__doTabClick(this.__dateTabs,0);this.__doTabClick(this.__timeTabs,1);this.__onTabChange(t.currDateIndex,t.currTimeIndex);if(t.currDateIndex>0)this._$dispatchEvent("onTabChange",t.currDateIndex);this.__doInitDomEvent([[this.__listWrap.parentNode,"touchstart",this.__onListScroll._$bind(this)]])};t.__doTabClick=function(t,e){var i=function(t,i){if(t){var n=function(){this.__cbTabClick(i,e)}._$bind(this);this.__doInitDomEvent([[t,"touchstart",n]])}};s._$forEach(t,i,this)};t.__cbTabClick=function(t,e){this.__noScroll=!0;if(1==e){if(t==this.__currTimeIndex)return;this.__onTabChange(this.__currDateIndex||0,t)}else{if(t==this.__currDateIndex)return;if(t==this.__options.currDateIndex)this.__onTabChange(t,this.__options.currTimeIndex);else this.__onTabChange(t,0);this._$dispatchEvent("onTabChange",t)}};t.__onTabChange=function(t,i){var n=this.__options.currDateClassName,s=this.__options.currTimeClassName;e._$delClassName(this.__dateTabs[this.__currDateIndex],n);e._$delClassName(this.__timeTabs[this.__currTimeIndex],s);e._$addClassName(this.__dateTabs[t],n);e._$addClassName(this.__timeTabs[i],s);this.__currDateIndex=t;this.__currTimeIndex=i;if(this.__noScroll)this.__onSwitchList(t,i)};t.__onSwitchList=function(t,i){var n=e._$getChildren(this.__listWrap),s=e._$getByClassName(n[t],"m-avg2item-lst"),o=s[i].offsetLeft;this.__doSwitchList(o,!0)};t.__doSwitchList=function(t,n){var e=this.__newScrollLeft||0;if(e!=t){if(n){var i=a._$$Timing._$allocate({timing:"linear",from:{offset:e},to:{offset:t},duration:300,onupdate:function(t){this.__listWrap.parentNode.scrollLeft=t.offset}._$bind(this),onstop:function(){i._$recycle()}});i._$play();this.__newScrollLeft=t;setTimeout(function(){this.__noScroll=!1}._$bind(this),400)}}else this.__noScroll=!1};t.__onListScroll=function(){if(!this.__noScroll){var i=this.__listWrap.parentNode,n=i.scrollLeft,t=Math.ceil(n/this.__options.itemWidth),e=Math.floor(t/9),s=Math.floor(t%9/3);this.__onTabChange(e,s);this._$dispatchEvent("onTabChange",e)}};t.__destory=function(){};return i},1,4,2,21,120);I$(270,'<div class="m-wordgift-modal {{class}}"> 	{{#if isAllText}} 		<div class="m-modal-rule" r-html={{content}}></div> 	{{#else}} 		{{#if couponUrl}} 		<p class="u-modal-img"> 			<img class="u-coupon-img" src="{{couponUrl}}" alt=""> 			<img class="u-star" src="{{starurl}}" alt=""> 		</p> 		{{/if}} 		<div class="m-text-box"> 			{{#if title}} 				<h3 class="u-modal-title">{{title}}</h3> 			{{/if}} 			{{#if text}} 				<p class="u-modal-text">{{text}}</p> 			{{/if}} 			{{#if word}} 				<div class="m-star-img-word"> 					<span class="u-box-wrap"> 						 <span class="u-star-box"> 							<img class="u-star" src="{{starurl}}" alt=""> 						 </span> 					</span> 					<p class="u-star-word"> 						<span>我的口令：</span> 						<span class="u-word">{{word}}</span> 					</p> 				</div> 			{{/if}} 			{{#if btntext}} 				<p class="u-modal-btn"> 					<a class="u-wordgift-btn" href="javascript:;" on-click={{this.confirm()}}>{{btntext}}</a> 				</p> 			{{/if}} 			{{#if orText && orbtntext}} 				<div class="m-modal-or"> 					<p class="u-or-line"><span>or</span></p> 					{{#if orText}} 					<p class="u-or-text">{{orText}}</p> 					{{/if}} 					{{#if orbtntext}} 					<p class="u-or-btn"> 						<a  class="u-wordgift-btn" href="javascript:;" on-click={{this.orconfirm()}}>{{orbtntext}}</a> 					</p> 					{{/if}} 				</div> 			{{/if}} 		</div> 	{{/if}} 	<a class="u-close-btn" href="javascript:;" on-click={{this.hide()}}></a> </div>');I$(268,function(e,n,s,i,t,o){var t=t.extend({content:i,config:function(t){e.extend(t,{isAllText:!1,content:"",text:"",btntext:"",title:"",couponUrl:"",starurl:"",orText:"",orbtntext:"","class":""})},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()},orconfirm:function(){this.$emit("orconfirm",this.data);this.destroy()}});return t},75,4,3,270,197);I$(269,"<h3>活动规则</h3> <ol> 	<li>1、用户在微博获取明星口令，从APP入口进入兑换口令落地页，输入口令，即可获得优惠券。</li> 	<li>2、每个账号只可以兑换一次口令红包，兑换成功后优惠券将由系统自动发放到【我的考拉-我的优惠券】。</li> 	<li>3、用户如果无明星口令，可以通过分享活动赚取明星口令，用户分享成功，返回APP，会随机获得一个明星口令。</li> 	<li>4、用户可以多次分享明星红包，分享成功后每次随机分配一个明星口令，但每个账户一共只能兑换一个红包。</li> </ol>");I$(266,function(l,f,a,r,i,o,e,s,m,h,_,d,u,p,c,n,g,v,y,b){var t;n._$$Module=l._$klass();t=n._$$Module._$extend(o);t.__init=function(t){this.__super(t);this.__lazyImageInit();this._share=d();this._share._$openShare(this.__getShareData({name:this.__getDefaultStar()}));p._$create(document.body)};t.__getDefaultStar=function(){try{return starName}catch(t){return"陈学冬"}};t.__onExchangeBtnClick=function(t){var i=this.J_word_input.value.trim();if(i){var n={word:i};if("wx"==t)n.star=this.J_star_input.value;s("/wordGift/exchange.html",{method:"post",data:n,norest:!0,onload:function(i){if(i)if(0==i.code)this.__getGiftSuccessModal(i.body,t);else if(-929==i.code)e.show("请输入正确的口令~");else if(-925==i.code)location.href="/login.html?target="+encodeURIComponent(location.href.replace(location.hash,""));else if(-927==i.code)this.__alert("只能领取一个明星红包哦~");else if(-928==i.code)this.__alert("慢了一步，"+(i.body.wordGift.name||"YY")+"的红包都被抢完啦~~");else e.show("兑换失败！");else e.show("兑换失败！")}._$bind(this),onerror:function(){e.show("兑换失败！")}})}else e.show("请先输入口令~")};t.__getGiftSuccessModal=function(a,r){var e=this,n={},s=function(){},o=function(){},t=a.wordGift,l={10:"http://haitao.nos.netease.com/78d560c11aa842f2bb3b45ec0182ca27.png",15:"http://haitao.nos.netease.com/e7fa3432061f4ce8ae24efb1308bf990.png"};if("app"==r){n={text:"赶紧分享明星口令造福好友吧！",btntext:"立即分享",title:"恭喜获得"+t.name+"的红包",couponUrl:l[t.couponAmount],starurl:t.imageUrl+"?imageView&thumbnail=150x150",orText:"拿了红包好兴奋，要先去考拉买买买！",orbtntext:"先去考拉买买买"};s=function(n){var i=e.__getShareData(t);if(!e.__isNoAPPwx())e.__APP2weixinShare(i)};o=function(t){location.href=desUrl}}else if("wx"==r){n={text:"红包将放入您登录的考拉账户"+a.account+"中",btntext:"先去考拉买买买",title:"骚年好手法 点中个大红包",couponUrl:l[t.couponAmount],starurl:t.imageUrl+"?imageView&thumbnail=150x150",
orText:"好福利不独享，立即告诉朋友们！",orbtntext:"分享给好友"};s=function(t){location.href=desUrl};o=function(i){if(!e.__isNoAPPwx()){i.hide();e.__onWxShare(t)}}}var i=this.__modal(n);i.$on("confirm",function(){s(i)});i.$on("orconfirm",function(){o(i)})};t.__onRuleBtnClick=function(){var t={isAllText:!0,content:c};this.__modal(t)};t.__isNoAPPwx=function(){if(!this.__isInWeixin()&&!i.isKaolaApp()){e.show("请在微信或考拉APP内分享");return!0}return!1};t.__onShareNow=function(){if(!this.__isNoAPPwx()){var t=this;s("/wordGift/share.html",{method:"get",onload:function(s){if(s&&0==s.code){var n=s.body.wordGift;if(i.isKaolaApp())this.__APP2weixinShare(this.__getShareData(n),function(){t.__shareSuccessModal(n,function(){t.J_word_input.value=n.word;setTimeout(function(){document.body.scrollTop=0},100)})});else this.__onWxShare(n)}else e.show("请重新分享！")}._$bind(this),onerror:function(){e.show("请检查网络！")}})}};t.__APP2weixinShare=function(t,n){t=t||{};if(i.isOldApp(12,10400))e.show("您的App版本太低，赶快升级吧");else if(window.WeixinJSBridge)WeixinJSBridge.invoke("shareKaolaAppMessage",t,function(t){if(t.share_result){if("false"===t.share_result);"function"==typeof n&&n(t)}else;});else;};t.__isInWeixin=function(){return navigator.userAgent.match(/MicroMessenger/i)};t.__onWxShare=function(t){if(this.__isInWeixin()){this.__sharelead();this._share._$openShare(this.__getShareData(t))}};t.__getShareData=function(t){var n="http://haitao.nos.netease.com/5df72d1bbad1408ebf242c7bbfc95202.jpg",e=location.origin+"/wordGift.html?star="+encodeURI(encodeURI(t.name)),s="网易考拉海购 – 明星口令红包限时抢",i="天了噜，"+t.name+"居然给我发压岁钱了！（内附抢红包攻略）快来试试吧！";return{img_url:n,link:e,desc:i,title:s,wbpost:i+">"+e+"@网易考拉海购"}};t.__alert=function(t,e){var i={title:t||"",text:e||"更多活动进行中~赶紧去买买买",btntext:"先去买买买","class":"m-alert"},n=this.__modal(i);n.$on("confirm",function(){location.href=desUrl})};t.__modal=function(e){var t=new _({data:e});t.$inject(document.body);return t};t.__shareSuccessModal=function(t,e){var i={title:"分享成功",text:t.name+"叫你回家换红包啦！ ",btntext:"立即兑换",word:t.word,starurl:t.imageUrl,"class":"m-share-success"},n=this.__modal(i);n.$on("confirm",function(){"function"==typeof e&&e()})};t.__sharelead=function(){var e='<div ref="box" class="m-layermsk"><img style="margin-top: 36px;" class="f-w100p" src="http://haitao.nos.netease.com/9d36e13e1d4b4b5981d37e3ed2b95310.png" alt=""></div>',t=new u({template:e});a._$addEvent(t.$refs.box,"click",function(){t.hide()});t.$inject(document.body);return t};t.__lazyImageInit=function(){h._$$LazyImage._$allocate({attr:"src",oncheck:function(t){var e=t.target,i=e.getAttribute("data-src");if(i){var n=e.getAttribute("src");if(!n||n!==i){t.value=1;r._$addClassName(e,"f-w100p")}else t.value=0}else t.value=0},onremove:function(t){t.stopped=!0}})};return n._$$Module},1,2,3,4,75,5,26,69,131,71,268,222,197,114,269);I$(158,"{{#if total > 1}}<ul class=\"m-pagination f-cb\" r-hide=\"!total\"><li on-click={{ this.nav(current-1)}} class='pageprv {{current==1? \"disabled\": \"\"}}'><a  href='#' >上一页</a></li>{{#if total - 5 > show * 2}} <li  on-click={{ this.nav(1)}} class={{current==1? 'active': ''}}><a href=\"#\">1</a></li><li>{{#if begin > 2}}<a>...</a>{{/if}}</li>{{#list begin..end as i}}<li on-click={{ this.nav(i)}} class={{current==i? 'active': ''}}><a href=\"#\">{{i}}</a></li> {{/list}}{{#if (end < total-1)}}<li><a>...</a></li> {{/if}}<li on-click={{ this.nav(total)}} class={{current==total? 'active': ''}}><a href=\"#\">{{total}}</a></li> {{#else}}{{#list 1..total as i}} <li on-click={{ this.nav(i)}} class={{current==i? 'active': ''}}><a href=\"#\">{{i}}</a></li> {{/list}}{{/if}}<li on-click={{ this.nav(current + 1)}} class='pagenxt {{current==total? \"disabled\": \"\"}}'><a  href='#' >下一页</a></li></ul>{{/if}}  ");I$(157,function(t,e){var i=e.extend({name:"pager",template:t,config:function(t){var i=5,e=t.show=Math.floor(i/2);t.current=parseInt(t.current||1);t.total=parseInt(t.total||1);this.$watch(["current","total"],function(i,n){t.begin=i-e;t.end=i+e;if(t.begin<2)t.begin=2;if(t.end>t.total-1)t.end=t.total-1;if(i-t.begin<=1)t.end=t.end+e+t.begin-i;if(t.end-i<=1)t.begin=t.begin-e-i+t.end})},nav:function(t){var e=this.data;if(!(1>t))if(!(t>e.total))if(t!==e.current){e.current=t;this.$emit("nav",t)}}});return i},158,24);I$(155,function(t,n,e){var i=e.extend({watchedAttr:["current"],config:function(e){t.extend(e,{total:1,current:1,limit:10,list:[]});this.$watch(this.watchedAttr,function(){if(this.shouldUpdateList())this.__getList()})},init:function(){this.$on("updatelist",this.__getList.bind(this))},shouldUpdateList:function(t){return!0},getExtraParam:function(){return this.data.condition},refresh:function(t){this.data.current=1;this.data.condition=t;this.$emit("updatelist")},getListParam:function(){var e=this.data;return t.extend({limit:e.limit,offset:e.limit*(e.current-1)},this.getExtraParam(e))},__getList:function(){var e=this.data,i={progress:!0,data:this.getListParam(),onload:function(s){var i=s.body,n=i.list||[];t.mergeList(n,e.list,e.key||"id");e.total=i.total;e.list=n},onerror:function(t){}};this.$request(this.url,i)}});return i},75,2,24,157);I$(278,'<div class="list" ref="list"> 	{{#if !!title}} 	<h2 class="u-tit"><i class="u-icn3">&nbsp;</i>{{title}}</h2> 	{{/if}}  	{{#if list.length>0}}   		{{#list list as saleGoods}}   		{{#if saleGoods.tuanGoods.isShow!=0}} 		<div class="m-onsale f-cb"> 		    <a href="/product/{{saleGoods.tuanGoodsId}}.html" title="{{saleGoods.tuanGoods.title}}" class="{{saleGoods_index==0?\'first\':\'\'}}"> 		    	<div class="pic"> 		    		<img src="{{_lazyload?null:saleGoods.imageUrl|thumbnail:200}}" data-src="{{!_lazyload?null:saleGoods.imageUrl|thumbnail:200}}" alt="{{saleGoods.tuanGoods.title}}" title="{{saleGoods.tuanGoods.title}}"/> 		    		{{#if saleGoods.tuanGoods.actualStorageStatus==0}}<span class="u-slodout">&nbsp;</span>{{/if}} 		    	</div> 				<div class="proinfo"> 				    <div class="u-brand"> 				      	<img src="{{saleGoods.tuanGoods.originCountryFlag}}" width="15px"/><span>{{saleGoods.tuanGoods.goodsSource}}</span> 				    </div> 				    <h3 class="tit"><strong>{{saleGoods.tuanGoods.shortTitle}}</strong> {{saleGoods.tuanGoods.introduce}}</h3> 				    <p class="curprice"><strong><span class="symbol">¥</span><span r-html={{saleGoods.tuanGoods.actualCurrentPrice|fixed:2|formatPrice}}></span></strong>{{#if (saleGoods.tuanDiscount>0&&saleGoods.tuanDiscount<10)}}<span class="u-icn15"><strong class="num">{{saleGoods.tuanDiscount|fixed:1}}</strong>折</span>{{/if}}</p>  				    <p class="marprice">国内参考价：<span class="symbol">¥</span><del>{{saleGoods.tuanGoods.marketPrice|fixed:2}}</del></p> 				</div> 			</a> 		</div> 		{{/if}}   		{{/list}}   		{{#if loading}}   			<div class="m-loading f-tac"><img src="/res/images/loading.gif"/></div>   		{{/if}}   	{{#else}}   		{{#if loading}}   		<div class="m-loading f-tac"><img src="/res/images/loading.gif"/></div>   		{{#else}}   		<div class="m-emtpy f-tac">    			没有内容   		</div>   		{{/if}} 	{{/if}} </div> {{#if hasMore===false}} <div class="nomore-data">已显示全部内容</div> {{/if}}');I$(280,'<div class="m-notify m-notify-{{position}}">   {{#list messages as msg}}   <div class="notify notify-{{msg.type||\'info\'}}" r-animation=\'on: enter; class: animated fadeInX; on: leave; class: animated bounceOut fast; \'>     <div class="glyphicon glyphicon-{{this.iconMap[msg.type]}}"></div>     <span class="notify_close" on-click={{this.clear(msg)}}>×</span>     <h4 class="notify_title" r-hide={{!msg.title}}>{{msg.title}}</h4>     <p class="notify_message">{{msg.message}}</p>   </div>   {{/list}} </div>');I$(279,function(n,s,t){var e=Regular.extend({template:n,duration:3e3,iconMap:{error:"remove-circle",success:"ok-sign",warning:"warning-sign",info:"info-sign",loading:"info-sign"},config:function(e){t.extend(e,{messages:[],position:"right"})},init:function(){if(this.$root==this)this.$inject(document.body)},notify:function(e){if("string"==typeof e)e={message:e};t.extend(e,{type:"info",duration:this.duration});this.$update(function(t){t.messages.unshift(e)});var i=this.clear.bind(this,e);this.$timeout(i,-1==e.duration?36e8:e.duration);return i},show:function(t){this.clearTotal();return this.notify(t)},showError:function(i,e){e=t.extend(e||{},{type:"error"});return this.show(i,e)},clear:function(i){for(var t=this.data.messages,e=t.length;e--;)if(i===t[e])t.splice(e,1);this.$update()},clearTotal:function(){this.$update("messages",[])}}).use("timeout"),i=new e({});i.Notify=e;return i},280,66,75);I$(276,function(o,t,i,n,s,a,r){var e=s.extend({template:i,url:"/home.html",config:function(e){n.extend(e,{total:1,current:1,scrollCurrent:1,limit:20,list:[]});e.firstPageLoaded=!!e.list.length;e._lazyload=!!e.lazyload||!1;this.$watch(this.watchedAttr,function(){if(this.shouldUpdateList())this.__getList()});t._$addEvent(window,"scroll",this.__onScrollCheck._$bind(this))},xdrOption:function(){return{method:"get"}},__onScrollCheck:function(){if(!this.__loading){var t=this.$refs.list.getBoundingClientRect(),e=t.top+t.height-window.innerHeight;if(240>=e&&!this.__loading&&this.data.hasMore){this.$update("loading",!0);this.data.current+=1;this.$update()}}},init:function(){this.supr();if(this.data._lazyload)this.$on("$inject",function(){t._$dispatchEvent(window,"scroll")})},__getList:function(){var t=this.data;this.__loading=!0;var e={query:this.getListParam(),norest:!0,type:"json",onload:function(e){if(e&&1===e.code&&e.body){var i=e.body,n=i.globalPick.data;[].push.apply(t.list,n);this.__loading=!1;t.hasMore=i.hasMore}else;this.$update("loading",!1)}._$bind(this),onerror:function(t){this.$update("loading",!1)}};this.$request(this.url,e)},shouldUpdateList:function(){if(this.data.firstPageLoaded){this.data.firstPageLoaded=!1;return!1}if(this.data.hasMore===!1)return!1;else return!0}});e.filter("formatPrice",function(t){if(!t)return t;var e=t.split(".");if(2==e.length)return'<span class="int">'+e[0]+'</span>.<span class="dec">'+e[1]+"</span>";else return t});return e},2,3,278,75,155,279,81);I$(319,'<dl class="m-itemlist-col2 f-cb {{customClass||\'\'}}" > {{#list list as goods}} 	{{#if (goods.isShow||1)==1}} 		<dd>              <article class="m-itemcol2"> 				<a href="/product/{{goods.goodsId}}.html" class="imgwrap"> 					<img src="{{this.imgThumbnailUrl(goods.imageUrl, 400)}}" class="u-item-img" /> 					{{#if goods.showColorCard===1}} 					<div class="color-card"></div> 					{{/if}} 					{{#if !goods.actualStorageStatus}} 					<i class="logo-soldout"><span class="txt">售完</span></i> 					{{#elseif goods.onlineStatus==0}} 					<i class="logo-soldout"><span class="txt">下架</span></i> 					{{/if}} 				</a> 				<div class="txtwrap"> 					<p class="tit"><a href="/product/{{goods.goodsId}}.html">{{#if goods.memberCount>0}}<span class="mem-lbl">{{goods.memberCount}}{{goods.memberUnitName || \'件\'}}装<span class="sep">|</span></span>{{/if}}{{goods.title}}</a></p> 					<p class="mkt-price">国内价¥<del>{{goods.marketPrice|numFixed:2}}</del></p> 			        {{#if  goods.memberCount>0 && goods.isShowDiscountCost!==false}} 						<p class="act-price"><span class="symbol">{{this.getActPriceLabel(goods)}}¥</span><span class="bold">{{goods.actualCurrentPriceForApp|numFixed:2}}</span><span class="member-lbl member-lbl-1">单{{goods.memberUnitName || \'件\'}}¥{{Math.ceil(this.getUnitPrice(goods))}}</span></p> 					{{#else}} 						<p class="act-price">{{this.getActPriceLabel(goods)}}¥<span class="bold">{{goods.actualCurrentPriceForApp|numFixed:2}}</span>{{#if type==1}}{{#if (goods.actualCurrentPriceForApp/(goods.marketPrice)) > 0.049 && (goods.actualCurrentPriceForApp/(goods.marketPrice)) < 0.99}}<span class="pmo-lbl pmo-lbl-1">{{@(Math.ceil(goods.actualCurrentPriceForApp/(goods.marketPrice)*100)/10|suffix:1)}}折</span>{{/if}} 							{{#elseif type==0}} 							<span class="pmo-lbl">立省{{(goods.marketPrice-goods.actualCurrentPriceForApp)|numFixed:1}}元</span> 							{{#elseif type==2}} 							<span class="pmo-lbl">HOT</span> 							{{#elseif type==3}} 							<span class="pmo-lbl">NEW</span> 							{{#elseif type==4}} 							<span class="pmo-lbl">{{@(value)}}</span> 							{{/if}} 						</p> 					{{/if}} 				</div> 				<div class="u-itemlbl-wrap"> 				{{#if (goods.isAppOnlyPrice||0)==1}}<span class="lbl lbl-app"><span>手机专享</span></span>{{/if}} 				{{#if !!goods.zhengdanPromotionTitle}} 					<span class="lbl lbl-ord {{this.getOrdLblClass(goods)}}"><span r-html={{this.getOrdLblText(goods)}}></span></span> 				{{/if}} 				</div> 				{{#if goods._actionCfg && goods._actionCfg.buttonText}} 					<a href="/product/{{goods.goodsId}}.html" class="action-{{goods._actionCfg.actType===1?\'to\':\'go\'}} {{(!goods.actualStorageStatus||goods.onlineStatus==0)?\'soldout\':\'\'}}" >{{goods._actionCfg.buttonText}}</a> 				{{/if}} 			</article>          </dd> 	{{/if}} {{/list}} </dl>');

I$(318,function(i,t,n,s){var e=s.extend({name:"goodslist",template:n,getUnitPrice:function(e){var i;if(e.isAppOnlyPrice&&1==e.isAppOnlyPrice)i=e.actualCurrentPriceForApp;else i=e.actualCurrentPrice;return t._$fixed(i/e.memberCount,2)},imgThumbnailUrl:function(t,e){return i.imgThumbnailUrl(t,e)},getActPriceLabel:function(t){if(t._priceCfg&&t._priceCfg.actPriceLabel)return t._priceCfg.actPriceLabel;else return"售价"},getOrdLbl:function(t){var e="";if(t.zhengdanPromotionTitle&&"string"==typeof t.zhengdanPromotionTitle&&2===t.zhengdanPromotionTitle.split("-").length)e=t.zhengdanPromotionTitle.split("-")[0];return e},getOrdLblText:function(t){var e=this.getOrdLbl(t);if("N元任选"===e)if(t.zhengdanRules&&t.zhengdanRules.length)return t.zhengdanRules[0].replace("选","<br>选");return e},getOrdLblClass:function(t){if("N元任选"===this.getOrdLbl(t))if(t.zhengdanRules&&t.zhengdanRules.length)if(t.zhengdanRules[0].length<=6)return"l";else return"xl"}});e.filter("numFixed",function(e,i){var n=e+"";if(-1!=n.indexOf("."))return t._$fixed(e,i);else return e});e.filter("fixed",function(e,i){return t._$fixed(e,i)});e.filter("suffix",function(i,n){var i=t._$fixed(i,n),e=i+"";if(-1==e.indexOf("."))return e+=".0";else return e});return e},75,2,319,24);I$(311,function(e,n,s,o,t,a,r,l){var i;t._$$AnimEaseOut=n._$klass();i=t._$$AnimEaseOut._$extend(o._$$AnimBezier);i.__reset=function(t){t=s._$merge({},t);t.timing="easeout";this.__super(t)};if(!0)e.copy(e.P("nej.ut"),t);return t},8,1,2,121);I$(325,function(n,s,e){var i=n._$klass(),t=i._$extend(s._$$EventTarget);t.__reset=function(t){this.__super(t);this.__totalTime=t.totalTime||0;this.__interval=t.interval||1e3;this.__id=(t.id||+new Date)+"";this.__name=t.name||"n";this.__lsKey="klcountdown";this.__startTime=this.__getStartTime();this.__addEvents()};t.__addEvents=function(){if(this.__totalTime<=this.__interval){this.__lasttick=!0;this.__tocounter=setTimeout(this.__tick._$bind(this),this.__totalTime)}else this.__counter=setInterval(this.__tick._$bind(this),this.__interval)};t.__tick=function(){var t=this.__startTime+this.__totalTime-+new Date;if(t>=this.__interval)this.__onUpdate(t);else if(0>=t){!!this.__counter&&clearInterval(this.__counter);this.__onStop()}else{clearInterval(this.__counter);this.__tocounter=setTimeout(this.__tick._$bind(this),t)}};t.__onUpdate=function(t){this._$dispatchEvent("onupdate",this.__getTimeObj(t))};t.__onStop=function(){this._$dispatchEvent("onstop",this.__getTimeObj(0))};t.__getStartTime=function(){var e=+new Date,t=this.__getOrSaveTimeCache();if(t&&t.start)return parseFloat(t.start)||0;else return e};t.__getOrSaveTimeCache=function(){var t=this.__getTimeCache()||{};if(t&&t[this.__id])return t[this.__id];var e=+new Date;t[this.__id]={start:e,end:e+this.__totalTime,name:this.__name};t=this.__purgeOutdate(t);this.__LS(this.__lsKey,t)};t.__getTimeCache=function(){var t=this.__LS(this.__lsKey);if(t){try{t=JSON.parse(t)}catch(e){return}if("object"==typeof t)return t;else;}};t.__purgeOutdate=function(e){var n=+new Date,i={};for(var t in e)if(e.hasOwnProperty(t))if(e[t].end>n)if(this.__name!=e[t].name)i[t]=e[t];else if(this.__id===t)i[t]=e[t];e=null;return i};t.__LS=function(t,i){if(window.localStorage&&localStorage.getItem)try{if(1===arguments.length)return localStorage.getItem(t);else if(arguments.length>=2)return localStorage.setItem(t,JSON.stringify(i))}catch(n){return""}else if(1===arguments.length)return e._$cookie(t);else if(arguments.length>=2)return e._$cookie(t,JSON.stringify(i))};t.__getTimeObj=function(){var t=function(t){return(10>t?"0":"")+t},n=6e4,e=60*n,i=24*e;return function(h,d){var s=+h>0?+h:0,o=parseInt(s/i,10),a=parseInt(s%i/e,10),r=parseInt(s%i%e/n,10),l=parseInt(s%i%e%n/1e3,10),c=parseInt(s%i%e%n%1e3,10);if(1===o&&0===a){o=0;a=24}[t(o),t(a),t(r),t(l)];return{d:o,h:a,m:r,s:l,ms:c,dd:t(o),hh:t(a),mm:t(r),ss:t(l)}}}();t.__destory=function(){this.__super();!!this.__counter&&clearInterval(this.__counter);!!this.__tocounter&&clearTimeout(this.__tocounter)};return i},1,21,44);I$(352,function(l,c,d,t,s,h,n,i,o,a,r,e){e._$$CategoryModule=l._$klass();pro=e._$$CategoryModule._$extend(o);pro.__init=function(e){this.__supInit(e);this.__listCache={};this.__setComponent();this.__tab=s._$$Tab._$allocate({list:t._$getChildren("tablist"),index:0,selected:"z-crt",event:"click",onchange:function(e){var i=t._$dataset(e.list[e.index],"cid");if(this.__blist)this.__blist.$update("cid",i);else this.__newComponentIns(i)}._$bind(this)});a._$create(document.body)};pro.__newComponentIns=function(t){this.__blist=new this.__BrandList({data:{cid:t}});this.__blist.$inject("#box")};pro.__setComponent=function(){var e=this;this.__BrandList=r.extend({template:"#ctlist",url:"/category/",watchedAttr:["cid"],config:function(t){n.extend(t,{imguri:"",siteuri:"",list:[],nodata:!1});this.$watch(this.watchedAttr,function(){if(this.shouldUpdateList(t))this.__getList()})},shouldUpdateList:function(){var i,s=this.data.cid,n=e.__listCache[s];if(n){i=n.topBanner;this.data.imguri=i?i.imageUrl:"";this.data.siteuri=i?i.siteUrl:"";this.data.list=n.categoryItemList||[];this.data.typeList=n.typeList||null;this.data.nodata=this.data.list.length>0?!1:!0;setTimeout(function(){t._$get("main").scrollTop=1;t._$get("main").scrollTop=0},0);return!1}return!0},__getList:function(){var s=this.data;s.imguri="";s.siteuri="";s.list=[];s.nodata=!1;var o={progress:!0,onload:function(a){var l,o,r;if(a&&200==a.code){l=a.body;o=l.categoryMoudle||{};r=o.categoryItemList||[];s.typeList=o.typeList||null;if(o.topBanner){s.imguri=o.topBanner.imageUrl;s.siteuri=o.topBanner.siteUrl}else{s.imguri="";s.siteuri=""}if(!e.__listCache[s.cid])e.__listCache[s.cid]=o;n.mergeList(r,s.list,s.key||"id");s.list=r;s.nodata=s.list.length>0?!1:!0;setTimeout(function(){t._$get("main").scrollTop=1;t._$get("main").scrollTop=0},0)}else i.show(a.msg||"数据请求失败！")},onerror:function(t){i.show("数据请求失败！")}};this.$request(this.url+s.cid+".html",o)}})};return e},1,2,3,4,129,71,75,26,5,114,155);I$(355,function(e,o,a,r,i,l,n,s,t){t._$$ProductModule=e._$klass();pro=t._$$ProductModule._$extend(s);pro.__init=function(t){this.__supInit(t);n._$create(document.body);i._$$LazyImage._$allocate({attr:"src",oncheck:function(t){var e=t.target.getAttribute("data-src");if(e){var i=t.target.getAttribute("src");if(!i||i!==e);else t.value=0}else t.value=0},onremove:function(t){t.stopped=1}})};return t},1,2,3,4,71,75,114,5);I$(378,'<section ref="commandmask" class="m-commandmask" r-hide="{{hide}}" on-click="{{this.hideMask($event)}}" on-touchmove="{{this.touchMoveEvent($event)}}"></section> <!-- <section ref="commandbox" class="m-commandbox" r-animation="when:!hide;style:height 136px,width 240px,margin-left -120px,margin-top -68px;when:hide;style:height 0,width 0,margin-left 0,margin-top 0;"> --> <section ref="commandbox" class="m-commandbox" r-hide="{{hide}}">     <div class="title">输入口令抱团享优惠</div>     <div class="checkcode"><input ref="code" type="text" minLength="4" value="" placeholder="请输入口令" r-model="{{this.data.code}}"></div>     <div class="check" on-click="{{this.confirmCheck($event)}}">确定</div> </section> <section ref="hint" class="m-comhint" r-hide="{{hideHint}}" r-class="{\'sucHint\':hintStatus===\'success\'}">{{hintMsg}}</section>  ');I$(375,function(s,t,e,i){var n=e.extend({template:i,config:function(t){this.data.stopCheck=!1},init:function(t){this.$watch("hide",function(t){if(0==t)this.$refs.code.focus()})},confirmCheck:function(i){setTimeout(function(){window.scrollBy(-1,0)},0);if(!this.data.code||""==this.data.code.trim()){this.data.code="";this.__showHint("输入口令为空");return!1}if(this.data.stopCheck)return!1;this.data.stopCheck=!0;var e={goodsId:this.data.goodsId||"",activityGoodsId:this.data.activityGoodsId||"",code:this.data.code.trim()||""};this.$request("/tuan/participate.html",{norest:!0,data:t._$object2query(e),onload:this.__checkResult._$bind(this),onerror:this.__checkResultError._$bind(this),type:"json",method:"POST"})},hideMask:function(){setTimeout(function(){window.scrollBy(-1,0)},0);this.data.hide=!0},touchMoveEvent:function(t){t.preventDefault();return!1},__showHint:function(e,t,i,n,s){this.data.hideHint=!1;this.data.hintMsg=e;this.data.hintStatus=t;clearTimeout(this.data.hintTimer);this.data.hintTimer=setTimeout(function(){this.__hideHint();this.data.stopCheck=!1;if(i){if(200==t||201==t||413==t||414==t||495==t){this.$update({hide:!0});window.location.href="/tuans/"+n+".html?activityGoodsId="+s}}else if(200==t)window.location.reload()}._$bind(this),1e3);this.$update()},__hideHint:function(){this.$update({hintMsg:"",hideHint:!0,hintStatus:""})},__checkResult:function(e){if(e){var t=e.code||-1,i=e.body||{};if(200==t||201==t||413==t||414==t||495==t)this.__showHint(200==t?"参团成功！":e.msg,t,!!this.data.isList,i.goodsId,i.activityGoodsId);else this.__showHint(e.msg||"内部错误！")}else this.__showHint("内部错误！")},__checkResultError:function(){}});return n},75,2,24,378);I$(373,'<div class="m-aboutmodal"> 	<span class="close" on-click={{this.hide()}}>x</span> 	<div class="title">组团流程</div> 	<div class="content" ref=tips> 		<div> 			<div class="pic"><img width="247" src="http://haitao.nos.netease.com/cfefe939593d428d93e1a8cfd942a026.png"></div>	 			<div class="txt"> 				<p><strong>组团失败：</strong>开团24小时内未邀请到足够好友参团，则组团失败。</p> 				<p><strong>退款说明：</strong>组团失败，小考拉将为您实时关闭订单、自动退款。根据支付宝和网易宝的交易规则，退款将在1-7个工作日内原路退至您的支付账户。</p> 				<p><strong>*备注：</strong>商品数量有限，开团后请尽快邀请好友参团哟，若商品售罄，也会导致组团失败~</p> 				<p>组团成功或失败时，尚未支付的订单将自动关单~</p> 				<p>同一用户对同一商品的团购次数有限，如超出次数，开团或参团时将收到相关提醒~</p> 			</div> 		</div> 	</div> </div>');I$(370,function(t,e,i){var n=e.extend({content:t,init:function(){this.supr();setTimeout(function(){this.__iscroll=new i(this.$refs.tips,{tap:!0})}._$bind(this),50)}});return n},373,197,125);I$(256,'<div class="m-botsharewin"> 	{{#if !!common}} 	<div class="title">{{common.title||\'\'}}</div> 	<div class="desc">{{common.desc||\'\'}}</div> 	{{#else}} 	<div class="content"> 	{{#include content}} 	</div> 	{{/if}} 	<ul class="btns"> 		{{#list shareTypes as item}} 		<li><span class="{{item.icnClassName}}" on-click={{this.onShare(item.channel)}}></span><br /><i>{{item.name}}</i></li> 		{{/list}} 	</ul> 	<div class="u-favorbtn" on-click={{this.hide()}}>{{quitText || \'取消\'}}</div> </div>  ');

I$(254,function(t,e,i,n){var s=e.extend({content:t,config:function(t){n.extend(t,{winbodyClass:"winbodybot",shareTypes:[{channel:"weixin_appmessage",name:"微信好友",icnClassName:"u-icn20"},{channel:"weixin_timeline",name:"微信朋友圈",icnClassName:"u-icn20 u-icn20-1"},{channel:"yixin_appmessage",name:"易信好友",icnClassName:"u-icn20 u-icn20-3"},{channel:"yixin_timeline",name:"易信朋友圈",icnClassName:"u-icn20 u-icn20-4"}]})},init:function(){this.supr();this.__appbridge=i()},onShare:function(e){var i=this;this.$emit("onShare",e);var t=this.data.shareConfig||window.shareConfig||{};t.share_channel=e;if("yixin_timeline"==e)t.title=t.desc;this.__appbridge._$openShare(t,function(t){i.$emit("shared",t)})}});return s},256,197,29,75);I$(399,function(s,o,e,n,a,i,r,l,h,t){i._$$SelectHelper=o._$klass();t=i._$$SelectHelper._$extend(a._$$EventTarget);t.__reset=function(t){this.__super(t);this.__loop=!!t.loopable;this.__parent=e._$get(t.parent);this.__selected=t.selected||"js-selected";this.__hovered=t.hover||this.__selected;this.__nopt={};if(t.clazz){this.__nopt.filter=e._$hasClassName._$bind2(e,t.clazz);this.__clazz=t.clazz}this.__kbody=this.__getKeyBoardParent(this.__parent);this.__doInitDomEvent([[this.__kbody,"keydown",this.__doCheckKBAction._$bind(this),!0],[this.__kbody,"enter",this.__doCheckKBEnter._$bind(this)],[this.__parent,"click",this.__onCheckClick._$bind(this)],[this.__parent,"mouseover",this.__onCheckHover._$bind(this)],[this.__parent,"mouseleave",this.__onCheckLeave._$bind(this)]])};t.__destroy=function(){this.__super();delete this.__selected;delete this.__hovered;delete this.__parent;delete this.__kbody;delete this.__clazz;delete this.__nopt;delete this.__loop};t.__isItemElement=function(t){if(this.__clazz)return e._$hasClassName(t,this.__clazz);else return t.parentNode==this.__parent};t.__getKeyBoardParent=function(){var t=1e3;return function(e){for(;e&&(parseInt(e.tabIndex)||0)<=t;)e=e.parentNode;return e||document}}();t.__getItemElement=function(i){var t=e._$getByClassName(this.__parent,i);return!t?null:t[0]};t.__doSyncSelection=function(t,i){e._$delClassName(t.last,i);e._$addClassName(t.target,i);if(i==this.__selected&&t.last!=t.target){this.__doScrollToView(t.target);this._$dispatchEvent("onchange",t)}};t.__doScrollToView=function(i){var t=e._$getScrollViewPort(i),n=e._$offset(i,t);if(!(n.y-t.scrollTop<0)){var s=n.y+i.offsetHeight-t.clientHeight;if(s>t.scrollTop)t.scrollTop=s}else t.scrollTop=n.y};t.__doParseSelection=function(e,i){var t=n._$getElement(e,this.__isItemElement._$bind(this));return!t?null:{last:this.__getItemElement(i),target:t}};t.__doCheckKBAction=function(o){var s=o.keyCode;if(38==s||40==s){n._$stop(o);var t={last:this._$getSelectedNode()};this.__nopt.backward=38==s;var i=!this.__clazz?e._$getChildren(this.__parent):e._$getByClassName(this.__parent,this.__clazz),a=this.__nopt.backward?i[i.length-1]:i[0];if(!t.last)t.target=this.__getItemElement(this.__hovered)||a;else t.target=e._$getSibling(t.last,this.__nopt);if(!t.target){if(!this.__loop||i.length<=1)return;t.target=a}this.__doSyncSelection(t,this.__selected)}};t.__doCheckKBEnter=function(t){n._$stop(t);this._$dispatchEvent("onselect",{target:this._$getSelectedNode()})};t.__onCheckClick=function(e){var t=this.__doParseSelection(e,this.__selected);if(t){this.__doSyncSelection(t,this.__selected);this._$dispatchEvent("onselect",{target:t.target})}};t.__onCheckHover=function(e){var t=this.__doParseSelection(e,this.__hovered);if(t){this.__doSyncSelection(t,this.__hovered);if(this.__kbody.focus)this.__kbody.focus()}};t.__onCheckLeave=function(t){if(this.__hovered!=this.__selected)e._$delClassName(this.__getItemElement(this.__hovered),this.__hovered)};t._$getSelectedNode=function(){return this.__getItemElement(this.__selected)};if(!0)s.copy(s.P("nej.ut"),i);return i},8,1,4,3,21);I$(397,function(n,s,e,o,a,i,r,l,h){var t;i._$$Suggest=s._$klass();t=i._$$Suggest._$extend(o._$$EventTarget);t.__init=function(){this.__sopt={loopable:!0,onselect:this.__onSelect._$bind(this),onchange:this.__onSelectionChange._$bind(this)};this.__super()};t.__reset=function(t){this.__super(t);this.__auto=!!t.autofill;this.__input=e._$get(t.input);this.__sopt.clazz=t.clazz;this.__sopt.parent=e._$get(t.body);this.__sopt.selected=t.selected||"js-selected";this.__doInitDomEvent([[this.__input,"input",this.__onInput._$bind(this)],[this.__input,"focus",this.__onInput._$bind(this)],[this.__input,"blur",this.__onBlur._$bind(this)]]);this._$visibile(!1);this.__helper=a._$$SelectHelper._$allocate(this.__sopt)};t.__destroy=function(){this.__super();if(this.__helper){this.__helper._$recycle();delete this.__helper}delete this.__xxx;delete this.__input;delete this.__sopt.parent};t.__onBlur=function(){this.__onSelect({target:this.__helper._$getSelectedNode()})};t.__onInput=function(){var t=this.__input.value.trim();if(!t)this._$visibile(!1);else if(!this.__xxx)this._$dispatchEvent("onchange",t)};t.__doUpdateValue=function(t){if(!this.__xxx){this.__xxx=!0;if(t&&t!=this.__input.value)this.__input.value=t;this.__xxx=!1}};t.__onSelect=function(i){var t=e._$dataset(i.target,"value")||"";this.__doUpdateValue(t);t=t||this.__input.value;this._$update("");this._$dispatchEvent("onselect",t)};t.__onSelectionChange=function(t){if(this.__auto)this.__doUpdateValue(e._$dataset(t.target,"value")||"")};t._$setList=function(t){this._$visibile(!!t&&t.length>0)};t._$visibile=function(t){var t=!t?"hidden":"visible";this.__sopt.parent.style.visibility=t};t._$update=function(t){this.__sopt.parent.innerHTML=t||"&nbsp;";this._$visibile(!!t)};if(!0)n.copy(n.P("nej.ut"),i);return i},8,1,4,21,399);I$(248,'<section class="m-layermsk" style="" r-hide={{hideMask}} on-touchmove="{{this.onMaskTouchMove($event)}}"></section> <section id="j-winhint" class="m-win m-win-oldaccout" r-hide={{hideMask}} on-touchmove="{{this.onMaskTouchMove($event)}}">     <div class="cont">     	<h3><i class="w-icon4 w-icon4-1"></i>该优惠券仅限新用户领取</h3>     	<p>{{errorDesc}}</p>     	<a class="u-btn u-btn-1" href="javascript:void(0);" on-click="{{this.onOkBtnClick($event)}}">我知道啦</a>     </div> </section>');I$(245,function(s,o,a,r,l,t,e,i,h){var n=e.extend({template:i,config:function(e){t.extend(e,{inviter:"",errorDesc:"你是小考拉的老朋友啦！快打开网易考拉海购app享受更多福利吧！"})},init:function(t){},onMaskTouchMove:function(t){t.preventDefault();return!1},onOkBtnClick:function(t){window._dapush&&window._dapush("_trackEvent","renlaren3","failed","confirm");this.inviter=this.data.inviter;this.$update({hideMask:!0});window.location.href="/logout.html?url="+encodeURIComponent("http://m.kaola.com/one_invite_one/gift/obtain.html?inviter="+encodeURIComponent(this.inviter))}});return n},1,2,3,4,85,75,24,248,26);I$(247,'<section id="j-layermsk" class="m-layermsk" r-hide={{hideMask}} on-click="{{hideMask=true}}" on-touchmove="{{this.onMaskTouchMove($event)}}"></section> <section id="j-winphone" class="m-win m-win-phone m-win-phone-2" r-hide={{hideMask}} on-touchmove="{{this.onMaskTouchMove($event)}}">     <i id="j-closebtn1" class="w-icon w-icon-1" on-click="{{hideMask=true}}"></i>     <div class="m-form m-form-phonenum">     	<p class="tit">现金红包将会发放到您的以下账号：<br/><strong>{{account}}</strong></p>     	<form id="phoneBoundform" action="" autocomplete="off" method="post"> 			<div class="fitm"> 				<input id="password" class="u-ipt" type="password" name="password" autocomplete="off" data-required="true" placeholder="请输入账号密码"/> 			</div> 			<div class="fitm fitm-1"> 			  	<a id="submit2" class="u-btn u-btn-1" href="javascript:void(0);" on-click="{{this.onSaveBtnClick($event)}}">确认</a> 			</div> 			<input type="hidden" value="{{account}}" name="username" id="username" /> 		</form>     </div> </section>');I$(244,function(u,h,l,t,d,o,i,r,e,a,c,s){var n=i.extend({template:r,config:function(t){o.extend(t,{account:""})},init:function(t){},onMaskTouchMove:function(t){t.preventDefault();return!1},onSaveBtnClick:function(n){l._$stop(n);this.form=a._$$WebForm._$allocate({form:t._$get("phoneBoundform")});this.password=t._$get("password");this.saveBtn=t._$get("submit2");this.inviter="qatest@163.com";this.wrap=document.querySelector(".g-bd");var s=this.password.value.trim();if(!this.isLoading){this.isLoading=!0;var i=!1;if(!s){e.show("请输入账号密码！");i=!0}if(!i)this.doPostSaveDWR(this.form._$data());else this.isLoading=!1}},doPostSaveDWR:function(t){s("/one_invite_one/phone/check.html",{type:"json",method:"POST",norest:!0,data:t,onload:function(t){if(200==t.code)window.location.href="/one_invite_one/result.html?account="+encodeURIComponent(t.body.account)+"&hasObtained=true";else e.show(t.msg||"账号或密码错误！");this.isLoading=!1}._$bind(this),onerror:function(t){e.show("账号或密码错误，请刷新页面重试！");this.isLoading=!1}._$bind(this),onbeforerequest:function(t){}})}});return n},1,2,3,4,85,75,24,247,26,86,45,69);I$(414,'<section id="j-layermsk" class="m-layermsk" r-hide={{hideMask}} on-click="{{hideMask=true}}" on-touchmove="{{this.onMaskTouchMove($event)}}"></section> <section id="j-winphone" class="m-win m-win-phone" r-hide={{hideMask}} on-touchmove="{{this.onMaskTouchMove($event)}}">     <i id="j-closebtn1" class="w-icon w-icon-1" on-click="{{hideMask=true}}"></i>     <div class="m-form m-form-phonenum">     	<p class="tit">请输入您的手机号：</p>     	<form id="phonenumform" action="" autocomplete="off" method="post"> 			<div class="fitm"> 				<input id="phonenum" class="u-ipt" type="text" name="phoneNum" maxlength="11" autocomplete="off" data-required="true" placeholder="请输入手机号"/> 			</div> 			<div class="fitm fitm-1"> 			  	<a id="submit2" class="u-btn u-btn-1" href="javascript:void(0);" on-click="{{this.onSaveBtnClick($event)}}">确认</a> 			</div> 		</form>     </div> </section>');I$(412,function(_,u,l,e,p,o,a,i,t,h,d,c,r){var s=/^1\d{10}$/,n=a.extend({template:i,config:function(t){o.extend(t,{inviter:""})},init:function(t){},onMaskTouchMove:function(t){t.preventDefault();return!1},onSaveBtnClick:function(o){l._$stop(o);window._dapush&&window._dapush("_trackEvent","renlaren2","phone","wap");this.form=h._$$WebForm._$allocate({form:e._$get("phonenumform")
});this.phonenum=e._$get("phonenum");this.saveBtn=e._$get("submit2");this.inviter=this.data.inviter;this.wrap=document.querySelector(".g-bd");var n=this.phonenum.value.trim();if(!this.isLoading){this.isLoading=!0;var i=!1;if(!n){t.show("请输入手机号码！");i=!0}else if(!s.test(n)){t.show("手机号码格式错误！");i=!0}if(!i)this.doPostSaveDWR(this.form._$data());else this.isLoading=!1}},doPostSaveDWR:function(e){c("/one_invite_one/phone/check.html",{type:"json",method:"POST",norest:!0,data:e,onload:function(e){if(200==e.code)window.location.href="/one_invite_one/phone/verifyCode.html?account="+encodeURIComponent(e.body.account)+"&inviter="+encodeURIComponent(this.inviter)+"&phoneNum="+this.phonenum.value.trim();else if(-26==e.code)window.location.href="/one_invite_one/register.html?inviter="+encodeURIComponent(this.inviter)+"&phoneNum="+this.phonenum.value.trim();else if(-29==e.code)window.location.href="/one_invite_one/result.html?account="+encodeURIComponent(e.body.account)+"&hasObtained=true";else if(-30==e.code)if(!this.oldAccount){this.oldAccount=new r({data:{hideMask:!1}});this.oldAccount.$inject(this.wrap,"bottom")}else this.oldAccount.$update({hideMask:!1});else t.show(e.msg||"领取失败");this.isLoading=!1}._$bind(this),onerror:function(e){t.show("领取失败，请刷新页面重试！");this.isLoading=!1}._$bind(this),onbeforerequest:function(t){}})}});return n},1,2,3,4,85,75,24,414,26,86,45,69,245);I$(249,function(a,i,r,n,o,e,s,l,h,c,t){s._$$AddressCascade=a._$klass();t=s._$$AddressCascade._$extend(o._$$EventTarget);t.__reset=function(t){t.parent=t.parent||document.body;this.__super(t);this.__province=t.province;this.__city=t.city;this.__district=t.district;this.__doInitDomEvent([[this.__province,"change",this.__onProvinceChange._$bind(this)],[this.__city,"change",this.__onCityChange._$bind(this)]]);this.__isEditAddr=!!t.isEditAddr;if(this.__isEditAddr){this.__provinceCode=t.provindeCode;this.__cityCode=t.cityCode;this.__districtCode=t.districtCode;this.__initEditSelect()}else this.__initProvince()};t.__initSelect=function(e,i,n){e.options.length=1;for(var t=0,s=i.length;s>t;t++){var o=new Option(i[t].name,i[t].code);e.options.add(o)}e.selectedIndex=n||0};t.__initEditSelect=function(){var n=function(e){if(200==e.code){this.__provinceList=e.body.list;this.__initSelect(this.__province,this.__provinceList);this.__province.value=this.__provinceCode;t(2,this.__provinceCode)}}._$bind(this),s=function(e){if(200==e.code){var i=e.body.list;this.__initSelect(this.__city,i);this.__city.value=this.__cityCode;t(3,this.__cityCode)}}._$bind(this),o=function(t){if(200==t.code){var e=t.body.list;this.__initSelect(this.__district,e);this.__district.value=this.__districtCode}}._$bind(this),t=function(t,a){var r={level:t};if(a)r.code=a;e("/geography/get.html",{method:"POST",norest:!0,type:"json",data:i._$object2query(r),onload:[n,s,o][t-1]})};t(1)};t.__initProvince=function(){e("/geography/get.html",{method:"POST",norest:!0,type:"json",data:i._$object2query({level:1}),onload:this.__cbProvinceLoad._$bind(this)})};t.__cbProvinceLoad=function(t){if(200==t.code){this.__provinceList=t.body.list;this.__initSelect(this.__province,this.__provinceList)}};t.__onProvinceChange=function(){var t=this.__province.value;e("/geography/get.html",{method:"POST",norest:!0,type:"json",data:i._$object2query({level:2,code:t}),onload:this.__cbCityLoad._$bind(this)})};t.__cbCityLoad=function(t){if(200==t.code){var e=t.body.list;this.__initSelect(this.__city,e,1);this.__onCityChange()}};t.__onCityChange=function(){var t=this.__city.value;e("/geography/get.html",{method:"POST",norest:!0,type:"json",data:i._$object2query({level:3,code:t}),onload:this.__cbDistrictLoad._$bind(this)})};t.__cbDistrictLoad=function(t){if(200==t.code){var e=t.body.list;this.__initSelect(this.__district,e)}};t._$validateAddress=function(){var t="";if(-1==this.__province.value)t=n._$dataset(this.__province,"message");else if(-1==this.__city.value)t=n._$dataset(this.__city,"message");else if(-1==this.__district.value)if(this.__district.options.length>1)t=n._$dataset(this.__district,"message");return t};t.__destroy=function(){this.__super()};return s._$$AddressCascade},1,2,3,4,21,69);I$(473,'<section class="m-mask {{_aniClass}}" on-touchmove={{this.touchmove($event)}} r-hide={{hideDialog}}></section> <section class="m-certiDialog {{_aniClass}}" on-touchmove={{this.touchmove($event)}} r-hide={{hideDialog}} > 	<article r-hide={{hideMain}}> 		<div class="title">本订单商品需对收货人身份信息进行<br>认证，认证成功才可正常清关哦</div> 		<div class="userInfo"> 			<div class="name"> 				<p>收货人<input type="text" maxlength=30 placeholder="请输入收货人姓名" r-model={{name}}></p> 				<p class="errMsg">收货人姓名必须与身份证姓名一致！</p> 			</div> 			<div class="idCard"> 				<p>身份证<input type="tel" maxlength=18 placeholder="填写后我们将加密处理" r-model={{idCard}}></p> 				<p class="errMsg" ref="idCard"></p> 			</div> 		</div> 		<div class="operate f-cb"> 			<p class="cancle f-fl" on-click={{this.cancle($event)}}>取消</p> 			<p class="submit f-fl" on-click={{this.submit($event)}}>提交认证</p> 		</div> 	</article> 	<article r-hide={{hidePrompt}}> 		<div class="promptText" r-html={{promptText}}></div> 		<div class="operate f-cb"> 			<p class="f-fl" on-click={{this.validAfterPay($event)}}>付款后认证</p> 			<p class="retry f-fl" on-click={{this.retry($event)}}>重试</p> 		</div> 	</article> 	<article r-hide={{hideNoChance}}> 		<div class="noChanceText" r-html={{noChanceText}}></div> 		<div class="operate f-cb"> 			<p class="validAfterPay f-fl" on-click={{this.validAfterPay($event)}} r-html={{noChanceBtn}}></p> 		</div> 	</article> 	<article r-hide={{hideAfterPay}}> 		<div class="noChanceText" r-html={{afterPayText}}></div> 		<div class="operate f-cb"> 			<p class="validAfterPay f-fl" on-click={{this.afterPay($event)}} r-html={{afterPayBtn}}></p> 		</div> 	</article> </section> ');I$(471,function(o,e,i,n,t){var s=i.extend({template:n,config:function(t){this.switchInterFace("main")},hideDialog:function(){this.data._aniClass="";this.$update();setTimeout(function(){this.data.hideDialog=!0;this.$update()}._$bind(this),200)},showDialog:function(t){this.data.name=t||"";this.data._aniClass="show";this.$update();setTimeout(function(){this.data.hideDialog=!1;this.$update()}._$bind(this),200)},switchInterFace:function(t){this.hideAll();switch(t){case"main":this.data.hideMain=!1;break;case"prompt":this.data.hidePrompt=!1;break;case"noChance":this.data.hideNoChance=!1;break;case"afterPay":this.data.hideAfterPay=!1}},hideAll:function(){this.data.hideMain=!0;this.data.hidePrompt=!0;this.data.hideNoChance=!0;this.data.hideAfterPay=!0},touchmove:function(t){t.preventDefault();return!1},cancle:function(){this.resetData();this.hideDialog();this.$update()},resetData:function(t){if(!t)this.data.name="";this.data.idCard="";this.data.nameErrMsg="";this.data.idCardErrMsg="";this.switchInterFace("main")},retry:function(){this.resetData(!0)},validAfterPay:function(){this.resetData();this.hideDialog();if(2!=this.data.source)this.$emit("validAfterPay",this.data.id||"")},afterPay:function(){this.resetData(!0)},submit:function(){if(this.validate()){var t={fullName:this.data.name.trim(),idNum:this.data.idCard.trim(),source:this.data.source};if(this.data.id)t.id=this.data.id;if(this.data.gorderId)t.gorderId=this.data.gorderId;this.$request("/authIdentitiy.html",{norest:!0,data:e._$object2query(t),type:"json",method:"POST",onload:this.__validLoad._$bind(this),onerror:this.__validError._$bind(this)})}},__validLoad:function(e){if(200==e.code){this.hideDialog();if(1==this.data.source){this.$emit("validSuccess",{id:this.data.id,name:this.data.name.trim(),idNum:this.data.idCard.trim()});t.show("认证成功，请提交订单")}else{t.show("认证成功");setTimeout(function(){window.location.reload()},2e3)}this.resetData()}else if(1==this.data.source)if(2==e.code){this.data.promptText="姓名与身份证不一致，您可直接提交订单并选择付款后认证";this.switchInterFace("prompt")}else if(601==e.code){this.data.noChanceText="今日认证次数已用完，您可付款后，在我的订单补充认证";this.data.noChanceBtn="付款后认证";this.switchInterFace("noChance")}else if(208==e.code){this.data.noChanceText="20日8点前公安系统维护，无法认证，您可以选择付款后进行实名认证！";this.data.noChanceBtn="付款后认证";this.switchInterFace("noChance")}else{this.data.promptText=e.msg||"认证服务超时，您可直接提交订单并选择付款后认证";this.switchInterFace("prompt")}else if(2==e.code){this.data.afterPayText="姓名与身份证不一致，将可能导致您的商品无法通关，请重新填写";this.data.afterPayBtn="重试";this.switchInterFace("afterPay")}else if(601==e.code){this.data.noChanceText="认证错误次数过多，请次日0：00后再试";this.data.noChanceBtn="好";this.switchInterFace("noChance")}else if(208==e.code){this.data.noChanceText="20日8点前公安系统维护，无法认证";this.data.noChanceBtn="好";this.switchInterFace("noChance")}else{this.data.afterPayText=e.msg||"认证服务超时，请重试";this.data.afterPayBtn="重试";this.switchInterFace("afterPay")}this.$update()},__validError:function(){if(1==this.data.source){this.data.promptText="认证服务超时，您可直接提交订单并选择付款后认证";this.switchInterFace("prompt");this.$update()}else{this.data.afterPayText="认证服务超时，您可直接提交订单并选择付款后认证";this.data.afterPayBtn="重试";this.switchInterFace("afterPay");this.$update()}},validate:function(){var e=/(^[0-9A-Za-z*]{15}$)|(^[0-9A-Za-z*]{18}$)/;if(!this.data.name||""==this.data.name.trim()){t.show("请填写收货人姓名");return!1}if(!this.data.idCard||""==this.data.idCard.trim()){t.show("请填写身份证信息");return!1}if(!e.test(this.data.idCard)){t.show("身份证号码格式有误，请重试");return!1}return!0}});return s},75,2,24,473,26);I$(297,function(s,o,e,a,i){var n=s._$klass(),t=n._$extend(o._$$EventTarget);t.__reset=function(i){this.__super();var e=navigator.userAgent.toLowerCase(),t=/newsapp\/(\d+)/.exec(e);if(t&&2===t.length&&parseFloat(t[1])>=4)this._$isNewsApp=!0;else this._$isNewsApp=!1;this.__userinfoScheme="userinfo://";this.__loginScheme="login://"};t._$getUserInfo=function(t){if(this._$isNewsApp){var i="__newsapp_userinfo_done";if(!window[i]||!e._$isFunction(window[i])){window[i]=function(n){if(n&&n.name)this._$login(function(i){e._$isFunction(t)&&t(i)}._$bind(this),!0);else e._$isFunction(t)&&t();window[i]=null}._$bind(this);location.href=this.__userinfoScheme}}};t._$login=function(t,e){if(this._$isNewsApp){var n="__newsapp_login_done";

window[n]=function(e){if(e&&e.name){i._$cookie("NTES_SESS","");i._$cookie("S_INFO","");this.__createIframe(t,e)}else t()}._$bind(this);location.href=this.__loginScheme+(e?"onlynetease":"")}};t.__createIframe=function(e,i){var t=document.createElement("iframe");t.src="http://global.163.com/urs/crossdomain.html";t.style.display="none";document.body.appendChild(t);t.onload=this.__ifrLoaded._$bind(this,e,i);setTimeout(function(){document.body.removeChild(t)},2e4)};t.__ifrLoaded=function(t,e){var n=i._$cookie("S_INFO");if(n){window.__isKaolaLogin=1;t(e)}else{window.__isKaolaLogin=0;t()}};t.__destroy=function(){this.__super()};return n._$allocate()},1,21,2,26,44);I$(427,'<div class="{{modalClass||\'m-okmodal\'}}"> 	<div class="close" on-click={{this.hide()}}>X</div> 	<div class="content"> 		<p class="text">{{text}}</p> 		<a class="u-wbtn" on-click={{this.confirm()}}>{{btnText}}</a> 	</div> </div>');I$(425,function(n,s,o,t,e,a){var i=e.extend({content:t,config:function(t){t.text=t.text||"sorry,您不符合本次活动规则哦！";t.btnText=t.btnText||"我知道啦"},init:function(){this.supr()},confirm:function(){this.$emit("confirm",this.data);this.destroy()}});return i},75,4,3,427,197);I$(521,'<div class="m-coupmodal"> 	<div class="close" on-click={{this.hide()}}>X</div> 	<div class="b-coupbanner b-coupbanner-1"> 		<h1 class="tit">好手气，抢到了膨胀红包</h1> 		<div class="amount"><span>{{amount||0}}</span></div> 	</div> 	<p class="txt">别急着用！给好友派发膨胀红包，好友领取之后，你的红包将无限变大~</p> 	<div class="btns f-cb"> 		<div class="b-btn b-btn-2" on-click={{this.onShare()}}><span class="icn"></span>分享让红包变大</div> 		<div class="b-btn3" on-click={{this.onShow()}}>查看我的红包</div> 	</div> 	<div class="pic"><img width="100%" src="http://haitao.nos.netease.com/6cbc04f507b643359d935135f2a669e8.png" /></div> </div>');I$(518,function(t,e,i){var n=i.extend({content:e,config:function(e){t.extend(e,{})},init:function(){this.supr()},close:function(){},onShow:function(){location.href="/newyear/before/seedredenvelope.html"},onShare:function(){this.$emit("onShare")}});return n},75,521,197);I$(517,function(n,l,a,e,s,o,r,i,h,c,d,t){i._$$Share=n._$klass();t=i._$$Share._$extend(a._$$EventTarget);t.__reset=function(t){this.__super(t)};t.__init=function(){this.__super()};t.__isInWeixin=function(){return navigator.userAgent.match(/micromessenger/i)};t.__isInYixin=function(){return navigator.userAgent.match(/yixin/i)};t.__isWeibo=function(){return navigator.userAgent.match(/weibo/i)};t._$shareBtnClick=function(t,a){var i=t||window.shareConfig,n=a||{};if(e.isKaolaApp())e.exec({method:"shareKaolaAppMessage",args:i,nativeSucCb:function(){location.reload()}});else if(this.__isInWeixin()||this.__isInYixin()||this.__isWeibo()){this.__onWxShare=r();this.__onWxShare._$openShare(t);this.__wxShare=new s({data:{imgUrl:n.imgUrl||"",imgWidth:n.imgWidth}});this.__wxShare.$inject(document.body);this._$dispatchEvent("wxShare",i)}else{this.__noShare=new o({data:{modalClass:"m-coupmodal m-coupmodal-1",text:"抱歉，本活动只支持在App里分享，立即去下载网易考拉海购APP吧",btnText:"下载APP"}});this.__noShare.$inject(document.body);this.__noShare.$on("confirm",function(t){e.download()});this._$dispatchEvent("noShare")}};return i},1,4,21,75,239,425,222);I$(323,'<div class="filter" on-touchstart={{this.onFilterClick($event)}}>筛选</div> <ul class="type f-cb"> 	<li on-touchstart={{this.onTypeChange($event,0)}}><a href="javascript:void(0);" {{#if sortType==0}}class="current {{desc==1?\'down\':\'\'}}"{{/if}}>人气 </a></li> 	<li on-touchstart={{this.onTypeChange($event,4)}}><a href="javascript:void(0);" {{#if sortType==4}}class="current "{{/if}}>价格 {{#if sortType==4}}<span class="{{desc==1?\'u-arrowdown\':\'u-arrowup\'}}"></span>{{#else}}<span class="u-arrow"></span>{{/if}}</a></li> 	<li on-touchstart={{this.onTypeChange($event,2)}} ref="filter"><a href="javascript:void(0);" {{#if sortType==2}}class="current {{desc==1?\'down\':\'\'}}"{{/if}}>销量 </a></li> </ul> {{#if show}} <div ref="brandCard" {{#if show}}class="m-brandCard cardshow" {{#else}}class="m-brandCard"{{/if}} style="height:{{height}};top:{{top||0}}px"   on-click={{this.hideBrandCard()}}> <ul> 	<li {{#if !brandId}}class="current"{{/if}}><span class="u-brandchecked check">&nbsp;</span><span  on-tap={{this.onBrandClick($event)}} class="allbrand">{{allText||\'全部品牌\'}}</span></li> 	{{#list list as item}} 		<li {{#if brandId==item.id}}class="current"{{/if}} on-tap={{this.onBrandClick($event,item)}}>{{item.name}}<span class="u-brandchecked check">&nbsp;</span></li> 	{{/list}} </ul> </div> <div class="m-brandcardmask "  on-touchstart={{this.hideBrandCard($event)}} ref="brandMask" {{#if show}}style="display:block;top:{{(top+1)||0}}px"{{#else}}style="display:none"{{/if}}> 	<div class="mask"  ></div> </div> {{/if}} ');I$(320,function(a,r,t,e,n,s,l,i){var o=n.extend({template:s,data:{sortType:0,desc:0,brandId:"",list:[],height:0},onFilterClick:function(s){t._$stop(s);var o=this.$refs["filter"].parentNode.parentNode;e._$addClassName(this.parentNode,"m-searchbar-1");var n=o.clientHeight+1;this.data.height=document.body.clientHeight-n-120+"px";this.data.top=n;this.data.show=!this.data.show;if(!this.data.show)this.hideBrandCard();else setTimeout(function(){this.__maskScroll=new i(this.$refs.brandMask,{hScroll:!1,vScroll:!1});this.__iscroll=new i(this.$refs.brandCard,{tap:!0})}._$bind(this),50)},hideBrandCard:function(e){if(e)t._$stop(e.event);this.data.show=!1;this.data.height="0";this.$emit("resetbarcard");if(this.__iscroll){this.__iscroll.destroy();this.__maskScroll.destroy()}},destroy:function(){if(this.__iscroll){this.__iscroll.destroy();this.__maskScroll.destroy()}this.supr()},onTypeChange:function(i,e){t._$stop(i);if(4==e){if(4==this.data.sortType)this.data.desc=!this.data.desc?1:0;else this.data.desc=0;this.data.sortType=e}else if(this.data.sortType==e)return;else{this.data.sortType=e;this.data.desc=1}this.hideBrandCard();this.$emit("typechange",{sortType:this.data.sortType,desc:this.data.desc,changeContent:this.data.sortType})},resetFilterData:function(){this.data.sortType=0;this.data.type=0;this.data.desc=0},onBrandClick:function(o,i){t._$stop(o.event);{var a=o.target,r=e._$offset(a);this.$refs["brandCard"]}if(!(r.y+this.__iscroll.y>parseInt(this.data.height))){var n,s;if(i)if(i.id!=this.data.brandId){if(i){n=this.data.brandId=i.id;s=i.name}}else{this.hideBrandCard();return}else{n=this.data.brandId="";s="全部"}this.$emit("typechange",{sortType:this.data.sortType,desc:this.data.desc,brandId:n,brandName:s,changeContent:""});this.hideBrandCard()}else this.hideBrandCard()}});return o},75,2,3,4,24,323,26,125);I$(537,'<section class="m-mask" r-hide={{hideMask}} on-click="{{hideMask=true}}" on-touchmove="{{this.onMaskTouchMove($event)}}"></section> <section class="m-ruledetail" r-hide={{hideMask}} on-touchmove="{{this.onRuleTouchMove($event)}}">   <div class="title">活动规则</div>   <span class="closeBtn" on-click="{{hideMask=true}}"></span>   <div class="contentWrap" ref="contentWrap">   <div class="content">     <p>活动时间：</p>     <div>12月9日10:00—12月16日10:00</div>     <!-- <p class="rewards">揭榜时间：</p>     <div>11月10日16:00</div> -->     <p class="rewards">活动规则</p>     <ul>       <li><b>1.&nbsp;</b>上传一张本人最时尚的照片，送10元无门槛优惠券；</li>       <li><b>2.&nbsp;</b>助威数满10个，送20元无门槛优惠券；</li>       <li><b>3.&nbsp;</b>活动结束后，助威数最多的前10名用户中：</li>       <li><b>a)&nbsp;</b>助威数最高的用户可以获得日本双人行名额；</li>       <li><b>b)&nbsp;</b>除助威数最高的用户之外，第2-10名皆可获得价值1000元的考拉购物基金。</li>       <!-- <li><b>人气奖：</b>助威数最多的前10名人气宝宝送价值1000元的考拉福袋；</li>       <li><b>幸运奖：</b>抽取20名，获得200元的考拉福袋；</li> -->       <!-- <dl>         <dd><b>一等奖1名：</b>获得全年尿不湿(24包)；</dd>         <dd><b>二等奖3名：</b>获得半年尿不湿(12包)；</dd>         <dd><b>三等奖6名：</b>获得4包尿不湿。</dd>       </dl> -->     </ul>     <!-- <p class="prize">实物奖品说明</p>     <ul>       <li><b>人气奖：</b>助威数最多的前10名设计师宝宝送价值1000元的考拉福袋；</li>       <li><b>幸运奖：</b>抽取20名，获得200元的考拉福袋；</li>     </ul> -->     <!-- <p class="rewards">福袋奖品说明</p>     <div>活动结束后：助威数最多的前五名，获得1000元的考拉福袋；助威数最多的第六到十名，获得500元考拉福袋。</div>     <p class="rewards">晒什么送什么奖品说明</p>     <div>小考拉将从所有参与者选出5名脑洞最大的最佳创意炫富，获得网易考拉创意大富翁称号，奖品为所晒物品！（创意炫富奖品举例：你画一个手表出来，小考拉送你一个真实的手表！）<br><b>温馨提示：晒什么送什么奖品总价值上限为5000元；</b></div> -->     <p class="intro">活动说明</p>     <ul>       <li><b>1.&nbsp;</b>用户需要下载网易考拉海购APP，在晒图页面上传本人照片；</li>       <li><b>2.&nbsp;</b>为了保证图片质量，上传的照片如果不符合要求，将会被清除；</li>       <li><b>3.&nbsp;</b>用户中途更换照片，助威数将清零；</li>       <li><b>4.&nbsp;</b>优惠券由系统自动派发，请在我的考拉—我的优惠券查看；</li>       <li><b>5.&nbsp;</b>优惠券不可与其他优惠券叠加使用；</li>       <li><b>6.&nbsp;</b>优惠券有效期：2015年12月12日00:00:00-2015年12月31日23:59:59，逾期作废；</li>       <li><b>7.&nbsp;</b>考拉消费基金将以优惠券形式发放；</li>       <li><b>8.&nbsp;</b>通过任何不正当行为的刷票，考拉有权直接取消所有奖品；</li>       <li><b>9.&nbsp;</b>活动结束后，考拉会对助威数进行统计并揭晓中奖名单，并在10个工作日内联系获奖用户安排奖品发放；</li>       <li><b>10.&nbsp;</b>日本具体行程有可能微调，以最后确定行程为准。</li>     </ul>   </div>   </div> </section>');I$(533,function(s,o,t,e,a,i){var n=t.extend({template:e,config:function(t){},init:function(t){setTimeout(function(){this.__iscroll=new i(this.$refs.contentWrap,{tap:!0})}._$bind(this),0)},onMaskTouchMove:function(t){t.preventDefault();return!1},onRuleTouchMove:function(t){}});return n},75,2,24,537,26,125);I$(538,'<section class="m-mask" r-hide={{hideMask}} on-click="{{hideMask=true}}" on-touchmove="{{this.onMaskTouchMove($event)}}"></section> <section class="m-oldversion" r-hide={{hideMask}} on-touchmove="{{this.onMaskTouchMove($event)}}"> 	<div r-hide={{!isApp}}>   		<div class="title">啊哦，您当前版本过低！</div>   		<div class="refer">去应用市场更新最新网易考拉海购，参加晒娃赢全年尿不湿吧！</div>   		<div class="btn" on-click={{this.iKnow($event)}}>我知道啦</div>   		<span class="closeBtn" on-click="{{hideMask=true}}"></span> 	</div> 	<div r-hide={{isApp}}>   		<div class="titleNotApp">下载网易考拉海购APP参加</div>   		<div class="actName"><b>晒娃赢全年尿不湿</b>吧！</div>   		<div class="downloadBtn" on-click={{this.downloadApp($event)}}>立即去下载</div>       <div class="mainPage" r-hide={{!isIndex}}>         <a href="http://m.kaola.com/activity/h5/3830.html">去主会场逛逛&nbsp;&gt;</a>       </div>       <span class="closeBtn" on-click="{{hideMask=true}}"></span> 	</div> </section>');I$(534,function(n,s,t,e,o){
var i=t.extend({template:e,config:function(t){},init:function(t){},onMaskTouchMove:function(t){t.preventDefault();return!1},iKnow:function(){this.data.hideMask=!0;window["_gaq"].push(["_trackEvent","晒娃落地页","我知道了"])},downloadApp:function(){window["_gaq"].push(["_trackEvent","晒娃落地页","去下载"]);if(window.navigator.userAgent.match(/(iPhone|iPod|iPad)/i))window.location.href="http://www.kaola.com/mobile/download.html";else window.location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.kaola"}});return i},75,2,24,538,26);I$(536,'<section class="m-mask m-bigimageMask" r-hide={{hideMask}} on-click={{this.hideBigImg($event)}} on-touchmove="{{this.onMaskTouchMove($event)}}"> 	<img class="m-bigimage" src="{{imgUrl}}" style="{{imgStyle}}" r-hide={{hideMask}} on-touchstart={{this.moveStart($event)}} on-touchmove={{this.imgMove($event)}} on-touchend={{this.moveEnd($event)}} > </section>  ');I$(532,function(n,s,t,e,o){var i=t.extend({template:e,config:function(t){this.data.hideMask=!0},configImage:function(t){var e=document.body.clientWidth,i=Math.round(e*(+t.imgHeight||1)/(+t.imgWidth||1)),n="0px",s=-i/2+"px",o=e+"px",a=i+"px";this.data.allowHorizontal=t.allowHorizontal||!1;this.makeBigImgUrl(t);this.resetImgHost(n,s,o,a);this.$update({hideMask:!1,bigImage:!0})},makeBigImgUrl:function(t){var e="";if(-1!=t.imgUrl.indexOf("haitao.nos"))if(t.imageView)e="?imageView&thumbnail="+(t.imageView.width+""||this.data.defImgViewW)+"x"+(t.imageView.height||this.data.defImgViewH)+"&quality="+(t.imageView.quality||this.data.defImgViewQ)+"&";else e="?imageView&thumbnail="+this.data.defImgViewW+"x"+this.data.defImgViewH+"&quality="+this.data.defImgViewQ+"&";this.data.imgUrl=t.imgUrl.split("?")[0]+e},resetImgHost:function(t,e,i,n){this.getImgHost().setAttribute("style","left:"+t+";margin-top:"+e+";width:"+i+";height:"+n+";")},getImgHost:function(){if(!this.imgHost)this.imgHost=document.querySelector(".m-bigimage");return this.imgHost},init:function(){this.defaultNos();this.historyEvent();this.initBigImage()},defaultNos:function(){this.data.defImgViewW=640;this.data.defImgViewH=0;this.data.defImgViewQ=90},historyEvent:function(){window.addEventListener("popstate",function(t){this.$update({hideMask:!0,bigImage:!1})}._$bind(this),!1)},initBigImage:function(){this.$watch("bigImage",function(t){if(t===!0)window.history.pushState({},"","")})},hideBigImg:function(){window.history.back()},onMaskTouchMove:function(t){t.preventDefault();return!1},moveStart:function(t){if(this.data.allowHorizontal){this.data.imgStartX=t.event.touches[0].pageX;this.data.imgStartL=+(t.target.style.left||"0px").slice(0,-2)}this.data.imgStartY=t.event.touches[0].pageY;this.data.imgStartMT=+(t.target.style.marginTop||"0px").slice(0,-2)},imgMove:function(t){if(this.data.allowHorizontal)t.target.style.left=this.data.imgStartL+t.event.touches[0].pageX-this.data.imgStartX+"px";t.target.style.marginTop=this.data.imgStartMT+t.event.touches[0].pageY-this.data.imgStartY+"px"},moveEnd:function(t){}});return i},75,2,24,536,26);I$(546,'<section class="m-mask" r-hide={{hideMask}} on-click="{{hideMask=true}}" on-touchmove="{{this.onMaskTouchMove($event)}}"></section> <section class="m-reupload" r-hide={{hideMask}} on-touchmove="{{this.onMaskTouchMove($event)}}"> 	<div class="title">&nbsp;&nbsp;确定要重新上传吗？</div>   	<div class="refer">重新上传后将删除原照片并将助威数清零哦！</div>   	<div class="btnWrap f-cb">   		<span class="confirm f-fl" on-click={{this.reUpload($event)}}>确定</span>       	<span class="cancle f-fr" on-click="{{hideMask=true}}">取消</span>       </div>   	<span class="closeBtn" on-click={{hideMask=true}}></span> </section>');I$(542,function(n,s,n,t,e,o){var i=t.extend({template:e,config:function(t){},init:function(t){},reUpload:function(){this.data.hideMask=!0;this.data.cb()},onMaskTouchMove:function(t){t.preventDefault();return!1}});return i},75,2,75,24,546,26);
//# sourceMappingURL=./s/core.map 